,de,oe,ie);else this._doProgress(fe,ce,de,oe,ie)}this._dueIndex=de;var me=this._settedOutputEnd!=null?this._settedOutputEnd:de;this._outputDueEnd=me}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,u,c,ee,te){iterator.reset(u,c,ee,te),this._callingProgress=t,this._callingProgress({start:u,end:c,count:c-u,next:iterator.next},this.context)},n.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var u,c;!t&&this._reset&&(u=this._reset(this.context),u&&u.progress&&(c=u.forceFirstProgress,u=u.progress),isArray$6(u)&&!u.length&&(u=null)),this._progress=u,this._modBy=this._modDataCount=null;var ee=this._downstream;return ee&&ee.dirty(),c},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),iterator=function(){var n,t,u,c,ee,te={reset:function(oe,ie,se,ue){t=oe,n=ie,u=se,c=ue,ee=Math.ceil(c/u),te.next=u>1&&c>0?ne:ae}};return te;function ae(){return t<n?t++:null}function ne(){var oe=t%ee*u+Math.ceil(t/ee),ie=t>=n?null:oe<c?oe:t;return t++,ie}}();function parseDataValue(n,t){var u=t&&t.type;return u==="ordinal"?n:(u==="time"&&!isNumber(n)&&n!=null&&n!=="-"&&(n=+parseDate(n)),n==null||n===""?NaN:Number(n))}createHashMap({number:function(n){return parseFloat(n)},time:function(n){return+parseDate(n)},trim:function(n){return isString(n)?trim$1(n):n}});var SortOrderComparator=function(){function n(t,u){var c=t==="desc";this._resultLT=c?1:-1,u==null&&(u=c?"min":"max"),this._incomparable=u==="min"?-1/0:1/0}return n.prototype.evaluate=function(t,u){var c=isNumber(t)?t:numericToNumber(t),ee=isNumber(u)?u:numericToNumber(u),te=isNaN(c),ae=isNaN(ee);if(te&&(c=this._incomparable),ae&&(ee=this._incomparable),te&&ae){var ne=isString(t),oe=isString(u);ne&&(c=oe?t:0),oe&&(ee=ne?u:0)}return c<ee?this._resultLT:c>ee?-this._resultLT:0},n}(),ExternalSource=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,u){},n.prototype.retrieveValueFromItem=function(t,u){},n.prototype.convertValue=function(t,u){return parseDataValue(t,u)},n}();function createExternalSource(n,t){var u=new ExternalSource,c=n.data,ee=u.sourceFormat=n.sourceFormat,te=n.startIndex,ae="";n.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(ae);var ne=[],oe={},ie=n.dimensionsDefine;if(ie)each$3(ie,function(fe,pe){var me=fe.name,ge={index:pe,name:me,displayName:fe.displayName};if(ne.push(ge),me!=null){var De="";hasOwn(oe,me)&&throwError(De),oe[me]=ge}});else for(var se=0;se<n.dimensionsDetectedCount;se++)ne.push({index:se});var ue=getRawSourceItemGetter(ee,SERIES_LAYOUT_BY_COLUMN);t.__isBuiltIn&&(u.getRawDataItem=function(fe){return ue(c,te,ne,fe)},u.getRawData=bind$4(getRawData,null,n)),u.cloneRawData=bind$4(cloneRawData,null,n);var le=getRawSourceDataCounter(ee,SERIES_LAYOUT_BY_COLUMN);u.count=bind$4(le,null,c,te,ne);var ce=getRawSourceValueGetter(ee);u.retrieveValue=function(fe,pe){var me=ue(c,te,ne,fe);return de(me,pe)};var de=u.retrieveValueFromItem=function(fe,pe){if(fe!=null){var me=ne[pe];if(me)return ce(fe,pe,me.name)}};return u.getDimensionInfo=bind$4(getDimensionInfo,null,ne,oe),u.cloneAllDimensionInfo=bind$4(cloneAllDimensionInfo,null,ne),u}function getRawData(n){var t=n.sourceFormat;if(!isSupportedSourceFormat(t)){var u="";throwError(u)}return n.data}function cloneRawData(n){var t=n.sourceFormat,u=n.data;if(!isSupportedSourceFormat(t)){var c="";throwError(c)}if(t===SOURCE_FORMAT_ARRAY_ROWS){for(var ee=[],te=0,ae=u.length;te<ae;te++)ee.push(u[te].slice());return ee}else if(t===SOURCE_FORMAT_OBJECT_ROWS){for(var ee=[],te=0,ae=u.length;te<ae;te++)ee.push(extend({},u[te]));return ee}}function getDimensionInfo(n,t,u){if(u!=null){if(isNumber(u)||!isNaN(u)&&!hasOwn(t,u))return n[u];if(hasOwn(t,u))return t[u]}}function cloneAllDimensionInfo(n){return clone$3(n)}var externalTransformMap=createHashMap();function registerExternalTransform(n){n=clone$3(n);var t=n.type,u="";t||throwError(u);var c=t.split(":");c.length!==2&&throwError(u);var ee=!1;c[0]==="echarts"&&(t=c[1],ee=!0),n.__isBuiltIn=ee,externalTransformMap.set(t,n)}function applyDataTransform(n,t,u){var c=normalizeToArray(n),ee=c.length,te="";ee||throwError(te);for(var ae=0,ne=ee;ae<ne;ae++){var oe=c[ae];t=applySingleDataTransform(oe,t),ae!==ne-1&&(t.length=Math.max(t.length,1))}return t}function applySingleDataTransform(n,t,u,c){var ee="";t.length||throwError(ee),isObject$3(n)||throwError(ee);var te=n.type,ae=externalTransformMap.get(te);ae||throwError(ee);var ne=map$6(t,function(ie){return createExternalSource(ie,ae)}),oe=normalizeToArray(ae.transform({upstream:ne[0],upstreamList:ne,config:clone$3(n.config)}));return map$6(oe,function(ie,se){var ue="";isObject$3(ie)||throwError(ue),ie.data||throwError(ue);var le=detectSourceFormat(ie.data);isSupportedSourceFormat(le)||throwError(ue);var ce,de=t[0];if(de&&se===0&&!ie.dimensions){var fe=de.startIndex;fe&&(ie.data=de.data.slice(0,fe).concat(ie.data)),ce={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:fe,dimensions:de.metaRawOption.dimensions}}else ce={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:ie.dimensions};return createSource(ie.data,ce,null)})}function isSupportedSourceFormat(n){return n===SOURCE_FORMAT_ARRAY_ROWS||n===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(n){return n>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(n){var t=n.constructor;return t===Array?n.slice():new t(n)}function prepareStore(n,t,u,c,ee){var te=dataCtors[u||"float"];if(ee){var ae=n[t],ne=ae&&ae.length;if(ne!==c){for(var oe=new te(c),ie=0;ie<ne;ie++)oe[ie]=ae[ie];n[t]=oe}}else n[t]=new te(c)}var DataStore=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return n.prototype.initData=function(t,u,c){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var ee=t.getSource(),te=this.defaultDimValueGetter=defaultDimValueGetters[ee.sourceFormat];this._dimValueGetter=c||te,this._rawExtent=[],shouldRetrieveDataByName(ee),this._dimensions=map$6(u,function(ae){return{type:ae.type,property:ae.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,u){var c=this._calcDimNameToIdx,ee=this._dimensions,te=c.get(t);if(te!=null){if(ee[te].type===u)return te}else te=ee.length;return ee[te]={type:u},c.set(t,te),this._chunks[te]=new dataCtors[u||"float"](this._rawCount),this._rawExtent[te]=getInitialExtent(),te},n.prototype.collectOrdinalMeta=function(t,u){var c=this._chunks[t],ee=this._dimensions[t],te=this._rawExtent,ae=ee.ordinalOffset||0,ne=c.length;ae===0&&(te[t]=getInitialExtent());for(var oe=te[t],ie=ae;ie<ne;ie++){var se=c[ie]=u.parseAndCollect(c[ie]);isNaN(se)||(oe[0]=Math.min(se,oe[0]),oe[1]=Math.max(se,oe[1]))}ee.ordinalMeta=u,ee.ordinalOffset=ne,ee.type="ordinal"},n.prototype.getOrdinalMeta=function(t){var u=this._dimensions[t],c=u.ordinalMeta;return c},n.prototype.getDimensionProperty=function(t){var u=this._dimensions[t];return u&&u.property},n.prototype.appendData=function(t){var u=this._provider,c=this.count();u.appendData(t);var ee=u.count();return u.persistent||(ee+=c),c<ee&&this._initDataFromProvider(c,ee,!0),[c,ee]},n.prototype.appendValues=function(t,u){for(var c=this._chunks,ee=this._dimensions,te=ee.length,ae=this._rawExtent,ne=this.count(),oe=ne+Math.max(t.length,u||0),ie=0;ie<te;ie++){var se=ee[ie];prepareStore(c,ie,se.type,oe,!0)}for(var ue=[],le=ne;le<oe;le++)for(var ce=le-ne,de=0;de<te;de++){var se=ee[de],fe=defaultDimValueGetters.arrayRows.call(this,t[ce]||ue,se.property,ce,de);c[de][le]=fe;var pe=ae[de];fe<pe[0]&&(pe[0]=fe),fe>pe[1]&&(pe[1]=fe)}return this._rawCount=this._count=oe,{start:ne,end:oe}},n.prototype._initDataFromProvider=function(t,u,c){for(var ee=this._provider,te=this._chunks,ae=this._dimensions,ne=ae.length,oe=this._rawExtent,ie=map$6(ae,function(ge){return ge.property}),se=0;se<ne;se++){var ue=ae[se];oe[se]||(oe[se]=getInitialExtent()),prepareStore(te,se,ue.type,u,c)}if(ee.fillStorage)ee.fillStorage(t,u,te,oe);else for(var le=[],ce=t;ce<u;ce++){le=ee.getItem(ce,le);for(var de=0;de<ne;de++){var fe=te[de],pe=this._dimValueGetter(le,ie[de],ce,de);fe[ce]=pe;var me=oe[de];pe<me[0]&&(me[0]=pe),pe>me[1]&&(me[1]=pe)}}!ee.persistent&&ee.clean&&ee.clean(),this._rawCount=this._count=u,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,u){if(!(u>=0&&u<this._count))return NaN;var c=this._chunks[t];return c?c[this.getRawIndex(u)]:NaN},n.prototype.getValues=function(t,u){var c=[],ee=[];if(u==null){u=t,t=[];for(var te=0;te<this._dimensions.length;te++)ee.push(te)}else ee=t;for(var te=0,ae=ee.length;te<ae;te++)c.push(this.get(ee[te],u));return c},n.prototype.getByRawIndex=function(t,u){if(!(u>=0&&u<this._rawCount))return NaN;var c=this._chunks[t];return c?c[u]:NaN},n.prototype.getSum=function(t){var u=this._chunks[t],c=0;if(u)for(var ee=0,te=this.count();ee<te;ee++){var ae=this.get(t,ee);isNaN(ae)||(c+=ae)}return c},n.prototype.getMedian=function(t){var u=[];this.each([t],function(te){isNaN(te)||u.push(te)});var c=u.sort(function(te,ae){return te-ae}),ee=this.count();return ee===0?0:ee%2===1?c[(ee-1)/2]:(c[ee/2]+c[ee/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var u=this._indices,c=u[t];if(c!=null&&c<this._count&&c===t)return t;for(var ee=0,te=this._count-1;ee<=te;){var ae=(ee+te)/2|0;if(u[ae]<t)ee=ae+1;else if(u[ae]>t)te=ae-1;else return ae}return-1},n.prototype.indicesOfNearest=function(t,u,c){var ee=this._chunks,te=ee[t],ae=[];if(!te)return ae;c==null&&(c=1/0);for(var ne=1/0,oe=-1,ie=0,se=0,ue=this.count();se<ue;se++){var le=this.getRawIndex(se),ce=u-te[le],de=Math.abs(ce);de<=c&&((de<ne||de===ne&&ce>=0&&oe<0)&&(ne=de,oe=ce,ie=0),ce===oe&&(ae[ie++]=se))}return ae.length=ie,ae},n.prototype.getIndices=function(){var t,u=this._indices;if(u){var c=u.constructor,ee=this._count;if(c===Array){t=new c(ee);for(var te=0;te<ee;te++)t[te]=u[te]}else t=new c(u.buffer,0,ee)}else{var c=getIndicesCtor(this._rawCount);t=new c(this.count());for(var te=0;te<t.length;te++)t[te]=te}return t},n.prototype.filter=function(t,u){if(!this._count)return this;for(var c=this.clone(),ee=c.count(),te=getIndicesCtor(c._rawCount),ae=new te(ee),ne=[],oe=t.length,ie=0,se=t[0],ue=c._chunks,le=0;le<ee;le++){var ce=void 0,de=c.getRawIndex(le);if(oe===0)ce=u(le);else if(oe===1){var fe=ue[se][de];ce=u(fe,le)}else{for(var pe=0;pe<oe;pe++)ne[pe]=ue[t[pe]][de];ne[pe]=le,ce=u.apply(null,ne)}ce&&(ae[ie++]=de)}return ie<ee&&(c._indices=ae),c._count=ie,c._extent=[],c._updateGetRawIdx(),c},n.prototype.selectRange=function(t){var u=this.clone(),c=u._count;if(!c)return this;var ee=keys$2(t),te=ee.length;if(!te)return this;var ae=u.count(),ne=getIndicesCtor(u._rawCount),oe=new ne(ae),ie=0,se=ee[0],ue=t[se][0],le=t[se][1],ce=u._chunks,de=!1;if(!u._indices){var fe=0;if(te===1){for(var pe=ce[ee[0]],me=0;me<c;me++){var ge=pe[me];(ge>=ue&&ge<=le||isNaN(ge))&&(oe[ie++]=fe),fe++}de=!0}else if(te===2){for(var pe=ce[ee[0]],De=ce[ee[1]],Ce=t[ee[1]][0],we=t[ee[1]][1],me=0;me<c;me++){var ge=pe[me],xe=De[me];(ge>=ue&&ge<=le||isNaN(ge))&&(xe>=Ce&&xe<=we||isNaN(xe))&&(oe[ie++]=fe),fe++}de=!0}}if(!de)if(te===1)for(var me=0;me<ae;me++){var Re=u.getRawIndex(me),ge=ce[ee[0]][Re];(ge>=ue&&ge<=le||isNaN(ge))&&(oe[ie++]=Re)}else for(var me=0;me<ae;me++){for(var Be=!0,Re=u.getRawIndex(me),Se=0;Se<te;Se++){var Te=ee[Se],ge=ce[Te][Re];(ge<t[Te][0]||ge>t[Te][1])&&(Be=!1)}Be&&(oe[ie++]=u.getRawIndex(me))}return ie<ae&&(u._indices=oe),u._count=ie,u._extent=[],u._updateGetRawIdx(),u},n.prototype.map=function(t,u){var c=this.clone(t);return this._updateDims(c,t,u),c},n.prototype.modify=function(t,u){this._updateDims(this,t,u)},n.prototype._updateDims=function(t,u,c){for(var ee=t._chunks,te=[],ae=u.length,ne=t.count(),oe=[],ie=t._rawExtent,se=0;se<u.length;se++)ie[u[se]]=getInitialExtent();for(var ue=0;ue<ne;ue++){for(var le=t.getRawIndex(ue),ce=0;ce<ae;ce++)oe[ce]=ee[u[ce]][le];oe[ae]=ue;var de=c&&c.apply(null,oe);if(de!=null){typeof de!="object"&&(te[0]=de,de=te);for(var se=0;se<de.length;se++){var fe=u[se],pe=de[se],me=ie[fe],ge=ee[fe];ge&&(ge[le]=pe),pe<me[0]&&(me[0]=pe),pe>me[1]&&(me[1]=pe)}}}},n.prototype.lttbDownSample=function(t,u){var c=this.clone([t],!0),ee=c._chunks,te=ee[t],ae=this.count(),ne=0,oe=Math.floor(1/u),ie=this.getRawIndex(0),se,ue,le,ce=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(ae/oe)+2)*2,ae));ce[ne++]=ie;for(var de=1;de<ae-1;de+=oe){for(var fe=Math.min(de+oe,ae-1),pe=Math.min(de+oe*2,ae),me=(pe+fe)/2,ge=0,De=fe;De<pe;De++){var Ce=this.getRawIndex(De),we=te[Ce];isNaN(we)||(ge+=we)}ge/=pe-fe;var xe=de,Re=Math.min(de+oe,ae),Be=de-1,Se=te[ie];se=-1,le=xe;for(var Te=-1,Ae=0,De=xe;De<Re;De++){var Ce=this.getRawIndex(De),we=te[Ce];if(isNaN(we)){Ae++,Te<0&&(Te=Ce);continue}ue=Math.abs((Be-me)*(we-Se)-(Be-De)*(ge-Se)),ue>se&&(se=ue,le=Ce)}Ae>0&&Ae<Re-xe&&(ce[ne++]=Math.min(Te,le),le=Math.max(Te,le)),ce[ne++]=le,ie=le}return ce[ne++]=this.getRawIndex(ae-1),c._count=ne,c._indices=ce,c.getRawIndex=this._getRawIdx,c},n.prototype.minmaxDownSample=function(t,u){for(var c=this.clone([t],!0),ee=c._chunks,te=Math.floor(1/u),ae=ee[t],ne=this.count(),oe=new(getIndicesCtor(this._rawCount))(Math.ceil(ne/te)*2),ie=0,se=0;se<ne;se+=te){var ue=se,le=ae[this.getRawIndex(ue)],ce=se,de=ae[this.getRawIndex(ce)],fe=te;se+te>ne&&(fe=ne-se);for(var pe=0;pe<fe;pe++){var me=this.getRawIndex(se+pe),ge=ae[me];ge<le&&(le=ge,ue=se+pe),ge>de&&(de=ge,ce=se+pe)}var De=this.getRawIndex(ue),Ce=this.getRawIndex(ce);ue<ce?(oe[ie++]=De,oe[ie++]=Ce):(oe[ie++]=Ce,oe[ie++]=De)}return c._count=ie,c._indices=oe,c._updateGetRawIdx(),c},n.prototype.downSample=function(t,u,c,ee){for(var te=this.clone([t],!0),ae=te._chunks,ne=[],oe=Math.floor(1/u),ie=ae[t],se=this.count(),ue=te._rawExtent[t]=getInitialExtent(),le=new(getIndicesCtor(this._rawCount))(Math.ceil(se/oe)),ce=0,de=0;de<se;de+=oe){oe>se-de&&(oe=se-de,ne.length=oe);for(var fe=0;fe<oe;fe++){var pe=this.getRawIndex(de+fe);ne[fe]=ie[pe]}var me=c(ne),ge=this.getRawIndex(Math.min(de+ee(ne,me)||0,se-1));ie[ge]=me,me<ue[0]&&(ue[0]=me),me>ue[1]&&(ue[1]=me),le[ce++]=ge}return te._count=ce,te._indices=le,te._updateGetRawIdx(),te},n.prototype.each=function(t,u){if(this._count)for(var c=t.length,ee=this._chunks,te=0,ae=this.count();te<ae;te++){var ne=this.getRawIndex(te);switch(c){case 0:u(te);break;case 1:u(ee[t[0]][ne],te);break;case 2:u(ee[t[0]][ne],ee[t[1]][ne],te);break;default:for(var oe=0,ie=[];oe<c;oe++)ie[oe]=ee[t[oe]][ne];ie[oe]=te,u.apply(null,ie)}}},n.prototype.getDataExtent=function(t){var u=this._chunks[t],c=getInitialExtent();if(!u)return c;var ee=this.count(),te=!this._indices,ae;if(te)return this._rawExtent[t].slice();if(ae=this._extent[t],ae)return ae.slice();ae=c;for(var ne=ae[0],oe=ae[1],ie=0;ie<ee;ie++){var se=this.getRawIndex(ie),ue=u[se];ue<ne&&(ne=ue),ue>oe&&(oe=ue)}return ae=[ne,oe],this._extent[t]=ae,ae},n.prototype.getRawDataItem=function(t){var u=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(u);for(var c=[],ee=this._chunks,te=0;te<ee.length;te++)c.push(ee[te][u]);return c},n.prototype.clone=function(t,u){var c=new n,ee=this._chunks,te=t&&reduce$4(t,function(ne,oe){return ne[oe]=!0,ne},{});if(te)for(var ae=0;ae<ee.length;ae++)c._chunks[ae]=te[ae]?cloneChunk(ee[ae]):ee[ae];else c._chunks=ee;return this._copyCommonProps(c),u||(c._indices=this._cloneIndices()),c._updateGetRawIdx(),c},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=clone$3(this._extent),t._rawExtent=clone$3(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,u=void 0;if(t===Array){var c=this._indices.length;u=new t(c);for(var ee=0;ee<c;ee++)u[ee]=this._indices[ee]}else u=new t(this._indices);return u}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(u,c,ee,te){return parseDataValue(u[te],this._dimensions[te])}defaultDimValueGetters={arrayRows:t,objectRows:function(u,c,ee,te){return parseDataValue(u[c],this._dimensions[te])},keyedColumns:t,original:function(u,c,ee,te){var ae=u&&(u.value==null?u:u.value);return parseDataValue(ae instanceof Array?ae[te]:ae,this._dimensions[te])},typedArray:function(u,c,ee,te){return u[te]}}}(),n}(),SourceManager=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,u){this._sourceList=t,this._upstreamSignList=u,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,u=this._getUpstreamSourceManagers(),c=!!u.length,ee,te;if(isSeries(t)){var ae=t,ne=void 0,oe=void 0,ie=void 0;if(c){var se=u[0];se.prepareSource(),ie=se.getSource(),ne=ie.data,oe=ie.sourceFormat,te=[se._getVersionSign()]}else ne=ae.get("data",!0),oe=isTypedArray(ne)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,te=[];var ue=this._getSourceMetaRawOption()||{},le=ie&&ie.metaRawOption||{},ce=retrieve2(ue.seriesLayoutBy,le.seriesLayoutBy)||null,de=retrieve2(ue.sourceHeader,le.sourceHeader),fe=retrieve2(ue.dimensions,le.dimensions),pe=ce!==le.seriesLayoutBy||!!de!=!!le.sourceHeader||fe;ee=pe?[createSource(ne,{seriesLayoutBy:ce,sourceHeader:de,dimensions:fe},oe)]:[]}else{var me=t;if(c){var ge=this._applyTransform(u);ee=ge.sourceList,te=ge.upstreamSignList}else{var De=me.get("source",!0);ee=[createSource(De,this._getSourceMetaRawOption(),null)],te=[]}}this._setLocalSource(ee,te)},n.prototype._applyTransform=function(t){var u=this._sourceHost,c=u.get("transform",!0),ee=u.get("fromTransformResult",!0);if(ee!=null){var te="";t.length!==1&&doThrow(te)}var ae,ne=[],oe=[];return each$3(t,function(ie){ie.prepareSource();var se=ie.getSource(ee||0),ue="";ee!=null&&!se&&doThrow(ue),ne.push(se),oe.push(ie._getVersionSign())}),c?ae=applyDataTransform(c,ne,{datasetIndex:u.componentIndex}):ee!=null&&(ae=[cloneSourceShallow(ne[0])]),{sourceList:ae,upstreamSignList:oe}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),u=0;u<t.length;u++){var c=t[u];if(c._isDirty()||this._upstreamSignList[u]!==c._getVersionSign())return!0}},n.prototype.getSource=function(t){t=t||0;var u=this._sourceList[t];if(!u){var c=this._getUpstreamSourceManagers();return c[0]&&c[0].getSource(t)}return u},n.prototype.getSharedDataStore=function(t){var u=t.makeStoreSchema();return this._innerGetDataStore(u.dimensions,t.source,u.hash)},n.prototype._innerGetDataStore=function(t,u,c){var ee=0,te=this._storeList,ae=te[ee];ae||(ae=te[ee]={});var ne=ae[c];if(!ne){var oe=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&oe?ne=oe._innerGetDataStore(t,u,c):(ne=new DataStore,ne.initData(new DefaultDataProvider(u,t.length),t)),ae[c]=ne}return ne},n.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(isSeries(t)){var u=querySeriesUpstreamDatasetModel(t);return u?[u.getSourceManager()]:[]}else return map$6(queryDatasetUpstreamDatasetModels(t),function(c){return c.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,u,c,ee;if(isSeries(t))u=t.get("seriesLayoutBy",!0),c=t.get("sourceHeader",!0),ee=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var te=t;u=te.get("seriesLayoutBy",!0),c=te.get("sourceHeader",!0),ee=te.get("dimensions",!0)}return{seriesLayoutBy:u,sourceHeader:c,dimensions:ee}},n}();function isSeries(n){return n.mainType==="series"}function doThrow(n){throw new Error(n)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipLineHeight(n){var t=n.lineHeight;return t==null?TOOLTIP_LINE_HEIGHT_CSS:"line-height:"+encodeHTML(t+"")+"px"}function getTooltipTextStyle(n,t){var u=n.color||"#6e7079",c=n.fontSize||12,ee=n.fontWeight||"400",te=n.color||"#464646",ae=n.fontSize||14,ne=n.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+encodeHTML(c+"")+"px;color:"+encodeHTML(u)+";font-weight:"+encodeHTML(ee+""),valueStyle:"font-size:"+encodeHTML(ae+"")+"px;color:"+encodeHTML(te)+";font-weight:"+encodeHTML(ne+"")}:{nameStyle:{fontSize:c,fill:u,fontWeight:ee},valueStyle:{fontSize:ae,fill:te,fontWeight:ne}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(n,t){return t.type=n,t}function isSectionFragment(n){return n.type==="section"}function getBuilder(n){return isSectionFragment(n)?buildSection:buildNameValue}function getBlockGapLevel(n){if(isSectionFragment(n)){var t=0,u=n.blocks.length,c=u>1||u>0&&!n.noHeader;return each$3(n.blocks,function(ee){var te=getBlockGapLevel(ee);te>=t&&(t=te+ +(c&&(!te||isSectionFragment(ee)&&!ee.noHeader)))}),t}return 0}function buildSection(n,t,u,c){var ee=t.noHeader,te=getGap(getBlockGapLevel(t)),ae=[],ne=t.blocks||[];assert(!ne||isArray$6(ne)),ne=ne||[];var oe=n.orderMode;if(t.sortBlocks&&oe){ne=ne.slice();var ie={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(ie,oe)){var se=new SortOrderComparator(ie[oe],null);ne.sort(function(fe,pe){return se.evaluate(fe.sortParam,pe.sortParam)})}else oe==="seriesDesc"&&ne.reverse()}each$3(ne,function(fe,pe){var me=t.valueFormatter,ge=getBuilder(fe)(me?extend(extend({},n),{valueFormatter:me}):n,fe,pe>0?te.html:0,c);ge!=null&&ae.push(ge)});var ue=n.renderMode==="richText"?ae.join(te.richText):wrapBlockHTML(c,ae.join(""),ee?u:te.html);if(ee)return ue;var le=makeValueReadable(t.header,"ordinal",n.useUTC),ce=getTooltipTextStyle(c,n.renderMode).nameStyle,de=getTooltipLineHeight(c);return n.renderMode==="richText"?wrapInlineNameRichText(n,le,ce)+te.richText+ue:wrapBlockHTML(c,'<div style="'+ce+";"+de+';">'+encodeHTML(le)+"</div>"+ue,u)}function buildNameValue(n,t,u,c){var ee=n.renderMode,te=t.noName,ae=t.noValue,ne=!t.markerType,oe=t.name,ie=n.useUTC,se=t.valueFormatter||n.valueFormatter||function(Ce){return Ce=isArray$6(Ce)?Ce:[Ce],map$6(Ce,function(we,xe){return makeValueReadable(we,isArray$6(ce)?ce[xe]:ce,ie)})};if(!(te&&ae)){var ue=ne?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",ee),le=te?"":makeValueReadable(oe,"ordinal",ie),ce=t.valueType,de=ae?[]:se(t.value,t.dataIndex),fe=!ne||!te,pe=!ne&&te,me=getTooltipTextStyle(c,ee),ge=me.nameStyle,De=me.valueStyle;return ee==="richText"?(ne?"":ue)+(te?"":wrapInlineNameRichText(n,le,ge))+(ae?"":wrapInlineValueRichText(n,de,fe,pe,De)):wrapBlockHTML(c,(ne?"":ue)+(te?"":wrapInlineNameHTML(le,!ne,ge))+(ae?"":wrapInlineValueHTML(de,fe,pe,De)),u)}}function buildTooltipMarkup(n,t,u,c,ee,te){if(n){var ae=getBuilder(n),ne={useUTC:ee,renderMode:u,orderMode:c,markupStyleCreator:t,valueFormatter:n.valueFormatter};return ae(ne,n,0,te)}}function getGap(n){return{html:HTML_GAPS[n],richText:RICH_TEXT_GAPS[n]}}function wrapBlockHTML(n,t,u){var c='<div style="clear:both"></div>',ee="margin: "+u+"px 0 0",te=getTooltipLineHeight(n);return'<div style="'+ee+";"+te+';">'+t+c+"</div>"}function wrapInlineNameHTML(n,t,u){var c=t?"margin-left:2px":"";return'<span style="'+u+";"+c+'">'+encodeHTML(n)+"</span>"}function wrapInlineValueHTML(n,t,u,c){var ee=u?"10px":"20px",te=t?"float:right;margin-left:"+ee:"";return n=isArray$6(n)?n:[n],'<span style="'+te+";"+c+'">'+map$6(n,function(ae){return encodeHTML(ae)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(n,t,u){return n.markupStyleCreator.wrapRichTextStyle(t,u)}function wrapInlineValueRichText(n,t,u,c,ee){var te=[ee],ae=c?10:20;return u&&te.push({padding:[0,0,0,ae],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(isArray$6(t)?t.join("  "):t,te)}function retrieveVisualColorForTooltipMarker(n,t){var u=n.getData().getItemVisual(t,"style"),c=u[n.visualDrawType];return convertToColorString(c)}function getPaddingFromTooltipModel(n,t){var u=n.get("padding");return u??(t==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function n(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,u,c){var ee=c==="richText"?this._generateStyleName():null,te=getTooltipMarker({color:u,type:t,renderMode:c,markerId:ee});return isString(te)?te:(this.richTextStyles[ee]=te.style,te.content)},n.prototype.wrapRichTextStyle=function(t,u){var c={};isArray$6(u)?each$3(u,function(te){return extend(c,te)}):extend(c,u);var ee=this._generateStyleName();return this.richTextStyles[ee]=c,"{"+ee+"|"+t+"}"},n}();function defaultSeriesFormatTooltip(n){var t=n.series,u=n.dataIndex,c=n.multipleSeries,ee=t.getData(),te=ee.mapDimensionsAll("defaultedTooltip"),ae=te.length,ne=t.getRawValue(u),oe=isArray$6(ne),ie=retrieveVisualColorForTooltipMarker(t,u),se,ue,le,ce;if(ae>1||oe&&!ae){var de=formatTooltipArrayValue(ne,t,u,te,ie);se=de.inlineValues,ue=de.inlineValueTypes,le=de.blocks,ce=de.inlineValues[0]}else if(ae){var fe=ee.getDimensionInfo(te[0]);ce=se=retrieveRawValue(ee,u,te[0]),ue=fe.type}else ce=se=oe?ne[0]:ne;var pe=isNameSpecified(t),me=pe&&t.name||"",ge=ee.getName(u),De=c?me:ge;return createTooltipMarkup("section",{header:me,noHeader:c||!pe,sortParam:ce,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:ie,name:De,noName:!trim$1(De),value:se,valueType:ue,dataIndex:u})].concat(le||[])})}function formatTooltipArrayValue(n,t,u,c,ee){var te=t.getData(),ae=reduce$4(n,function(ue,le,ce){var de=te.getDimensionInfo(ce);return ue=ue||de&&de.tooltip!==!1&&de.displayName!=null},!1),ne=[],oe=[],ie=[];c.length?each$3(c,function(ue){se(retrieveRawValue(te,u,ue),ue)}):each$3(n,se);function se(ue,le){var ce=te.getDimensionInfo(le);!ce||ce.otherDims.tooltip===!1||(ae?ie.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:ee,name:ce.displayName,value:ue,valueType:ce.type})):(ne.push(ue),oe.push(ce.type)))}return{inlineValues:ne,inlineValueTypes:oe,blocks:ie}}var inner$8=makeInner();function getSelectionKey(n,t){return n.getName(t)||n.getId(t)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u._selectedDataIndicesMap={},u}return t.prototype.init=function(u,c,ee){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(u,ee);var te=inner$8(this).sourceManager=new SourceManager(this);te.prepareSource();var ae=this.getInitialData(u,ee);wrapData(ae,this),this.dataTask.context.data=ae,inner$8(this).dataBeforeProcessed=ae,autoSeriesName(this),this._initSelectedMapFromData(ae)},t.prototype.mergeDefaultAndTheme=function(u,c){var ee=fetchLayoutMode(this),te=ee?getLayoutParams(u):{},ae=this.subType;ComponentModel.hasClass(ae)&&(ae+="Series"),merge$2(u,c.getTheme().get(this.subType)),merge$2(u,this.getDefaultOption()),defaultEmphasis(u,"label",["show"]),this.fillDataTextStyle(u.data),ee&&mergeLayoutParam(u,te,ee)},t.prototype.mergeOption=function(u,c){u=merge$2(this.option,u,!0),this.fillDataTextStyle(u.data);var ee=fetchLayoutMode(this);ee&&mergeLayoutParam(this.option,u,ee);var te=inner$8(this).sourceManager;te.dirty(),te.prepareSource();var ae=this.getInitialData(u,c);wrapData(ae,this),this.dataTask.dirty(),this.dataTask.context.data=ae,inner$8(this).dataBeforeProcessed=ae,autoSeriesName(this),this._initSelectedMapFromData(ae)},t.prototype.fillDataTextStyle=function(u){if(u&&!isTypedArray(u))for(var c=["show"],ee=0;ee<u.length;ee++)u[ee]&&u[ee].label&&defaultEmphasis(u[ee],"label",c)},t.prototype.getInitialData=function(u,c){},t.prototype.appendData=function(u){var c=this.getRawData();c.appendData(u.data)},t.prototype.getData=function(u){var c=getCurrentTask(this);if(c){var ee=c.context.data;return u==null||!ee.getLinkedData?ee:ee.getLinkedData(u)}else return inner$8(this).data},t.prototype.getAllData=function(){var u=this.getData();return u&&u.getLinkedDataAll?u.getLinkedDataAll():[{data:u}]},t.prototype.setData=function(u){var c=getCurrentTask(this);if(c){var ee=c.context;ee.outputData=u,c!==this.dataTask&&(ee.data=u)}inner$8(this).data=u},t.prototype.getEncode=function(){var u=this.get("encode",!0);if(u)return createHashMap(u)},t.prototype.getSourceManager=function(){return inner$8(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return inner$8(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var u=this.get("colorBy");return u||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var u=this.coordinateSystem;return u&&u.getBaseAxis&&u.getBaseAxis()},t.prototype.formatTooltip=function(u,c,ee){return defaultSeriesFormatTooltip({series:this,dataIndex:u,multipleSeries:c})},t.prototype.isAnimationEnabled=function(){var u=this.ecModel;if(env.node&&!(u&&u.ssr))return!1;var c=this.getShallow("animation");return c&&this.getData().count()>this.getShallow("animationThreshold")&&(c=!1),!!c},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(u,c,ee){var te=this.ecModel,ae=PaletteMixin.prototype.getColorFromPalette.call(this,u,c,ee);return ae||(ae=te.getColorFromPalette(u,c,ee)),ae},t.prototype.coordDimToDataDim=function(u){return this.getRawData().mapDimensionsAll(u)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(u,c){this._innerSelect(this.getData(c),u)},t.prototype.unselect=function(u,c){var ee=this.option.selectedMap;if(ee){var te=this.option.selectedMode,ae=this.getData(c);if(te==="series"||ee==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var ne=0;ne<u.length;ne++){var oe=u[ne],ie=getSelectionKey(ae,oe);ee[ie]=!1,this._selectedDataIndicesMap[ie]=-1}}},t.prototype.toggleSelect=function(u,c){for(var ee=[],te=0;te<u.length;te++)ee[0]=u[te],this.isSelected(u[te],c)?this.unselect(ee,c):this.select(ee,c)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var u=this._selectedDataIndicesMap,c=keys$2(u),ee=[],te=0;te<c.length;te++){var ae=u[c[te]];ae>=0&&ee.push(ae)}return ee},t.prototype.isSelected=function(u,c){var ee=this.option.selectedMap;if(!ee)return!1;var te=this.getData(c);return(ee==="all"||ee[getSelectionKey(te,u)])&&!te.getItemModel(u).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var u=this.option.universalTransition;return u?u===!0?!0:u&&u.enabled:!1},t.prototype._innerSelect=function(u,c){var ee,te,ae=this.option,ne=ae.selectedMode,oe=c.length;if(!(!ne||!oe)){if(ne==="series")ae.selectedMap="all";else if(ne==="multiple"){isObject$3(ae.selectedMap)||(ae.selectedMap={});for(var ie=ae.selectedMap,se=0;se<oe;se++){var ue=c[se],le=getSelectionKey(u,ue);ie[le]=!0,this._selectedDataIndicesMap[le]=u.getRawIndex(ue)}}else if(ne==="single"||ne===!0){var ce=c[oe-1],le=getSelectionKey(u,ce);ae.selectedMap=(ee={},ee[le]=!0,ee),this._selectedDataIndicesMap=(te={},te[le]=u.getRawIndex(ce),te)}}},t.prototype._initSelectedMapFromData=function(u){if(!this.option.selectedMap){var c=[];u.hasItemOption&&u.each(function(ee){var te=u.getRawDataItem(ee);te&&te.selected&&c.push(ee)}),c.length>0&&this._innerSelect(u,c)}},t.registerClass=function(u){return ComponentModel.registerClass(u)},t.protoInitialize=function(){var u=t.prototype;u.type="series.__base__",u.seriesIndex=0,u.ignoreStyleOnData=!1,u.hasSymbolVisual=!1,u.defaultSymbol="circle",u.visualStyleAccessPath="itemStyle",u.visualDrawType="fill"}(),t}(ComponentModel);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel);function autoSeriesName(n){var t=n.name;isNameSpecified(n)||(n.name=getSeriesAutoName(n)||t)}function getSeriesAutoName(n){var t=n.getRawData(),u=t.mapDimensionsAll("seriesName"),c=[];return each$3(u,function(ee){var te=t.getDimensionInfo(ee);te.displayName&&c.push(te.displayName)}),c.join(" ")}function dataTaskCount(n){return n.model.getRawData().count()}function dataTaskReset(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function wrapData(n,t){each$3(concatArray(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(u){n.wrapMethod(u,curry(onDataChange,t))})}function onDataChange(n,t){var u=getCurrentTask(n);return u&&u.setOutputEnd((t||this).count()),t}function getCurrentTask(n){var t=(n.ecModel||{}).scheduler,u=t&&t.getPipeline(n.uid);if(u){var c=u.currentTask;if(c){var ee=c.agentStubMap;ee&&(c=ee.get(n.uid))}return c}}var ComponentView=function(){function n(){this.group=new Group,this.uid=getUID("viewComponent")}return n.prototype.init=function(t,u){},n.prototype.render=function(t,u,c,ee){},n.prototype.dispose=function(t,u){},n.prototype.updateView=function(t,u,c,ee){},n.prototype.updateLayout=function(t,u,c,ee){},n.prototype.updateVisual=function(t,u,c,ee){},n.prototype.toggleBlurSeries=function(t,u,c){},n.prototype.eachRendered=function(t){var u=this.group;u&&u.traverse(t)},n}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);function createRenderPlanner(){var n=makeInner();return function(t){var u=n(t),c=t.pipelineContext,ee=!!u.large,te=!!u.progressiveRender,ae=u.large=!!(c&&c.large),ne=u.progressiveRender=!!(c&&c.progressiveRender);return(ee!==ae||te!==ne)&&"reset"}}var inner$7=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function n(){this.group=new Group,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return n.prototype.init=function(t,u){},n.prototype.render=function(t,u,c,ee){},n.prototype.highlight=function(t,u,c,ee){var te=t.getData(ee&&ee.dataType);te&&toggleHighlight(te,ee,"emphasis")},n.prototype.downplay=function(t,u,c,ee){var te=t.getData(ee&&ee.dataType);te&&toggleHighlight(te,ee,"normal")},n.prototype.remove=function(t,u){this.group.removeAll()},n.prototype.dispose=function(t,u){},n.prototype.updateView=function(t,u,c,ee){this.render(t,u,c,ee)},n.prototype.updateLayout=function(t,u,c,ee){this.render(t,u,c,ee)},n.prototype.updateVisual=function(t,u,c,ee){this.render(t,u,c,ee)},n.prototype.eachRendered=function(t){traverseElements(this.group,t)},n.markUpdateMethod=function(t,u){inner$7(t).updateMethod=u},n.protoInitialize=function(){var t=n.prototype;t.type="chart"}(),n}();function elSetState(n,t,u){n&&isHighDownDispatcher(n)&&(t==="emphasis"?enterEmphasis:leaveEmphasis)(n,u)}function toggleHighlight(n,t,u){var c=queryDataIndex(n,t),ee=t&&t.highlightKey!=null?getHighlightDigit(t.highlightKey):null;c!=null?each$3(normalizeToArray(c),function(te){elSetState(n.getItemGraphicEl(te),u,ee)}):n.eachItemGraphicEl(function(te){elSetState(te,u,ee)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(n){return renderPlanner(n.model)}function renderTaskReset(n){var t=n.model,u=n.ecModel,c=n.api,ee=n.payload,te=t.pipelineContext.progressiveRender,ae=n.view,ne=ee&&inner$7(ee).updateMethod,oe=te?"incrementalPrepareRender":ne&&ae[ne]?ne:"render";return oe!=="render"&&ae[oe](t,u,c,ee),progressMethodMap[oe]}var progressMethodMap={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(n,t,u){var c,ee=0,te=0,ae=null,ne,oe,ie,se;t=t||0;function ue(){te=new Date().getTime(),ae=null,n.apply(oe,ie||[])}var le=function(){for(var ce=[],de=0;de<arguments.length;de++)ce[de]=arguments[de];c=new Date().getTime(),oe=this,ie=ce;var fe=se||t,pe=se||u;se=null,ne=c-(pe?ee:te)-fe,clearTimeout(ae),pe?ae=setTimeout(ue,fe):ne>=0?ue():ae=setTimeout(ue,-ne),ee=c};return le.clear=function(){ae&&(clearTimeout(ae),ae=null)},le.debounceNextCall=function(ce){se=ce},le}function createOrUpdate(n,t,u,c){var ee=n[t];if(ee){var te=ee[ORIGIN_METHOD]||ee,ae=ee[THROTTLE_TYPE],ne=ee[RATE];if(ne!==u||ae!==c){if(u==null)return n[t]=te;ee=n[t]=throttle(te,u,c==="debounce"),ee[ORIGIN_METHOD]=te,ee[THROTTLE_TYPE]=c,ee[RATE]=u}return ee}}function clear(n,t){var u=n[t];u&&u[ORIGIN_METHOD]&&(u.clear&&u.clear(),n[t]=u[ORIGIN_METHOD])}var inner$6=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(n,t){var u=n.visualStyleMapper||defaultStyleMappers[t];return u||(console.warn("Unknown style type '"+t+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(n,t){var u=n.visualDrawType||defaultColorKey[t];return u||(console.warn("Unknown style type '"+t+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var u=n.getData(),c=n.visualStyleAccessPath||"itemStyle",ee=n.getModel(c),te=getStyleMapper(n,c),ae=te(ee),ne=ee.getShallow("decal");ne&&(u.setVisual("decal",ne),ne.dirty=!0);var oe=getDefaultColorKey(n,c),ie=ae[oe],se=isFunction(ie)?ie:null,ue=ae.fill==="auto"||ae.stroke==="auto";if(!ae[oe]||se||ue){var le=n.getColorFromPalette(n.name,null,t.getSeriesCount());ae[oe]||(ae[oe]=le,u.setVisual("colorFromPalette",!0)),ae.fill=ae.fill==="auto"||isFunction(ae.fill)?le:ae.fill,ae.stroke=ae.stroke==="auto"||isFunction(ae.stroke)?le:ae.stroke}if(u.setVisual("style",ae),u.setVisual("drawType",oe),!t.isSeriesFiltered(n)&&se)return u.setVisual("colorFromPalette",!1),{dataEach:function(ce,de){var fe=n.getDataParams(de),pe=extend({},ae);pe[oe]=se(fe),ce.setItemVisual(de,"style",pe)}}}},sharedModel=new Model,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!(n.ignoreStyleOnData||t.isSeriesFiltered(n))){var u=n.getData(),c=n.visualStyleAccessPath||"itemStyle",ee=getStyleMapper(n,c),te=u.getVisual("drawType");return{dataEach:u.hasItemOption?function(ae,ne){var oe=ae.getRawDataItem(ne);if(oe&&oe[c]){sharedModel.option=oe[c];var ie=ee(sharedModel),se=ae.ensureUniqueItemVisual(ne,"style");extend(se,ie),sharedModel.option.decal&&(ae.setItemVisual(ne,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),te in ie&&ae.setItemVisual(ne,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(n){var t=createHashMap();n.eachSeries(function(u){var c=u.getColorBy();if(!u.isColorBySeries()){var ee=u.type+"-"+c,te=t.get(ee);te||(te={},t.set(ee,te)),inner$6(u).scope=te}}),n.eachSeries(function(u){if(!(u.isColorBySeries()||n.isSeriesFiltered(u))){var c=u.getRawData(),ee={},te=u.getData(),ae=inner$6(u).scope,ne=u.visualStyleAccessPath||"itemStyle",oe=getDefaultColorKey(u,ne);te.each(function(ie){var se=te.getRawIndex(ie);ee[se]=ie}),c.each(function(ie){var se=ee[ie],ue=te.getItemVisual(se,"colorFromPalette");if(ue){var le=te.ensureUniqueItemVisual(se,"style"),ce=c.getName(ie)||ie+"",de=c.count();le[oe]=u.getColorFromPalette(ce,ae,de)}})}})}},PI$2=Math.PI;function defaultLoading(n,t){t=t||{},defaults(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var u=new Group,c=new Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});u.add(c);var ee=new ZRText({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),te=new Rect({style:{fill:"none"},textContent:ee,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});u.add(te);var ae;return t.showSpinner&&(ae=new Arc({shape:{startAngle:-PI$2/2,endAngle:-PI$2/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),ae.animateShape(!0).when(1e3,{endAngle:PI$2*3/2}).start("circularInOut"),ae.animateShape(!0).when(1e3,{startAngle:PI$2*3/2}).delay(300).start("circularInOut"),u.add(ae)),u.resize=function(){var ne=ee.getBoundingRect().width,oe=t.showSpinner?t.spinnerRadius:0,ie=(n.getWidth()-oe*2-(t.showSpinner&&ne?10:0)-ne)/2-(t.showSpinner&&ne?0:5+ne/2)+(t.showSpinner?0:ne/2)+(ne?0:oe),se=n.getHeight()/2;t.showSpinner&&ae.setShape({cx:ie,cy:se}),te.setShape({x:ie-oe,y:se-oe,width:oe*2,height:oe*2}),c.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},u.resize(),u}var Scheduler=function(){function n(t,u,c,ee){this._stageTaskMap=createHashMap(),this.ecInstance=t,this.api=u,c=this._dataProcessorHandlers=c.slice(),ee=this._visualHandlers=ee.slice(),this._allHandlers=c.concat(ee)}return n.prototype.restoreData=function(t,u){t.restoreData(u),this._stageTaskMap.each(function(c){var ee=c.overallTask;ee&&ee.dirty()})},n.prototype.getPerformArgs=function(t,u){if(t.__pipeline){var c=this._pipelineMap.get(t.__pipeline.id),ee=c.context,te=!u&&c.progressiveEnabled&&(!ee||ee.progressiveRender)&&t.__idxInPipeline>c.blockIndex,ae=te?c.step:null,ne=ee&&ee.modDataCount,oe=ne!=null?Math.ceil(ne/ae):null;return{step:ae,modBy:oe,modDataCount:ne}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,u){var c=this._pipelineMap.get(t.uid),ee=t.getData(),te=ee.count(),ae=c.progressiveEnabled&&u.incrementalPrepareRender&&te>=c.threshold,ne=t.get("large")&&te>=t.get("largeThreshold"),oe=t.get("progressiveChunkMode")==="mod"?te:null;t.pipelineContext=c.context={progressiveRender:ae,modDataCount:oe,large:ne}},n.prototype.restorePipelines=function(t){var u=this,c=u._pipelineMap=createHashMap();t.eachSeries(function(ee){var te=ee.getProgressive(),ae=ee.uid;c.set(ae,{id:ae,head:null,tail:null,threshold:ee.getProgressiveThreshold(),progressiveEnabled:te&&!(ee.preventIncremental&&ee.preventIncremental()),blockIndex:-1,step:Math.round(te||700),count:0}),u._pipe(ee,ee.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,u=this.api.getModel(),c=this.api;each$3(this._allHandlers,function(ee){var te=t.get(ee.uid)||t.set(ee.uid,{}),ae="";assert(!(ee.reset&&ee.overallReset),ae),ee.reset&&this._createSeriesStageTask(ee,te,u,c),ee.overallReset&&this._createOverallStageTask(ee,te,u,c)},this)},n.prototype.prepareView=function(t,u,c,ee){var te=t.renderTask,ae=te.context;ae.model=u,ae.ecModel=c,ae.api=ee,te.__block=!t.incrementalPrepareRender,this._pipe(u,te)},n.prototype.performDataProcessorTasks=function(t,u){this._performStageTasks(this._dataProcessorHandlers,t,u,{block:!0})},n.prototype.performVisualTasks=function(t,u,c){this._performStageTasks(this._visualHandlers,t,u,c)},n.prototype._performStageTasks=function(t,u,c,ee){ee=ee||{};var te=!1,ae=this;each$3(t,function(oe,ie){if(!(ee.visualType&&ee.visualType!==oe.visualType)){var se=ae._stageTaskMap.get(oe.uid),ue=se.seriesTaskMap,le=se.overallTask;if(le){var ce,de=le.agentStubMap;de.each(function(pe){ne(ee,pe)&&(pe.dirty(),ce=!0)}),ce&&le.dirty(),ae.updatePayload(le,c);var fe=ae.getPerformArgs(le,ee.block);de.each(function(pe){pe.perform(fe)}),le.perform(fe)&&(te=!0)}else ue&&ue.each(function(pe,me){ne(ee,pe)&&pe.dirty();var ge=ae.getPerformArgs(pe,ee.block);ge.skip=!oe.performRawSeries&&u.isSeriesFiltered(pe.context.model),ae.updatePayload(pe,c),pe.perform(ge)&&(te=!0)})}});function ne(oe,ie){return oe.setDirty&&(!oe.dirtyMap||oe.dirtyMap.get(ie.__pipeline.id))}this.unfinished=te||this.unfinished},n.prototype.performSeriesTasks=function(t){var u;t.eachSeries(function(c){u=c.dataTask.perform()||u}),this.unfinished=u||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var u=t.tail;do{if(u.__block){t.blockIndex=u.__idxInPipeline;break}u=u.getUpstream()}while(u)})},n.prototype.updatePayload=function(t,u){u!=="remain"&&(t.context.payload=u)},n.prototype._createSeriesStageTask=function(t,u,c,ee){var te=this,ae=u.seriesTaskMap,ne=u.seriesTaskMap=createHashMap(),oe=t.seriesType,ie=t.getTargetSeries;t.createOnAllSeries?c.eachRawSeries(se):oe?c.eachRawSeriesByType(oe,se):ie&&ie(c,ee).each(se);function se(ue){var le=ue.uid,ce=ne.set(le,ae&&ae.get(le)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));ce.context={model:ue,ecModel:c,api:ee,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:te},te._pipe(ue,ce)}},n.prototype._createOverallStageTask=function(t,u,c,ee){var te=this,ae=u.overallTask=u.overallTask||createTask({reset:overallTaskReset});ae.context={ecModel:c,api:ee,overallReset:t.overallReset,scheduler:te};var ne=ae.agentStubMap,oe=ae.agentStubMap=createHashMap(),ie=t.seriesType,se=t.getTargetSeries,ue=!0,le=!1,ce="";assert(!t.createOnAllSeries,ce),ie?c.eachRawSeriesByType(ie,de):se?se(c,ee).each(de):(ue=!1,each$3(c.getSeries(),de));function de(fe){var pe=fe.uid,me=oe.set(pe,ne&&ne.get(pe)||(le=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));me.context={model:fe,overallProgress:ue},me.agent=ae,me.__block=ue,te._pipe(fe,me)}le&&ae.dirty()},n.prototype._pipe=function(t,u){var c=t.uid,ee=this._pipelineMap.get(c);!ee.head&&(ee.head=u),ee.tail&&ee.tail.pipe(u),ee.tail=u,u.__idxInPipeline=ee.count++,u.__pipeline=ee},n.wrapStageHandler=function(t,u){return isFunction(t)&&(t={overallReset:t,seriesType:detectSeriseType(t)}),t.uid=getUID("stageHandler"),u&&(t.visualType=u),t},n}();function overallTaskReset(n){n.overallReset(n.ecModel,n.api,n.payload)}function stubReset(n){return n.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function seriesTaskReset(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=normalizeToArray(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?map$6(t,function(u,c){return makeSeriesTaskProgress(c)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(n){return function(t,u){var c=u.data,ee=u.resetDefines[n];if(ee&&ee.dataEach)for(var te=t.start;te<t.end;te++)ee.dataEach(c,te);else ee&&ee.progress&&ee.progress(t,c)}}function seriesTaskCount(n){return n.data.count()}function detectSeriseType(n){seriesType=null;try{n(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel);mockMethods(apiMock,ExtensionAPI);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(n){seriesType=n};ecModelMock.eachComponent=function(n){n.mainType==="series"&&n.subType&&(seriesType=n.subType)};function mockMethods(n,t){for(var u in t.prototype)n[u]=noop$1}var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor},pageTextStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var ECEventProcessor=function(){function n(){}return n.prototype.normalizeQuery=function(t){var u={},c={},ee={};if(isString(t)){var te=parseClassType(t);u.mainType=te.main||null,u.subType=te.sub||null}else{var ae=["Index","Name","Id"],ne={name:1,dataIndex:1,dataType:1};each$3(t,function(oe,ie){for(var se=!1,ue=0;ue<ae.length;ue++){var le=ae[ue],ce=ie.lastIndexOf(le);if(ce>0&&ce===ie.length-le.length){var de=ie.slice(0,ce);de!=="data"&&(u.mainType=de,u[le.toLowerCase()]=oe,se=!0)}}ne.hasOwnProperty(ie)&&(c[ie]=oe,se=!0),se||(ee[ie]=oe)})}return{cptQuery:u,dataQuery:c,otherQuery:ee}},n.prototype.filter=function(t,u){var c=this.eventInfo;if(!c)return!0;var ee=c.targetEl,te=c.packedEvent,ae=c.model,ne=c.view;if(!ae||!ne)return!0;var oe=u.cptQuery,ie=u.dataQuery;return se(oe,ae,"mainType")&&se(oe,ae,"subType")&&se(oe,ae,"index","componentIndex")&&se(oe,ae,"name")&&se(oe,ae,"id")&&se(ie,te,"name")&&se(ie,te,"dataIndex")&&se(ie,te,"dataType")&&(!ne.filterForExposedEvent||ne.filterForExposedEvent(t,u.otherQuery,ee,te));function se(ue,le,ce,de){return ue[ce]==null||le[de||ce]===ue[ce]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var u=n.getData();if(n.legendIcon&&u.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var c={},ee={},te=!1,ae=0;ae<SYMBOL_PROPS_WITH_CB.length;ae++){var ne=SYMBOL_PROPS_WITH_CB[ae],oe=n.get(ne);isFunction(oe)?(te=!0,ee[ne]=oe):c[ne]=oe}if(c.symbol=c.symbol||n.defaultSymbol,u.setVisual(extend({legendIcon:n.legendIcon||c.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},c)),t.isSeriesFiltered(n))return;var ie=keys$2(ee);function se(ue,le){for(var ce=n.getRawValue(le),de=n.getDataParams(le),fe=0;fe<ie.length;fe++){var pe=ie[fe];ue.setItemVisual(le,pe,ee[pe](ce,de))}}return{dataEach:te?se:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.hasSymbolVisual||t.isSeriesFiltered(n))return;var u=n.getData();function c(ee,te){for(var ae=ee.getItemModel(te),ne=0;ne<SYMBOL_PROPS.length;ne++){var oe=SYMBOL_PROPS[ne],ie=ae.getShallow(oe,!0);ie!=null&&ee.setItemVisual(te,oe,ie)}}return{dataEach:u.hasItemOption?c:null}}};function getItemVisualFromData(n,t,u){switch(u){case"color":var c=n.getItemVisual(t,"style");return c[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,u)}}function getVisualFromData(n,t){switch(t){case"color":var u=n.getVisual("style");return u[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t)}}function handleSeriesLegacySelectEvents(n,t,u,c,ee){var te=n+t;u.isSilent(te)||c.eachComponent({mainType:"series",subType:"pie"},function(ae){for(var ne=ae.seriesIndex,oe=ae.option.selectedMap,ie=ee.selected,se=0;se<ie.length;se++)if(ie[se].seriesIndex===ne){var ue=ae.getData(),le=queryDataIndex(ue,ee.fromActionPayload);u.trigger(te,{type:te,seriesId:ae.id,name:isArray$6(le)?ue.getName(le[0]):ue.getName(le),selected:isString(oe)?oe:extend({},oe)})}})}function handleLegacySelectEvents(n,t,u){n.on("selectchanged",function(c){var ee=u.getModel();c.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",t,ee,c),handleSeriesLegacySelectEvents("pie","selectchanged",t,ee,c)):c.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",t,ee,c),handleSeriesLegacySelectEvents("pie","selected",t,ee,c)):c.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",t,ee,c),handleSeriesLegacySelectEvents("pie","unselected",t,ee,c))})}function findEventDispatcher(n,t,u){for(var c;n&&!(t(n)&&(c=n,u));)n=n.__hostTarget||n.parent;return c}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$2=function(){function n(){this._id="__ec_inner_"+wmUniqueIndex++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,u){var c=this._guard(t);return supportDefineProperty?Object.defineProperty(c,this._id,{value:u,enumerable:!1,configurable:!0}):c[this._id]=u,this},n.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}(),Triangle=Path.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var u=t.cx,c=t.cy,ee=t.width/2,te=t.height/2;n.moveTo(u,c-te),n.lineTo(u+ee,c+te),n.lineTo(u-ee,c+te),n.closePath()}}),Diamond=Path.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var u=t.cx,c=t.cy,ee=t.width/2,te=t.height/2;n.moveTo(u,c-te),n.lineTo(u+ee,c),n.lineTo(u,c+te),n.lineTo(u-ee,c),n.closePath()}}),Pin=Path.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var u=t.x,c=t.y,ee=t.width/5*3,te=Math.max(ee,t.height),ae=ee/2,ne=ae*ae/(te-ae),oe=c-te+ae+ne,ie=Math.asin(ne/ae),se=Math.cos(ie)*ae,ue=Math.sin(ie),le=Math.cos(ie),ce=ae*.6,de=ae*.7;n.moveTo(u-se,oe+ne),n.arc(u,oe,ae,Math.PI-ie,Math.PI*2+ie),n.bezierCurveTo(u+se-ue*ce,oe+ne+le*ce,u,c-de,u,c),n.bezierCurveTo(u,c-de,u-se+ue*ce,oe+ne+le*ce,u-se,oe+ne),n.closePath()}}),Arrow=Path.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var u=t.height,c=t.width,ee=t.x,te=t.y,ae=c/3*2;n.moveTo(ee,te),n.lineTo(ee+ae,te+u),n.lineTo(ee,te+u/4*3),n.lineTo(ee-ae,te+u),n.lineTo(ee,te),n.closePath()}}),symbolCtors={line:Line,rect:Rect,roundRect:Rect,square:Rect,circle:Circle,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(n,t,u,c,ee){ee.x1=n,ee.y1=t+c/2,ee.x2=n+u,ee.y2=t+c/2},rect:function(n,t,u,c,ee){ee.x=n,ee.y=t,ee.width=u,ee.height=c},roundRect:function(n,t,u,c,ee){ee.x=n,ee.y=t,ee.width=u,ee.height=c,ee.r=Math.min(u,c)/4},square:function(n,t,u,c,ee){var te=Math.min(u,c);ee.x=n,ee.y=t,ee.width=te,ee.height=te},circle:function(n,t,u,c,ee){ee.cx=n+u/2,ee.cy=t+c/2,ee.r=Math.min(u,c)/2},diamond:function(n,t,u,c,ee){ee.cx=n+u/2,ee.cy=t+c/2,ee.width=u,ee.height=c},pin:function(n,t,u,c,ee){ee.x=n+u/2,ee.y=t+c/2,ee.width=u,ee.height=c},arrow:function(n,t,u,c,ee){ee.x=n+u/2,ee.y=t+c/2,ee.width=u,ee.height=c},triangle:function(n,t,u,c,ee){ee.cx=n+u/2,ee.cy=t+c/2,ee.width=u,ee.height=c}},symbolBuildProxies={};each$3(symbolCtors,function(n,t){symbolBuildProxies[t]=new n});var SymbolClz=Path.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,u){var c=calculateTextPosition(n,t,u),ee=this.shape;return ee&&ee.symbolType==="pin"&&t.position==="inside"&&(c.y=u.y+u.height*.4),c},buildPath:function(n,t,u){var c=t.symbolType;if(c!=="none"){var ee=symbolBuildProxies[c];ee||(c="rect",ee=symbolBuildProxies[c]),symbolShapeMakers[c](t.x,t.y,t.width,t.height,ee.shape),ee.buildPath(n,ee.shape,u)}}});function symbolPathSetColor(n,t){if(this.type!=="image"){var u=this.style;this.__isEmptyBrush?(u.stroke=n,u.fill=t||"#fff",u.lineWidth=2):this.shape.symbolType==="line"?u.stroke=n:u.fill=n,this.markRedraw()}}function createSymbol(n,t,u,c,ee,te,ae){var ne=n.indexOf("empty")===0;ne&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var oe;return n.indexOf("image://")===0?oe=makeImage(n.slice(8),new BoundingRect(t,u,c,ee),ae?"center":"cover"):n.indexOf("path://")===0?oe=makePath(n.slice(7),{},new BoundingRect(t,u,c,ee),ae?"center":"cover"):oe=new SymbolClz({shape:{symbolType:n,x:t,y:u,width:c,height:ee}}),oe.__isEmptyBrush=ne,oe.setColor=symbolPathSetColor,te&&oe.setColor(te),oe}function normalizeSymbolSize(n){return isArray$6(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function normalizeSymbolOffset(n,t){if(n!=null)return isArray$6(n)||(n=[n,n]),[parsePercent(n[0],t[0])||0,parsePercent(retrieve2(n[1],n[0]),t[1])||0]}function isSafeNum(n){return isFinite(n)}function createLinearGradient(n,t,u){var c=t.x==null?0:t.x,ee=t.x2==null?1:t.x2,te=t.y==null?0:t.y,ae=t.y2==null?0:t.y2;t.global||(c=c*u.width+u.x,ee=ee*u.width+u.x,te=te*u.height+u.y,ae=ae*u.height+u.y),c=isSafeNum(c)?c:0,ee=isSafeNum(ee)?ee:1,te=isSafeNum(te)?te:0,ae=isSafeNum(ae)?ae:0;var ne=n.createLinearGradient(c,te,ee,ae);return ne}function createRadialGradient(n,t,u){var c=u.width,ee=u.height,te=Math.min(c,ee),ae=t.x==null?.5:t.x,ne=t.y==null?.5:t.y,oe=t.r==null?.5:t.r;t.global||(ae=ae*c+u.x,ne=ne*ee+u.y,oe=oe*te),ae=isSafeNum(ae)?ae:.5,ne=isSafeNum(ne)?ne:.5,oe=oe>=0&&isSafeNum(oe)?oe:.5;var ie=n.createRadialGradient(ae,ne,0,ae,ne,oe);return ie}function getCanvasGradient(n,t,u){for(var c=t.type==="radial"?createRadialGradient(n,t,u):createLinearGradient(n,t,u),ee=t.colorStops,te=0;te<ee.length;te++)c.addColorStop(ee[te].offset,ee[te].color);return c}function isClipPathChanged(n,t){if(n===t||!n&&!t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var u=0;u<n.length;u++)if(n[u]!==t[u])return!0;return!1}function parseInt10(n){return parseInt(n,10)}function getSize(n,t,u){var c=["width","height"][t],ee=["clientWidth","clientHeight"][t],te=["paddingLeft","paddingTop"][t],ae=["paddingRight","paddingBottom"][t];if(u[c]!=null&&u[c]!=="auto")return parseFloat(u[c]);var ne=document.defaultView.getComputedStyle(n);return(n[ee]||parseInt10(ne[c])||parseInt10(n.style[c]))-(parseInt10(ne[te])||0)-(parseInt10(ne[ae])||0)|0}function normalizeLineDash(n,t){return!n||n==="solid"||!(t>0)?null:n==="dashed"?[4*t,2*t]:n==="dotted"?[t]:isNumber(n)?[n]:isArray$6(n)?n:null}function getLineDash(n){var t=n.style,u=t.lineDash&&t.lineWidth>0&&normalizeLineDash(t.lineDash,t.lineWidth),c=t.lineDashOffset;if(u){var ee=t.strokeNoScale&&n.getLineScale?n.getLineScale():1;ee&&ee!==1&&(u=map$6(u,function(te){return te/ee}),c/=ee)}return[u,c]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(n){var t=n.stroke;return!(t==null||t==="none"||!(n.lineWidth>0))}function isValidStrokeFillStyle(n){return typeof n=="string"&&n!=="none"}function styleHasFill(n){var t=n.fill;return t!=null&&t!=="none"}function doFillPath(n,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var u=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=u}else n.fill()}function doStrokePath(n,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var u=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=u}else n.stroke()}function createCanvasPattern(n,t,u){var c=createOrUpdateImage(t.image,t.__image,u);if(isImageReady(c)){var ee=n.createPattern(c,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&ee&&ee.setTransform){var te=new DOMMatrix;te.translateSelf(t.x||0,t.y||0),te.rotateSelf(0,0,(t.rotation||0)*RADIAN_TO_DEGREE),te.scaleSelf(t.scaleX||1,t.scaleY||1),ee.setTransform(te)}return ee}}function brushPath(n,t,u,c){var ee,te=styleHasStroke(u),ae=styleHasFill(u),ne=u.strokePercent,oe=ne<1,ie=!t.path;(!t.silent||oe)&&ie&&t.createPathProxy();var se=t.path||pathProxyForDraw,ue=t.__dirty;if(!c){var le=u.fill,ce=u.stroke,de=ae&&!!le.colorStops,fe=te&&!!ce.colorStops,pe=ae&&!!le.image,me=te&&!!ce.image,ge=void 0,De=void 0,Ce=void 0,we=void 0,xe=void 0;(de||fe)&&(xe=t.getBoundingRect()),de&&(ge=ue?getCanvasGradient(n,le,xe):t.__canvasFillGradient,t.__canvasFillGradient=ge),fe&&(De=ue?getCanvasGradient(n,ce,xe):t.__canvasStrokeGradient,t.__canvasStrokeGradient=De),pe&&(Ce=ue||!t.__canvasFillPattern?createCanvasPattern(n,le,t):t.__canvasFillPattern,t.__canvasFillPattern=Ce),me&&(we=ue||!t.__canvasStrokePattern?createCanvasPattern(n,ce,t):t.__canvasStrokePattern,t.__canvasStrokePattern=Ce),de?n.fillStyle=ge:pe&&(Ce?n.fillStyle=Ce:ae=!1),fe?n.strokeStyle=De:me&&(we?n.strokeStyle=we:te=!1)}var Re=t.getGlobalScale();se.setScale(Re[0],Re[1],t.segmentIgnoreThreshold);var Be,Se;n.setLineDash&&u.lineDash&&(ee=getLineDash(t),Be=ee[0],Se=ee[1]);var Te=!0;(ie||ue&SHAPE_CHANGED_BIT)&&(se.setDPR(n.dpr),oe?se.setContext(null):(se.setContext(n),Te=!1),se.reset(),t.buildPath(se,t.shape,c),se.toStatic(),t.pathUpdated()),Te&&se.rebuildPath(n,oe?ne:1),Be&&(n.setLineDash(Be),n.lineDashOffset=Se),c||(u.strokeFirst?(te&&doStrokePath(n,u),ae&&doFillPath(n,u)):(ae&&doFillPath(n,u),te&&doStrokePath(n,u))),Be&&n.setLineDash([])}function brushImage(n,t,u){var c=t.__image=createOrUpdateImage(u.image,t.__image,t,t.onload);if(!(!c||!isImageReady(c))){var ee=u.x||0,te=u.y||0,ae=t.getWidth(),ne=t.getHeight(),oe=c.width/c.height;if(ae==null&&ne!=null?ae=ne*oe:ne==null&&ae!=null?ne=ae/oe:ae==null&&ne==null&&(ae=c.width,ne=c.height),u.sWidth&&u.sHeight){var ie=u.sx||0,se=u.sy||0;n.drawImage(c,ie,se,u.sWidth,u.sHeight,ee,te,ae,ne)}else if(u.sx&&u.sy){var ie=u.sx,se=u.sy,ue=ae-ie,le=ne-se;n.drawImage(c,ie,se,ue,le,ee,te,ae,ne)}else n.drawImage(c,ee,te,ae,ne)}}function brushText(n,t,u){var c,ee=u.text;if(ee!=null&&(ee+=""),ee){n.font=u.font||DEFAULT_FONT,n.textAlign=u.textAlign,n.textBaseline=u.textBaseline;var te=void 0,ae=void 0;n.setLineDash&&u.lineDash&&(c=getLineDash(t),te=c[0],ae=c[1]),te&&(n.setLineDash(te),n.lineDashOffset=ae),u.strokeFirst?(styleHasStroke(u)&&n.strokeText(ee,u.x,u.y),styleHasFill(u)&&n.fillText(ee,u.x,u.y)):(styleHasFill(u)&&n.fillText(ee,u.x,u.y),styleHasStroke(u)&&n.strokeText(ee,u.x,u.y)),te&&n.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(n,t,u,c,ee){var te=!1;if(!c&&(u=u||{},t===u))return!1;if(c||t.opacity!==u.opacity){flushPathDrawn(n,ee),te=!0;var ae=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(ae)?DEFAULT_COMMON_STYLE.opacity:ae}(c||t.blend!==u.blend)&&(te||(flushPathDrawn(n,ee),te=!0),n.globalCompositeOperation=t.blend||DEFAULT_COMMON_STYLE.blend);for(var ne=0;ne<SHADOW_NUMBER_PROPS.length;ne++){var oe=SHADOW_NUMBER_PROPS[ne];(c||t[oe]!==u[oe])&&(te||(flushPathDrawn(n,ee),te=!0),n[oe]=n.dpr*(t[oe]||0))}return(c||t.shadowColor!==u.shadowColor)&&(te||(flushPathDrawn(n,ee),te=!0),n.shadowColor=t.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),te}function bindPathAndTextCommonStyle(n,t,u,c,ee){var te=getStyle(t,ee.inHover),ae=c?null:u&&getStyle(u,ee.inHover)||{};if(te===ae)return!1;var ne=bindCommonProps(n,te,ae,c,ee);if((c||te.fill!==ae.fill)&&(ne||(flushPathDrawn(n,ee),ne=!0),isValidStrokeFillStyle(te.fill)&&(n.fillStyle=te.fill)),(c||te.stroke!==ae.stroke)&&(ne||(flushPathDrawn(n,ee),ne=!0),isValidStrokeFillStyle(te.stroke)&&(n.strokeStyle=te.stroke)),(c||te.opacity!==ae.opacity)&&(ne||(flushPathDrawn(n,ee),ne=!0),n.globalAlpha=te.opacity==null?1:te.opacity),t.hasStroke()){var oe=te.lineWidth,ie=oe/(te.strokeNoScale&&t.getLineScale?t.getLineScale():1);n.lineWidth!==ie&&(ne||(flushPathDrawn(n,ee),ne=!0),n.lineWidth=ie)}for(var se=0;se<STROKE_PROPS.length;se++){var ue=STROKE_PROPS[se],le=ue[0];(c||te[le]!==ae[le])&&(ne||(flushPathDrawn(n,ee),ne=!0),n[le]=te[le]||ue[1])}return ne}function bindImageStyle(n,t,u,c,ee){return bindCommonProps(n,getStyle(t,ee.inHover),u&&getStyle(u,ee.inHover),c,ee)}function setContextTransform(n,t){var u=t.transform,c=n.dpr||1;u?n.setTransform(c*u[0],c*u[1],c*u[2],c*u[3],c*u[4],c*u[5]):n.setTransform(c,0,0,c,0,0)}function updateClipStatus(n,t,u){for(var c=!1,ee=0;ee<n.length;ee++){var te=n[ee];c=c||te.isZeroArea(),setContextTransform(t,te),t.beginPath(),te.buildPath(t,te.shape),t.clip()}u.allClipped=c}function isTransformChanged(n,t){return n&&t?n[0]!==t[0]||n[1]!==t[1]||n[2]!==t[2]||n[3]!==t[3]||n[4]!==t[4]||n[5]!==t[5]:!(!n&&!t)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(n){var t=styleHasFill(n),u=styleHasStroke(n);return!(n.lineDash||!(+t^+u)||t&&typeof n.fill!="string"||u&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function flushPathDrawn(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function getStyle(n,t){return t&&n.__hoverStyle||n.style}function brushSingle(n,t){brush$1(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(n,t,u,c){var ee=t.transform;if(!t.shouldBePainted(u.viewWidth,u.viewHeight,!1,!1)){t.__dirty&=-2,t.__isRendered=!1;return}var te=t.__clipPaths,ae=u.prevElClipPaths,ne=!1,oe=!1;if((!ae||isClipPathChanged(te,ae))&&(ae&&ae.length&&(flushPathDrawn(n,u),n.restore(),oe=ne=!0,u.prevElClipPaths=null,u.allClipped=!1,u.prevEl=null),te&&te.length&&(flushPathDrawn(n,u),n.save(),updateClipStatus(te,n,u),ne=!0),u.prevElClipPaths=te),u.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var ie=u.prevEl;ie||(oe=ne=!0);var se=t instanceof Path&&t.autoBatch&&canPathBatch(t.style);ne||isTransformChanged(ee,ie.transform)?(flushPathDrawn(n,u),setContextTransform(n,t)):se||flushPathDrawn(n,u);var ue=getStyle(t,u.inHover);t instanceof Path?(u.lastDrawType!==DRAW_TYPE_PATH&&(oe=!0,u.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(n,t,ie,oe,u),(!se||!u.batchFill&&!u.batchStroke)&&n.beginPath(),brushPath(n,t,ue,se),se&&(u.batchFill=ue.fill||"",u.batchStroke=ue.stroke||"")):t instanceof TSpan?(u.lastDrawType!==DRAW_TYPE_TEXT&&(oe=!0,u.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(n,t,ie,oe,u),brushText(n,t,ue)):t instanceof ZRImage?(u.lastDrawType!==DRAW_TYPE_IMAGE&&(oe=!0,u.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(n,t,ie,oe,u),brushImage(n,t,ue)):t.getTemporalDisplayables&&(u.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(oe=!0,u.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(n,t,u)),se&&c&&flushPathDrawn(n,u),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),u.prevEl=t,t.__dirty=0,t.__isRendered=!0}function brushIncremental(n,t,u){var c=t.getDisplayables(),ee=t.getTemporalDisplayables();n.save();var te={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:u.viewWidth,viewHeight:u.viewHeight,inHover:u.inHover},ae,ne;for(ae=t.getCursor(),ne=c.length;ae<ne;ae++){var oe=c[ae];oe.beforeBrush&&oe.beforeBrush(),oe.innerBeforeBrush(),brush$1(n,oe,te,ae===ne-1),oe.innerAfterBrush(),oe.afterBrush&&oe.afterBrush(),te.prevEl=oe}for(var ie=0,se=ee.length;ie<se;ie++){var oe=ee[ie];oe.beforeBrush&&oe.beforeBrush(),oe.innerBeforeBrush(),brush$1(n,oe,te,ie===se-1),oe.innerAfterBrush(),oe.afterBrush&&oe.afterBrush(),te.prevEl=oe}t.clearTemporalDisplayables(),t.notClear=!0,n.restore()}var decalMap=new WeakMap$2,decalCache=new LRU(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(n,t){if(n==="none")return null;var u=t.getDevicePixelRatio(),c=t.getZr(),ee=c.painter.type==="svg";n.dirty&&decalMap.delete(n);var te=decalMap.get(n);if(te)return te;var ae=defaults(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});ae.backgroundColor==="none"&&(ae.backgroundColor=null);var ne={repeat:"repeat"};return oe(ne),ne.rotation=ae.rotation,ne.scaleX=ne.scaleY=ee?1:1/u,decalMap.set(n,ne),n.dirty=!1,ne;function oe(ie){for(var se=[u],ue=!0,le=0;le<decalKeys.length;++le){var ce=ae[decalKeys[le]];if(ce!=null&&!isArray$6(ce)&&!isString(ce)&&!isNumber(ce)&&typeof ce!="boolean"){ue=!1;break}se.push(ce)}var de;if(ue){de=se.join(",")+(ee?"-svg":"");var fe=decalCache.get(de);fe&&(ee?ie.svgElement=fe:ie.image=fe)}var pe=normalizeDashArrayX(ae.dashArrayX),me=normalizeDashArrayY(ae.dashArrayY),ge=normalizeSymbolArray(ae.symbol),De=getLineBlockLengthX(pe),Ce=getLineBlockLengthY(me),we=!ee&&platformApi.createCanvas(),xe=ee&&{tag:"g",attrs:{},key:"dcl",children:[]},Re=Se(),Be;we&&(we.width=Re.width*u,we.height=Re.height*u,Be=we.getContext("2d")),Te(),ue&&decalCache.put(de,we||xe),ie.image=we,ie.svgElement=xe,ie.svgWidth=Re.width,ie.svgHeight=Re.height;function Se(){for(var Ae=1,he=0,ve=De.length;he<ve;++he)Ae=getLeastCommonMultiple(Ae,De[he]);for(var ye=1,he=0,ve=ge.length;he<ve;++he)ye=getLeastCommonMultiple(ye,ge[he].length);Ae*=ye;var be=Ce*De.length*ge.length;return{width:Math.max(1,Math.min(Ae,ae.maxTileWidth)),height:Math.max(1,Math.min(be,ae.maxTileHeight))}}function Te(){Be&&(Be.clearRect(0,0,we.width,we.height),ae.backgroundColor&&(Be.fillStyle=ae.backgroundColor,Be.fillRect(0,0,we.width,we.height)));for(var Ae=0,he=0;he<me.length;++he)Ae+=me[he];if(Ae<=0)return;for(var ve=-Ce,ye=0,be=0,_e=0;ve<Re.height;){if(ye%2===0){for(var Me=be/2%ge.length,Ie=0,Fe=0,Ee=0;Ie<Re.width*2;){for(var ke=0,he=0;he<pe[_e].length;++he)ke+=pe[_e][he];if(ke<=0)break;if(Fe%2===0){var Ve=(1-ae.symbolSize)*.5,ze=Ie+pe[_e][Fe]*Ve,Ue=ve+me[ye]*Ve,Oe=pe[_e][Fe]*ae.symbolSize,Dt=me[ye]*ae.symbolSize,$t=Ee/2%ge[Me].length;Mt(ze,Ue,Oe,Dt,ge[Me][$t])}Ie+=pe[_e][Fe],++Ee,++Fe,Fe===pe[_e].length&&(Fe=0)}++_e,_e===pe.length&&(_e=0)}ve+=me[ye],++be,++ye,ye===me.length&&(ye=0)}function Mt(Kt,Vt,Ht,$e,Pe){var Ne=ee?1:u,We=createSymbol(Pe,Kt*Ne,Vt*Ne,Ht*Ne,$e*Ne,ae.color,ae.symbolKeepAspect);if(ee){var Xe=c.painter.renderOneToVNode(We);Xe&&xe.children.push(Xe)}else brushSingle(Be,We)}}}}function normalizeSymbolArray(n){if(!n||n.length===0)return[["rect"]];if(isString(n))return[[n]];for(var t=!0,u=0;u<n.length;++u)if(!isString(n[u])){t=!1;break}if(t)return normalizeSymbolArray([n]);for(var c=[],u=0;u<n.length;++u)isString(n[u])?c.push([n[u]]):c.push(n[u]);return c}function normalizeDashArrayX(n){if(!n||n.length===0)return[[0,0]];if(isNumber(n)){var t=Math.ceil(n);return[[t,t]]}for(var u=!0,c=0;c<n.length;++c)if(!isNumber(n[c])){u=!1;break}if(u)return normalizeDashArrayX([n]);for(var ee=[],c=0;c<n.length;++c)if(isNumber(n[c])){var t=Math.ceil(n[c]);ee.push([t,t])}else{var t=map$6(n[c],function(ne){return Math.ceil(ne)});t.length%2===1?ee.push(t.concat(t)):ee.push(t)}return ee}function normalizeDashArrayY(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(isNumber(n)){var t=Math.ceil(n);return[t,t]}var u=map$6(n,function(c){return Math.ceil(c)});return n.length%2?u.concat(u):u}function getLineBlockLengthX(n){return map$6(n,function(t){return getLineBlockLengthY(t)})}function getLineBlockLengthY(n){for(var t=0,u=0;u<n.length;++u)t+=n[u];return n.length%2===1?t*2:t}function decalVisual(n,t){n.eachRawSeries(function(u){if(!n.isSeriesFiltered(u)){var c=u.getData();c.hasItemVisual()&&c.each(function(ae){var ne=c.getItemVisual(ae,"decal");if(ne){var oe=c.ensureUniqueItemVisual(ae,"style");oe.decal=createOrUpdatePatternFromDecal(ne,t)}});var ee=c.getVisual("decal");if(ee){var te=c.getVisual("style");te.decal=createOrUpdatePatternFromDecal(ee,t)}}})}var lifecycle=new Eventful,implsStore={};function registerImpl(n,t){implsStore[n]=t}function getImpl(n){return implsStore[n]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(n){return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,n,t)}}function createRegisterEventWithLowercaseMessageCenter(n){return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];return toLowercaseNameAndCallEventful(this,n,t)}}function toLowercaseNameAndCallEventful(n,t,u){return u[0]=u[0]&&u[0].toLowerCase(),Eventful.prototype[t].apply(n,u)}var MessageCenter=function(n){__extends$1(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Eventful),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts$1=function(n){__extends$1(t,n);function t(u,c,ee){var te=n.call(this,new ECEventProcessor)||this;te._chartsViews=[],te._chartsMap={},te._componentsViews=[],te._componentsMap={},te._pendingActions=[],ee=ee||{},isString(c)&&(c=themeStorage[c]),te._dom=u;var ae="canvas",ne="auto",oe=!1;ee.ssr&&registerSSRDataGetter(function(le){var ce=getECData(le),de=ce.dataIndex;if(de!=null){var fe=createHashMap();return fe.set("series_index",ce.seriesIndex),fe.set("data_index",de),ce.ssrType&&fe.set("ssr_type",ce.ssrType),fe}});var ie=te._zr=init$1(u,{renderer:ee.renderer||ae,devicePixelRatio:ee.devicePixelRatio,width:ee.width,height:ee.height,ssr:ee.ssr,useDirtyRect:retrieve2(ee.useDirtyRect,oe),useCoarsePointer:retrieve2(ee.useCoarsePointer,ne),pointerSize:ee.pointerSize});te._ssr=ee.ssr,te._throttledZrFlush=throttle(bind$4(ie.flush,ie),17),c=clone$3(c),c&&globalBackwardCompat(c,!0),te._theme=c,te._locale=createLocaleObject(ee.locale||SYSTEM_LANG),te._coordSysMgr=new CoordinateSystemManager;var se=te._api=createExtensionAPI(te);function ue(le,ce){return le.__prio-ce.__prio}return sort$4(visualFuncs,ue),sort$4(dataProcessorFuncs,ue),te._scheduler=new Scheduler(te,se,dataProcessorFuncs,visualFuncs),te._messageCenter=new MessageCenter,te._initEvents(),te.resize=bind$4(te.resize,te),ie.animation.on("frame",te._onframe,te),bindRenderedEvent(ie,te),bindMouseEvent(ie,te),setAsPrimitive(te),te}return t.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var u=this._scheduler;if(this[PENDING_UPDATE]){var c=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(oe){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,oe}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,c),triggerUpdatedEvent.call(this,c)}else if(u.unfinished){var ee=TEST_FRAME_REMAIN_TIME,te=this._model,ae=this._api;u.unfinished=!1;do{var ne=+new Date;u.performSeriesTasks(te),u.performDataProcessorTasks(te),updateStreamModes(this,te),u.performVisualTasks(te),renderSeries(this,this._model,ae,"remain",{}),ee-=+new Date-ne}while(ee>0&&u.unfinished);u.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(u,c,ee){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var te,ae,ne;if(isObject$3(c)&&(ee=c.lazyUpdate,te=c.silent,ae=c.replaceMerge,ne=c.transition,c=c.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||c){var oe=new OptionManager(this._api),ie=this._theme,se=this._model=new GlobalModel;se.scheduler=this._scheduler,se.ssr=this._ssr,se.init(null,null,null,ie,this._locale,oe)}this._model.setOption(u,{replaceMerge:ae},optionPreprocessorFuncs);var ue={seriesTransition:ne,optionChanged:!0};if(ee)this[PENDING_UPDATE]={silent:te,updateParams:ue},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,ue)}catch(le){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,le}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,te),triggerUpdatedEvent.call(this,te)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(u){return this.renderToCanvas(u)},t.prototype.renderToCanvas=function(u){u=u||{};var c=this._zr.painter;return c.getRenderedCanvas({backgroundColor:u.backgroundColor||this._model.get("backgroundColor"),pixelRatio:u.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(u){u=u||{};var c=this._zr.painter;return c.renderToString({useViewBox:u.useViewBox})},t.prototype.getSvgDataURL=function(){if(env.svgSupported){var u=this._zr,c=u.storage.getDisplayList();return each$3(c,function(ee){ee.stopAnimation(null,!0)}),u.painter.toDataURL()}},t.prototype.getDataURL=function(u){if(this._disposed){this.id;return}u=u||{};var c=u.excludeComponents,ee=this._model,te=[],ae=this;each$3(c,function(oe){ee.eachComponent({mainType:oe},function(ie){var se=ae._componentsMap[ie.__viewId];se.group.ignore||(te.push(se),se.group.ignore=!0)})});var ne=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(u).toDataURL("image/"+(u&&u.type||"png"));return each$3(te,function(oe){oe.group.ignore=!1}),ne},t.prototype.getConnectedDataURL=function(u){if(this._disposed){this.id;return}var c=u.type==="svg",ee=this.group,te=Math.min,ae=Math.max,ne=1/0;if(connectedGroups[ee]){var oe=ne,ie=ne,se=-ne,ue=-ne,le=[],ce=u&&u.pixelRatio||this.getDevicePixelRatio();each$3(instances,function(De,Ce){if(De.group===ee){var we=c?De.getZr().painter.getSvgDom().innerHTML:De.renderToCanvas(clone$3(u)),xe=De.getDom().getBoundingClientRect();oe=te(xe.left,oe),ie=te(xe.top,ie),se=ae(xe.right,se),ue=ae(xe.bottom,ue),le.push({dom:we,left:xe.left,top:xe.top})}}),oe*=ce,ie*=ce,se*=ce,ue*=ce;var de=se-oe,fe=ue-ie,pe=platformApi.createCanvas(),me=init$1(pe,{renderer:c?"svg":"canvas"});if(me.resize({width:de,height:fe}),c){var ge="";return each$3(le,function(De){var Ce=De.left-oe,we=De.top-ie;ge+='<g transform="translate('+Ce+","+we+')">'+De.dom+"</g>"}),me.painter.getSvgRoot().innerHTML=ge,u.connectedBackgroundColor&&me.painter.setBackgroundColor(u.connectedBackgroundColor),me.refreshImmediately(),me.painter.toDataURL()}else return u.connectedBackgroundColor&&me.add(new Rect({shape:{x:0,y:0,width:de,height:fe},style:{fill:u.connectedBackgroundColor}})),each$3(le,function(De){var Ce=new ZRImage({style:{x:De.left*ce-oe,y:De.top*ce-ie,image:De.dom}});me.add(Ce)}),me.refreshImmediately(),pe.toDataURL("image/"+(u&&u.type||"png"))}else return this.getDataURL(u)},t.prototype.convertToPixel=function(u,c){return doConvertPixel(this,"convertToPixel",u,c)},t.prototype.convertFromPixel=function(u,c){return doConvertPixel(this,"convertFromPixel",u,c)},t.prototype.containPixel=function(u,c){if(this._disposed){this.id;return}var ee=this._model,te,ae=parseFinder(ee,u);return each$3(ae,function(ne,oe){oe.indexOf("Models")>=0&&each$3(ne,function(ie){var se=ie.coordinateSystem;if(se&&se.containPoint)te=te||!!se.containPoint(c);else if(oe==="seriesModels"){var ue=this._chartsMap[ie.__viewId];ue&&ue.containPoint&&(te=te||ue.containPoint(c,ie))}},this)},this),!!te},t.prototype.getVisual=function(u,c){var ee=this._model,te=parseFinder(ee,u,{defaultMainType:"series"}),ae=te.seriesModel,ne=ae.getData(),oe=te.hasOwnProperty("dataIndexInside")?te.dataIndexInside:te.hasOwnProperty("dataIndex")?ne.indexOfRawIndex(te.dataIndex):null;return oe!=null?getItemVisualFromData(ne,oe,c):getVisualFromData(ne,c)},t.prototype.getViewOfComponentModel=function(u){return this._componentsMap[u.__viewId]},t.prototype.getViewOfSeriesModel=function(u){return this._chartsMap[u.__viewId]},t.prototype._initEvents=function(){var u=this;each$3(MOUSE_EVENT_NAMES,function(c){var ee=function(te){var ae=u.getModel(),ne=te.target,oe,ie=c==="globalout";if(ie?oe={}:ne&&findEventDispatcher(ne,function(de){var fe=getECData(de);if(fe&&fe.dataIndex!=null){var pe=fe.dataModel||ae.getSeriesByIndex(fe.seriesIndex);return oe=pe&&pe.getDataParams(fe.dataIndex,fe.dataType,ne)||{},!0}else if(fe.eventData)return oe=extend({},fe.eventData),!0},!0),oe){var se=oe.componentType,ue=oe.componentIndex;(se==="markLine"||se==="markPoint"||se==="markArea")&&(se="series",ue=oe.seriesIndex);var le=se&&ue!=null&&ae.getComponent(se,ue),ce=le&&u[le.mainType==="series"?"_chartsMap":"_componentsMap"][le.__viewId];oe.event=te,oe.type=c,u._$eventProcessor.eventInfo={targetEl:ne,packedEvent:oe,model:le,view:ce},u.trigger(c,oe)}};ee.zrEventfulCallAtLast=!0,u._zr.on(c,ee,u)}),each$3(eventActionMap,function(c,ee){u._messageCenter.on(ee,function(te){this.trigger(ee,te)},u)}),each$3(["selectchanged"],function(c){u._messageCenter.on(c,function(ee){this.trigger(c,ee)},u)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var u=this.getDom();u&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var c=this,ee=c._api,te=c._model;each$3(c._componentsViews,function(ae){ae.dispose(te,ee)}),each$3(c._chartsViews,function(ae){ae.dispose(te,ee)}),c._zr.dispose(),c._dom=c._model=c._chartsMap=c._componentsMap=c._chartsViews=c._componentsViews=c._scheduler=c._api=c._zr=c._throttledZrFlush=c._theme=c._coordSysMgr=c._messageCenter=null,delete instances[c.id]},t.prototype.resize=function(u){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(u);var c=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!c){var ee=c.resetOption("media"),te=u&&u.silent;this[PENDING_UPDATE]&&(te==null&&(te=this[PENDING_UPDATE].silent),ee=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{ee&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},u&&u.animation)})}catch(ae){throw this[IN_MAIN_PROCESS_KEY]=!1,ae}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,te),triggerUpdatedEvent.call(this,te)}}},t.prototype.showLoading=function(u,c){if(this._disposed){this.id;return}if(isObject$3(u)&&(c=u,u=""),u=u||"default",this.hideLoading(),!!loadingEffects[u]){var ee=loadingEffects[u](this._api,c),te=this._zr;this._loadingFX=ee,te.add(ee)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(u){var c=extend({},u);return c.type=eventActionMap[u.type],c},t.prototype.dispatchAction=function(u,c){if(this._disposed){this.id;return}if(isObject$3(c)||(c={silent:!!c}),!!actions[u.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(u);return}var ee=c.silent;doDispatchAction.call(this,u,ee);var te=c.flush;te?this._zr.flush():te!==!1&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,ee),triggerUpdatedEvent.call(this,ee)}},t.prototype.updateLabelLayout=function(){lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(u){if(this._disposed){this.id;return}var c=u.seriesIndex,ee=this.getModel(),te=ee.getSeriesByIndex(c);te.appendData(u),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){prepare=function(ue){var le=ue._scheduler;le.restorePipelines(ue._model),le.prepareStageTasks(),prepareView(ue,!0),prepareView(ue,!1),le.plan()},prepareView=function(ue,le){for(var ce=ue._model,de=ue._scheduler,fe=le?ue._componentsViews:ue._chartsViews,pe=le?ue._componentsMap:ue._chartsMap,me=ue._zr,ge=ue._api,De=0;De<fe.length;De++)fe[De].__alive=!1;le?ce.eachComponent(function(xe,Re){xe!=="series"&&Ce(Re)}):ce.eachSeries(Ce);function Ce(xe){var Re=xe.__requireNewView;xe.__requireNewView=!1;var Be="_ec_"+xe.id+"_"+xe.type,Se=!Re&&pe[Be];if(!Se){var Te=parseClassType(xe.type),Ae=le?ComponentView.getClass(Te.main,Te.sub):ChartView.getClass(Te.sub);Se=new Ae,Se.init(ce,ge),pe[Be]=Se,fe.push(Se),me.add(Se.group)}xe.__viewId=Se.__id=Be,Se.__alive=!0,Se.__model=xe,Se.group.__ecComponentInfo={mainType:xe.mainType,index:xe.componentIndex},!le&&de.prepareView(Se,xe,ce,ge)}for(var De=0;De<fe.length;){var we=fe[De];we.__alive?De++:(!le&&we.renderTask.dispose(),me.remove(we.group),we.dispose(ce,ge),fe.splice(De,1),pe[we.__id]===we&&delete pe[we.__id],we.__id=we.group.__ecComponentInfo=null)}},updateDirectly=function(ue,le,ce,de,fe){var pe=ue._model;if(pe.setUpdatePayload(ce),!de){each$3([].concat(ue._componentsViews).concat(ue._chartsViews),we);return}var me={};me[de+"Id"]=ce[de+"Id"],me[de+"Index"]=ce[de+"Index"],me[de+"Name"]=ce[de+"Name"];var ge={mainType:de,query:me};fe&&(ge.subType=fe);var De=ce.excludeSeriesId,Ce;De!=null&&(Ce=createHashMap(),each$3(normalizeToArray(De),function(xe){var Re=convertOptionIdName(xe,null);Re!=null&&Ce.set(Re,!0)})),pe&&pe.eachComponent(ge,function(xe){var Re=Ce&&Ce.get(xe.id)!=null;if(!Re)if(isHighDownPayload(ce))if(xe instanceof SeriesModel)ce.type===HIGHLIGHT_ACTION_TYPE&&!ce.notBlur&&!xe.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(xe,ce,ue._api);else{var Be=findComponentHighDownDispatchers(xe.mainType,xe.componentIndex,ce.name,ue._api),Se=Be.focusSelf,Te=Be.dispatchers;ce.type===HIGHLIGHT_ACTION_TYPE&&Se&&!ce.notBlur&&blurComponent(xe.mainType,xe.componentIndex,ue._api),Te&&each$3(Te,function(Ae){ce.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(Ae):leaveEmphasis(Ae)})}else isSelectChangePayload(ce)&&xe instanceof SeriesModel&&(toggleSelectionFromPayload(xe,ce,ue._api),updateSeriesElementSelection(xe),markStatusToUpdate(ue))},ue),pe&&pe.eachComponent(ge,function(xe){var Re=Ce&&Ce.get(xe.id)!=null;Re||we(ue[de==="series"?"_chartsMap":"_componentsMap"][xe.__viewId])},ue);function we(xe){xe&&xe.__alive&&xe[le]&&xe[le](xe.__model,pe,ue._api,ce)}},updateMethods={prepareAndUpdate:function(ue){prepare(this),updateMethods.update.call(this,ue,{optionChanged:ue.newOption!=null})},update:function(ue,le){var ce=this._model,de=this._api,fe=this._zr,pe=this._coordSysMgr,me=this._scheduler;if(ce){ce.setUpdatePayload(ue),me.restoreData(ce,ue),me.performSeriesTasks(ce),pe.create(ce,de),me.performDataProcessorTasks(ce,ue),updateStreamModes(this,ce),pe.update(ce,de),u(ce),me.performVisualTasks(ce,ue),render(this,ce,de,ue,le);var ge=ce.get("backgroundColor")||"transparent",De=ce.get("darkMode");fe.setBackgroundColor(ge),De!=null&&De!=="auto"&&fe.setDarkMode(De),lifecycle.trigger("afterupdate",ce,de)}},updateTransform:function(ue){var le=this,ce=this._model,de=this._api;if(ce){ce.setUpdatePayload(ue);var fe=[];ce.eachComponent(function(me,ge){if(me!=="series"){var De=le.getViewOfComponentModel(ge);if(De&&De.__alive)if(De.updateTransform){var Ce=De.updateTransform(ge,ce,de,ue);Ce&&Ce.update&&fe.push(De)}else fe.push(De)}});var pe=createHashMap();ce.eachSeries(function(me){var ge=le._chartsMap[me.__viewId];if(ge.updateTransform){var De=ge.updateTransform(me,ce,de,ue);De&&De.update&&pe.set(me.uid,1)}else pe.set(me.uid,1)}),u(ce),this._scheduler.performVisualTasks(ce,ue,{setDirty:!0,dirtyMap:pe}),renderSeries(this,ce,de,ue,{},pe),lifecycle.trigger("afterupdate",ce,de)}},updateView:function(ue){var le=this._model;le&&(le.setUpdatePayload(ue),ChartView.markUpdateMethod(ue,"updateView"),u(le),this._scheduler.performVisualTasks(le,ue,{setDirty:!0}),render(this,le,this._api,ue,{}),lifecycle.trigger("afterupdate",le,this._api))},updateVisual:function(ue){var le=this,ce=this._model;ce&&(ce.setUpdatePayload(ue),ce.eachSeries(function(de){de.getData().clearAllVisual()}),ChartView.markUpdateMethod(ue,"updateVisual"),u(ce),this._scheduler.performVisualTasks(ce,ue,{visualType:"visual",setDirty:!0}),ce.eachComponent(function(de,fe){if(de!=="series"){var pe=le.getViewOfComponentModel(fe);pe&&pe.__alive&&pe.updateVisual(fe,ce,le._api,ue)}}),ce.eachSeries(function(de){var fe=le._chartsMap[de.__viewId];fe.updateVisual(de,ce,le._api,ue)}),lifecycle.trigger("afterupdate",ce,this._api))},updateLayout:function(ue){updateMethods.update.call(this,ue)}},doConvertPixel=function(ue,le,ce,de){if(ue._disposed){ue.id;return}for(var fe=ue._model,pe=ue._coordSysMgr.getCoordinateSystems(),me,ge=parseFinder(fe,ce),De=0;De<pe.length;De++){var Ce=pe[De];if(Ce[le]&&(me=Ce[le](fe,ge,de))!=null)return me}},updateStreamModes=function(ue,le){var ce=ue._chartsMap,de=ue._scheduler;le.eachSeries(function(fe){de.updateStreamModes(fe,ce[fe.__viewId])})},doDispatchAction=function(ue,le){var ce=this,de=this.getModel(),fe=ue.type,pe=ue.escapeConnect,me=actions[fe],ge=me.actionInfo,De=(ge.update||"update").split(":"),Ce=De.pop(),we=De[0]!=null&&parseClassType(De[0]);this[IN_MAIN_PROCESS_KEY]=!0;var xe=[ue],Re=!1;ue.batch&&(Re=!0,xe=map$6(ue.batch,function(ye){return ye=defaults(extend({},ye),ue),ye.batch=null,ye}));var Be=[],Se,Te=isSelectChangePayload(ue),Ae=isHighDownPayload(ue);if(Ae&&allLeaveBlur(this._api),each$3(xe,function(ye){if(Se=me.action(ye,ce._model,ce._api),Se=Se||extend({},ye),Se.type=ge.event||Se.type,Be.push(Se),Ae){var be=preParseFinder(ue),_e=be.queryOptionMap,Me=be.mainTypeSpecified,Ie=Me?_e.keys()[0]:"series";updateDirectly(ce,Ce,ye,Ie),markStatusToUpdate(ce)}else Te?(updateDirectly(ce,Ce,ye,"series"),markStatusToUpdate(ce)):we&&updateDirectly(ce,Ce,ye,we.main,we.sub)}),Ce!=="none"&&!Ae&&!Te&&!we)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,ue),this[PENDING_UPDATE]=null):updateMethods[Ce].call(this,ue)}catch(ye){throw this[IN_MAIN_PROCESS_KEY]=!1,ye}if(Re?Se={type:ge.event||fe,escapeConnect:pe,batch:Be}:Se=Be[0],this[IN_MAIN_PROCESS_KEY]=!1,!le){var he=this._messageCenter;if(he.trigger(Se.type,Se),Te){var ve={type:"selectchanged",escapeConnect:pe,selected:getAllSelectedIndices(de),isFromClick:ue.isFromClick||!1,fromAction:ue.type,fromActionPayload:ue};he.trigger(ve.type,ve)}}},flushPendingActions=function(ue){for(var le=this._pendingActions;le.length;){var ce=le.shift();doDispatchAction.call(this,ce,ue)}},triggerUpdatedEvent=function(ue){!ue&&this.trigger("updated")},bindRenderedEvent=function(ue,le){ue.on("rendered",function(ce){le.trigger("rendered",ce),ue.animation.isFinished()&&!le[PENDING_UPDATE]&&!le._scheduler.unfinished&&!le._pendingActions.length&&le.trigger("finished")})},bindMouseEvent=function(ue,le){ue.on("mouseover",function(ce){var de=ce.target,fe=findEventDispatcher(de,isHighDownDispatcher);fe&&(handleGlobalMouseOverForHighDown(fe,ce,le._api),markStatusToUpdate(le))}).on("mouseout",function(ce){var de=ce.target,fe=findEventDispatcher(de,isHighDownDispatcher);fe&&(handleGlobalMouseOutForHighDown(fe,ce,le._api),markStatusToUpdate(le))}).on("click",function(ce){var de=ce.target,fe=findEventDispatcher(de,function(ge){return getECData(ge).dataIndex!=null},!0);if(fe){var pe=fe.selected?"unselect":"select",me=getECData(fe);le._api.dispatchAction({type:pe,dataType:me.dataType,dataIndexInside:me.dataIndex,seriesIndex:me.seriesIndex,isFromClick:!0})}})};function u(ue){ue.clearColorPalette(),ue.eachSeries(function(le){le.clearColorPalette()})}function c(ue){var le=[],ce=[],de=!1;if(ue.eachComponent(function(ge,De){var Ce=De.get("zlevel")||0,we=De.get("z")||0,xe=De.getZLevelKey();de=de||!!xe,(ge==="series"?ce:le).push({zlevel:Ce,z:we,idx:De.componentIndex,type:ge,key:xe})}),de){var fe=le.concat(ce),pe,me;sort$4(fe,function(ge,De){return ge.zlevel===De.zlevel?ge.z-De.z:ge.zlevel-De.zlevel}),each$3(fe,function(ge){var De=ue.getComponent(ge.type,ge.idx),Ce=ge.zlevel,we=ge.key;pe!=null&&(Ce=Math.max(pe,Ce)),we?(Ce===pe&&we!==me&&Ce++,me=we):me&&(Ce===pe&&Ce++,me=""),pe=Ce,De.setZLevel(Ce)})}}render=function(ue,le,ce,de,fe){c(le),renderComponents(ue,le,ce,de,fe),each$3(ue._chartsViews,function(pe){pe.__alive=!1}),renderSeries(ue,le,ce,de,fe),each$3(ue._chartsViews,function(pe){pe.__alive||pe.remove(le,ce)})},renderComponents=function(ue,le,ce,de,fe,pe){each$3(pe||ue._componentsViews,function(me){var ge=me.__model;ie(ge,me),me.render(ge,le,ce,de),ne(ge,me),se(ge,me)})},renderSeries=function(ue,le,ce,de,fe,pe){var me=ue._scheduler;fe=extend(fe||{},{updatedSeries:le.getSeries()}),lifecycle.trigger("series:beforeupdate",le,ce,fe);var ge=!1;le.eachSeries(function(De){var Ce=ue._chartsMap[De.__viewId];Ce.__alive=!0;var we=Ce.renderTask;me.updatePayload(we,de),ie(De,Ce),pe&&pe.get(De.uid)&&we.dirty(),we.perform(me.getPerformArgs(we))&&(ge=!0),Ce.group.silent=!!De.get("silent"),ae(De,Ce),updateSeriesElementSelection(De)}),me.unfinished=ge||me.unfinished,lifecycle.trigger("series:layoutlabels",le,ce,fe),lifecycle.trigger("series:transition",le,ce,fe),le.eachSeries(function(De){var Ce=ue._chartsMap[De.__viewId];ne(De,Ce),se(De,Ce)}),te(ue,le),lifecycle.trigger("series:afterupdate",le,ce,fe)},markStatusToUpdate=function(ue){ue[STATUS_NEEDS_UPDATE_KEY]=!0,ue.getZr().wakeUp()},applyChangedStates=function(ue){ue[STATUS_NEEDS_UPDATE_KEY]&&(ue.getZr().storage.traverse(function(le){isElementRemoved(le)||ee(le)}),ue[STATUS_NEEDS_UPDATE_KEY]=!1)};function ee(ue){for(var le=[],ce=ue.currentStates,de=0;de<ce.length;de++){var fe=ce[de];fe==="emphasis"||fe==="blur"||fe==="select"||le.push(fe)}ue.selected&&ue.states.select&&le.push("select"),ue.hoverState===HOVER_STATE_EMPHASIS&&ue.states.emphasis?le.push("emphasis"):ue.hoverState===HOVER_STATE_BLUR&&ue.states.blur&&le.push("blur"),ue.useStates(le)}function te(ue,le){var ce=ue._zr,de=ce.storage,fe=0;de.traverse(function(pe){pe.isGroup||fe++}),fe>le.get("hoverLayerThreshold")&&!env.node&&!env.worker&&le.eachSeries(function(pe){if(!pe.preventUsingHoverLayer){var me=ue._chartsMap[pe.__viewId];me.__alive&&me.eachRendered(function(ge){ge.states.emphasis&&(ge.states.emphasis.hoverLayer=!0)})}})}function ae(ue,le){var ce=ue.get("blendMode")||null;le.eachRendered(function(de){de.isGroup||(de.style.blend=ce)})}function ne(ue,le){if(!ue.preventAutoZ){var ce=ue.get("z")||0,de=ue.get("zlevel")||0;le.eachRendered(function(fe){return oe(fe,ce,de,-1/0),!0})}}function oe(ue,le,ce,de){var fe=ue.getTextContent(),pe=ue.getTextGuideLine(),me=ue.isGroup;if(me)for(var ge=ue.childrenRef(),De=0;De<ge.length;De++)de=Math.max(oe(ge[De],le,ce,de),de);else ue.z=le,ue.zlevel=ce,de=Math.max(ue.z2,de);if(fe&&(fe.z=le,fe.zlevel=ce,isFinite(de)&&(fe.z2=de+2)),pe){var Ce=ue.textGuideLineConfig;pe.z=le,pe.zlevel=ce,isFinite(de)&&(pe.z2=de+(Ce&&Ce.showAbove?1:-1))}return de}function ie(ue,le){le.eachRendered(function(ce){if(!isElementRemoved(ce)){var de=ce.getTextContent(),fe=ce.getTextGuideLine();ce.stateTransition&&(ce.stateTransition=null),de&&de.stateTransition&&(de.stateTransition=null),fe&&fe.stateTransition&&(fe.stateTransition=null),ce.hasState()?(ce.prevStates=ce.currentStates,ce.clearStates()):ce.prevStates&&(ce.prevStates=null)}})}function se(ue,le){var ce=ue.getModel("stateAnimation"),de=ue.isAnimationEnabled(),fe=ce.get("duration"),pe=fe>0?{duration:fe,delay:ce.get("delay"),easing:ce.get("easing")}:null;le.eachRendered(function(me){if(me.states&&me.states.emphasis){if(isElementRemoved(me))return;if(me instanceof Path&&savePathStates(me),me.__dirty){var ge=me.prevStates;ge&&me.useStates(ge)}if(de){me.stateTransition=pe;var De=me.getTextContent(),Ce=me.getTextGuideLine();De&&(De.stateTransition=pe),Ce&&(Ce.stateTransition=pe)}me.__dirty&&ee(me)}})}createExtensionAPI=function(ue){return new(function(le){__extends$1(ce,le);function ce(){return le!==null&&le.apply(this,arguments)||this}return ce.prototype.getCoordinateSystems=function(){return ue._coordSysMgr.getCoordinateSystems()},ce.prototype.getComponentByElement=function(de){for(;de;){var fe=de.__ecComponentInfo;if(fe!=null)return ue._model.getComponent(fe.mainType,fe.index);de=de.parent}},ce.prototype.enterEmphasis=function(de,fe){enterEmphasis(de,fe),markStatusToUpdate(ue)},ce.prototype.leaveEmphasis=function(de,fe){leaveEmphasis(de,fe),markStatusToUpdate(ue)},ce.prototype.enterBlur=function(de){enterBlur(de),markStatusToUpdate(ue)},ce.prototype.leaveBlur=function(de){leaveBlur(de),markStatusToUpdate(ue)},ce.prototype.enterSelect=function(de){enterSelect(de),markStatusToUpdate(ue)},ce.prototype.leaveSelect=function(de){leaveSelect(de),markStatusToUpdate(ue)},ce.prototype.getModel=function(){return ue.getModel()},ce.prototype.getViewOfComponentModel=function(de){return ue.getViewOfComponentModel(de)},ce.prototype.getViewOfSeriesModel=function(de){return ue.getViewOfSeriesModel(de)},ce}(ExtensionAPI))(ue)},enableConnect=function(ue){function le(ce,de){for(var fe=0;fe<ce.length;fe++){var pe=ce[fe];pe[CONNECT_STATUS_KEY]=de}}each$3(eventActionMap,function(ce,de){ue._messageCenter.on(de,function(fe){if(connectedGroups[ue.group]&&ue[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(fe&&fe.escapeConnect)return;var pe=ue.makeActionFromEvent(fe),me=[];each$3(instances,function(ge){ge!==ue&&ge.group===ue.group&&me.push(ge)}),le(me,CONNECT_STATUS_PENDING),each$3(me,function(ge){ge[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&ge.dispatchAction(pe)}),le(me,CONNECT_STATUS_UPDATED)}})})}}(),t}(Eventful),echartsProto=ECharts$1.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(n,t,u){var c=this;function ee(){for(var te=[],ae=0;ae<arguments.length;ae++)te[ae]=arguments[ae];t&&t.apply&&t.apply(this,te),c.off(n,ee)}this.on.call(this,n,ee,u)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(n){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init(n,t,u){var c=!(u&&u.ssr);if(c){var ee=getInstanceByDom(n);if(ee)return ee}var te=new ECharts$1(n,t,u);return te.id="ec_"+idBase++,instances[te.id]=te,c&&setAttribute(n,DOM_ATTRIBUTE_KEY,te.id),enableConnect(te),lifecycle.trigger("afterinit",te),te}function get