e,fe+=te}return pe}var ECPolylineShape=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),ECPolyline=function(n){__extends$1(t,n);function t(u){var c=n.call(this,u)||this;return c.type="ec-polyline",c}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ECPolylineShape},t.prototype.buildPath=function(u,c){var ee=c.points,te=0,ae=ee.length/2;if(c.connectNulls){for(;ae>0&&isPointNull$1(ee[ae*2-2],ee[ae*2-1]);ae--);for(;te<ae&&isPointNull$1(ee[te*2],ee[te*2+1]);te++);}for(;te<ae;)te+=drawSegment(u,ee,te,ae,ae,1,c.smooth,c.smoothMonotone,c.connectNulls)+1},t.prototype.getPointOn=function(u,c){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var ee=this.path,te=ee.data,ae=PathProxy.CMD,ne,oe,ie=c==="x",se=[],ue=0;ue<te.length;){var le=te[ue++],ce=void 0,de=void 0,fe=void 0,pe=void 0,me=void 0,ge=void 0,De=void 0;switch(le){case ae.M:ne=te[ue++],oe=te[ue++];break;case ae.L:if(ce=te[ue++],de=te[ue++],De=ie?(u-ne)/(ce-ne):(u-oe)/(de-oe),De<=1&&De>=0){var Ce=ie?(de-oe)*De+oe:(ce-ne)*De+ne;return ie?[u,Ce]:[Ce,u]}ne=ce,oe=de;break;case ae.C:ce=te[ue++],de=te[ue++],fe=te[ue++],pe=te[ue++],me=te[ue++],ge=te[ue++];var we=ie?cubicRootAt(ne,ce,fe,me,u,se):cubicRootAt(oe,de,pe,ge,u,se);if(we>0)for(var xe=0;xe<we;xe++){var Re=se[xe];if(Re<=1&&Re>=0){var Ce=ie?cubicAt(oe,de,pe,ge,Re):cubicAt(ne,ce,fe,me,Re);return ie?[u,Ce]:[Ce,u]}}ne=me,oe=ge;break}}},t}(Path),ECPolygonShape=function(n){__extends$1(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(ECPolylineShape),ECPolygon=function(n){__extends$1(t,n);function t(u){var c=n.call(this,u)||this;return c.type="ec-polygon",c}return t.prototype.getDefaultShape=function(){return new ECPolygonShape},t.prototype.buildPath=function(u,c){var ee=c.points,te=c.stackedOnPoints,ae=0,ne=ee.length/2,oe=c.smoothMonotone;if(c.connectNulls){for(;ne>0&&isPointNull$1(ee[ne*2-2],ee[ne*2-1]);ne--);for(;ae<ne&&isPointNull$1(ee[ae*2],ee[ae*2+1]);ae++);}for(;ae<ne;){var ie=drawSegment(u,ee,ae,ne,ne,1,c.smooth,oe,c.connectNulls);drawSegment(u,te,ae+ie-1,ie,ne,-1,c.stackedOnSmooth,oe,c.connectNulls),ae+=ie+1,u.closePath()}},t}(Path);function createGridClipPath(n,t,u,c,ee){var te=n.getArea(),ae=te.x,ne=te.y,oe=te.width,ie=te.height,se=u.get(["lineStyle","width"])||0;ae-=se/2,ne-=se/2,oe+=se,ie+=se,oe=Math.ceil(oe),ae!==Math.floor(ae)&&(ae=Math.floor(ae),oe++);var ue=new Rect({shape:{x:ae,y:ne,width:oe,height:ie}});if(t){var le=n.getBaseAxis(),ce=le.isHorizontal(),de=le.inverse;ce?(de&&(ue.shape.x+=oe),ue.shape.width=0):(de||(ue.shape.y+=ie),ue.shape.height=0);var fe=isFunction(ee)?function(pe){ee(pe,ue)}:null;initProps(ue,{shape:{width:oe,height:ie,x:ae,y:ne}},u,null,c,fe)}return ue}function createPolarClipPath(n,t,u){var c=n.getArea(),ee=round$2(c.r0,1),te=round$2(c.r,1),ae=new Sector({shape:{cx:round$2(n.cx,1),cy:round$2(n.cy,1),r0:ee,r:te,startAngle:c.startAngle,endAngle:c.endAngle,clockwise:c.clockwise}});if(t){var ne=n.getBaseAxis().dim==="angle";ne?ae.shape.endAngle=c.startAngle:ae.shape.r=ee,initProps(ae,{shape:{endAngle:c.endAngle,r:te}},u)}return ae}function isCoordinateSystemType(n,t){return n.type===t}function isPointsSame(n,t){if(n.length===t.length){for(var u=0;u<n.length;u++)if(n[u]!==t[u])return;return!0}}function bboxFromPoints(n){for(var t=1/0,u=1/0,c=-1/0,ee=-1/0,te=0;te<n.length;){var ae=n[te++],ne=n[te++];isNaN(ae)||(t=Math.min(ae,t),c=Math.max(ae,c)),isNaN(ne)||(u=Math.min(ne,u),ee=Math.max(ne,ee))}return[[t,u],[c,ee]]}function getBoundingDiff(n,t){var u=bboxFromPoints(n),c=u[0],ee=u[1],te=bboxFromPoints(t),ae=te[0],ne=te[1];return Math.max(Math.abs(c[0]-ae[0]),Math.abs(c[1]-ae[1]),Math.abs(ee[0]-ne[0]),Math.abs(ee[1]-ne[1]))}function getSmooth(n){return isNumber(n)?n:n?.5:0}function getStackedOnPoints(n,t,u){if(!u.valueDim)return[];for(var c=t.count(),ee=createFloat32Array(c*2),te=0;te<c;te++){var ae=getStackedOnPoint(u,n,t,te);ee[te*2]=ae[0],ee[te*2+1]=ae[1]}return ee}function turnPointsIntoStep(n,t,u,c,ee){var te=u.getBaseAxis(),ae=te.dim==="x"||te.dim==="radius"?0:1,ne=[],oe=0,ie=[],se=[],ue=[],le=[];if(ee){for(oe=0;oe<n.length;oe+=2){var ce=t||n;!isNaN(ce[oe])&&!isNaN(ce[oe+1])&&le.push(n[oe],n[oe+1])}n=le}for(oe=0;oe<n.length-2;oe+=2)switch(ue[0]=n[oe+2],ue[1]=n[oe+3],se[0]=n[oe],se[1]=n[oe+1],ne.push(se[0],se[1]),c){case"end":ie[ae]=ue[ae],ie[1-ae]=se[1-ae],ne.push(ie[0],ie[1]);break;case"middle":var de=(se[ae]+ue[ae])/2,fe=[];ie[ae]=fe[ae]=de,ie[1-ae]=se[1-ae],fe[1-ae]=ue[1-ae],ne.push(ie[0],ie[1]),ne.push(fe[0],fe[1]);break;default:ie[ae]=se[ae],ie[1-ae]=ue[1-ae],ne.push(ie[0],ie[1])}return ne.push(n[oe++],n[oe++]),ne}function clipColorStops(n,t){var u=[],c=n.length,ee,te;function ae(se,ue,le){var ce=se.coord,de=(le-ce)/(ue.coord-ce),fe=lerp(de,[se.color,ue.color]);return{coord:le,color:fe}}for(var ne=0;ne<c;ne++){var oe=n[ne],ie=oe.coord;if(ie<0)ee=oe;else if(ie>t){te?u.push(ae(te,oe,t)):ee&&u.push(ae(ee,oe,0),ae(ee,oe,t));break}else ee&&(u.push(ae(ee,oe,0)),ee=null),u.push(oe),te=oe}return u}function getVisualGradient(n,t,u){var c=n.getVisual("visualMeta");if(!(!c||!c.length||!n.count())&&t.type==="cartesian2d"){for(var ee,te,ae=c.length-1;ae>=0;ae--){var ne=n.getDimensionInfo(c[ae].dimension);if(ee=ne&&ne.coordDim,ee==="x"||ee==="y"){te=c[ae];break}}if(te){var oe=t.getAxis(ee),ie=map$6(te.stops,function(De){return{coord:oe.toGlobalCoord(oe.dataToCoord(De.value)),color:De.color}}),se=ie.length,ue=te.outerColors.slice();se&&ie[0].coord>ie[se-1].coord&&(ie.reverse(),ue.reverse());var le=clipColorStops(ie,ee==="x"?u.getWidth():u.getHeight()),ce=le.length;if(!ce&&se)return ie[0].coord<0?ue[1]?ue[1]:ie[se-1].color:ue[0]?ue[0]:ie[0].color;var de=10,fe=le[0].coord-de,pe=le[ce-1].coord+de,me=pe-fe;if(me<.001)return"transparent";each$3(le,function(De){De.offset=(De.coord-fe)/me}),le.push({offset:ce?le[ce-1].offset:.5,color:ue[1]||"transparent"}),le.unshift({offset:ce?le[0].offset:.5,color:ue[0]||"transparent"});var ge=new LinearGradient(0,0,0,0,le,!0);return ge[ee]=fe,ge[ee+"2"]=pe,ge}}}function getIsIgnoreFunc(n,t,u){var c=n.get("showAllSymbol"),ee=c==="auto";if(!(c&&!ee)){var te=u.getAxesByScale("ordinal")[0];if(te&&!(ee&&canShowAllSymbolForCategory(te,t))){var ae=t.mapDimension(te.dim),ne={};return each$3(te.getViewLabels(),function(oe){var ie=te.scale.getRawOrdinalNumber(oe.tickValue);ne[ie]=1}),function(oe){return!ne.hasOwnProperty(t.get(ae,oe))}}}}function canShowAllSymbolForCategory(n,t){var u=n.getExtent(),c=Math.abs(u[1]-u[0])/n.scale.count();isNaN(c)&&(c=0);for(var ee=t.count(),te=Math.max(1,Math.round(ee/5)),ae=0;ae<ee;ae+=te)if(Symbol$3.getSymbolSize(t,ae)[n.isHorizontal()?1:0]*1.5>c)return!1;return!0}function isPointNull(n,t){return isNaN(n)||isNaN(t)}function getLastIndexNotNull(n){for(var t=n.length/2;t>0&&isPointNull(n[t*2-2],n[t*2-1]);t--);return t-1}function getPointAtIndex(n,t){return[n[t*2],n[t*2+1]]}function getIndexRange(n,t,u){for(var c=n.length/2,ee=u==="x"?0:1,te,ae,ne=0,oe=-1,ie=0;ie<c;ie++)if(ae=n[ie*2+ee],!(isNaN(ae)||isNaN(n[ie*2+1-ee]))){if(ie===0){te=ae;continue}if(te<=t&&ae>=t||te>=t&&ae<=t){oe=ie;break}ne=ie,te=ae}return{range:[ne,oe],t:(t-te)/(ae-te)}}function anyStateShowEndLabel(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<SPECIAL_STATES.length;t++)if(n.get([SPECIAL_STATES[t],"endLabel","show"]))return!0;return!1}function createLineClipPath(n,t,u,c){if(isCoordinateSystemType(t,"cartesian2d")){var ee=c.getModel("endLabel"),te=ee.get("valueAnimation"),ae=c.getData(),ne={lastFrameIndex:0},oe=anyStateShowEndLabel(c)?function(ce,de){n._endLabelOnDuring(ce,de,ae,ne,te,ee,t)}:null,ie=t.getBaseAxis().isHorizontal(),se=createGridClipPath(t,u,c,function(){var ce=n._endLabel;ce&&u&&ne.originalX!=null&&ce.attr({x:ne.originalX,y:ne.originalY})},oe);if(!c.get("clip",!0)){var ue=se.shape,le=Math.max(ue.width,ue.height);ie?(ue.y-=le,ue.height+=le*2):(ue.x-=le,ue.width+=le*2)}return oe&&oe(1,se),se}else return createPolarClipPath(t,u,c)}function getEndLabelStateSpecified(n,t){var u=t.getBaseAxis(),c=u.isHorizontal(),ee=u.inverse,te=c?ee?"right":"left":"center",ae=c?"middle":ee?"top":"bottom";return{normal:{align:n.get("align")||te,verticalAlign:n.get("verticalAlign")||ae}}}var LineView=function(n){__extends$1(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var u=new Group,c=new SymbolDraw;this.group.add(c.group),this._symbolDraw=c,this._lineGroup=u,this._changePolyState=bind$4(this._changePolyState,this)},t.prototype.render=function(u,c,ee){var te=u.coordinateSystem,ae=this.group,ne=u.getData(),oe=u.getModel("lineStyle"),ie=u.getModel("areaStyle"),se=ne.getLayout("points")||[],ue=te.type==="polar",le=this._coordSys,ce=this._symbolDraw,de=this._polyline,fe=this._polygon,pe=this._lineGroup,me=!c.ssr&&u.get("animation"),ge=!ie.isEmpty(),De=ie.get("origin"),Ce=prepareDataCoordInfo(te,ne,De),we=ge&&getStackedOnPoints(te,ne,Ce),xe=u.get("showSymbol"),Re=u.get("connectNulls"),Be=xe&&!ue&&getIsIgnoreFunc(u,ne,te),Se=this._data;Se&&Se.eachItemGraphicEl(function(Oe,Dt){Oe.__temp&&(ae.remove(Oe),Se.setItemGraphicEl(Dt,null))}),xe||ce.remove(),ae.add(pe);var Te=ue?!1:u.get("step"),Ae;te&&te.getArea&&u.get("clip",!0)&&(Ae=te.getArea(),Ae.width!=null?(Ae.x-=.1,Ae.y-=.1,Ae.width+=.2,Ae.height+=.2):Ae.r0&&(Ae.r0-=.5,Ae.r+=.5)),this._clipShapeForSymbol=Ae;var he=getVisualGradient(ne,te,ee)||ne.getVisual("style")[ne.getVisual("drawType")];if(!(de&&le.type===te.type&&Te===this._step))xe&&ce.updateData(ne,{isIgnore:Be,clipShape:Ae,disableAnimation:!0,getSymbolPoint:function(Oe){return[se[Oe*2],se[Oe*2+1]]}}),me&&this._initSymbolLabelAnimation(ne,te,Ae),Te&&(we&&(we=turnPointsIntoStep(we,se,te,Te,Re)),se=turnPointsIntoStep(se,null,te,Te,Re)),de=this._newPolyline(se),ge?fe=this._newPolygon(se,we):fe&&(pe.remove(fe),fe=this._polygon=null),ue||this._initOrUpdateEndLabel(u,te,convertToColorString(he)),pe.setClipPath(createLineClipPath(this,te,!0,u));else{ge&&!fe?fe=this._newPolygon(se,we):fe&&!ge&&(pe.remove(fe),fe=this._polygon=null),ue||this._initOrUpdateEndLabel(u,te,convertToColorString(he));var ve=pe.getClipPath();if(ve){var ye=createLineClipPath(this,te,!1,u);initProps(ve,{shape:ye.shape},u)}else pe.setClipPath(createLineClipPath(this,te,!0,u));xe&&ce.updateData(ne,{isIgnore:Be,clipShape:Ae,disableAnimation:!0,getSymbolPoint:function(Oe){return[se[Oe*2],se[Oe*2+1]]}}),(!isPointsSame(this._stackedOnPoints,we)||!isPointsSame(this._points,se))&&(me?this._doUpdateAnimation(ne,we,te,ee,Te,De,Re):(Te&&(we&&(we=turnPointsIntoStep(we,se,te,Te,Re)),se=turnPointsIntoStep(se,null,te,Te,Re)),de.setShape({points:se}),fe&&fe.setShape({points:se,stackedOnPoints:we})))}var be=u.getModel("emphasis"),_e=be.get("focus"),Me=be.get("blurScope"),Ie=be.get("disabled");if(de.useStyle(defaults(oe.getLineStyle(),{fill:"none",stroke:he,lineJoin:"bevel"})),setStatesStylesFromModel(de,u,"lineStyle"),de.style.lineWidth>0&&u.get(["emphasis","lineStyle","width"])==="bolder"){var Fe=de.getState("emphasis").style;Fe.lineWidth=+de.style.lineWidth+1}getECData(de).seriesIndex=u.seriesIndex,toggleHoverEmphasis(de,_e,Me,Ie);var Ee=getSmooth(u.get("smooth")),ke=u.get("smoothMonotone");if(de.setShape({smooth:Ee,smoothMonotone:ke,connectNulls:Re}),fe){var Ve=ne.getCalculationInfo("stackedOnSeries"),ze=0;fe.useStyle(defaults(ie.getAreaStyle(),{fill:he,opacity:.7,lineJoin:"bevel",decal:ne.getVisual("style").decal})),Ve&&(ze=getSmooth(Ve.get("smooth"))),fe.setShape({smooth:Ee,stackedOnSmooth:ze,smoothMonotone:ke,connectNulls:Re}),setStatesStylesFromModel(fe,u,"areaStyle"),getECData(fe).seriesIndex=u.seriesIndex,toggleHoverEmphasis(fe,_e,Me,Ie)}var Ue=this._changePolyState;ne.eachItemGraphicEl(function(Oe){Oe&&(Oe.onHoverStateChange=Ue)}),this._polyline.onHoverStateChange=Ue,this._data=ne,this._coordSys=te,this._stackedOnPoints=we,this._points=se,this._step=Te,this._valueOrigin=De,u.get("triggerLineEvent")&&(this.packEventData(u,de),fe&&this.packEventData(u,fe))},t.prototype.packEventData=function(u,c){getECData(c).eventData={componentType:"series",componentSubType:"line",componentIndex:u.componentIndex,seriesIndex:u.seriesIndex,seriesName:u.name,seriesType:"line"}},t.prototype.highlight=function(u,c,ee,te){var ae=u.getData(),ne=queryDataIndex(ae,te);if(this._changePolyState("emphasis"),!(ne instanceof Array)&&ne!=null&&ne>=0){var oe=ae.getLayout("points"),ie=ae.getItemGraphicEl(ne);if(!ie){var se=oe[ne*2],ue=oe[ne*2+1];if(isNaN(se)||isNaN(ue)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(se,ue))return;var le=u.get("zlevel")||0,ce=u.get("z")||0;ie=new Symbol$3(ae,ne),ie.x=se,ie.y=ue,ie.setZ(le,ce);var de=ie.getSymbolPath().getTextContent();de&&(de.zlevel=le,de.z=ce,de.z2=this._polyline.z2+1),ie.__temp=!0,ae.setItemGraphicEl(ne,ie),ie.stopSymbolAnimation(!0),this.group.add(ie)}ie.highlight()}else ChartView.prototype.highlight.call(this,u,c,ee,te)},t.prototype.downplay=function(u,c,ee,te){var ae=u.getData(),ne=queryDataIndex(ae,te);if(this._changePolyState("normal"),ne!=null&&ne>=0){var oe=ae.getItemGraphicEl(ne);oe&&(oe.__temp?(ae.setItemGraphicEl(ne,null),this.group.remove(oe)):oe.downplay())}else ChartView.prototype.downplay.call(this,u,c,ee,te)},t.prototype._changePolyState=function(u){var c=this._polygon;setStatesFlag(this._polyline,u),c&&setStatesFlag(c,u)},t.prototype._newPolyline=function(u){var c=this._polyline;return c&&this._lineGroup.remove(c),c=new ECPolyline({shape:{points:u},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(c),this._polyline=c,c},t.prototype._newPolygon=function(u,c){var ee=this._polygon;return ee&&this._lineGroup.remove(ee),ee=new ECPolygon({shape:{points:u,stackedOnPoints:c},segmentIgnoreThreshold:2}),this._lineGroup.add(ee),this._polygon=ee,ee},t.prototype._initSymbolLabelAnimation=function(u,c,ee){var te,ae,ne=c.getBaseAxis(),oe=ne.inverse;c.type==="cartesian2d"?(te=ne.isHorizontal(),ae=!1):c.type==="polar"&&(te=ne.dim==="angle",ae=!0);var ie=u.hostModel,se=ie.get("animationDuration");isFunction(se)&&(se=se(null));var ue=ie.get("animationDelay")||0,le=isFunction(ue)?ue(null):ue;u.eachItemGraphicEl(function(ce,de){var fe=ce;if(fe){var pe=[ce.x,ce.y],me=void 0,ge=void 0,De=void 0;if(ee)if(ae){var Ce=ee,we=c.pointToCoord(pe);te?(me=Ce.startAngle,ge=Ce.endAngle,De=-we[1]/180*Math.PI):(me=Ce.r0,ge=Ce.r,De=we[0])}else{var xe=ee;te?(me=xe.x,ge=xe.x+xe.width,De=ce.x):(me=xe.y+xe.height,ge=xe.y,De=ce.y)}var Re=ge===me?0:(De-me)/(ge-me);oe&&(Re=1-Re);var Be=isFunction(ue)?ue(de):se*Re+le,Se=fe.getSymbolPath(),Te=Se.getTextContent();fe.attr({scaleX:0,scaleY:0}),fe.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Be}),Te&&Te.animateFrom({style:{opacity:0}},{duration:300,delay:Be}),Se.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(u,c,ee){var te=u.getModel("endLabel");if(anyStateShowEndLabel(u)){var ae=u.getData(),ne=this._polyline,oe=ae.getLayout("points");if(!oe){ne.removeTextContent(),this._endLabel=null;return}var ie=this._endLabel;ie||(ie=this._endLabel=new ZRText({z2:200}),ie.ignoreClip=!0,ne.setTextContent(this._endLabel),ne.disableLabelAnimation=!0);var se=getLastIndexNotNull(oe);se>=0&&(setLabelStyle(ne,getLabelStatesModels(u,"endLabel"),{inheritColor:ee,labelFetcher:u,labelDataIndex:se,defaultText:function(ue,le,ce){return ce!=null?getDefaultInterpolatedLabel(ae,ce):getDefaultLabel(ae,ue)},enableTextSetter:!0},getEndLabelStateSpecified(te,c)),ne.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(u,c,ee,te,ae,ne,oe){var ie=this._endLabel,se=this._polyline;if(ie){u<1&&te.originalX==null&&(te.originalX=ie.x,te.originalY=ie.y);var ue=ee.getLayout("points"),le=ee.hostModel,ce=le.get("connectNulls"),de=ne.get("precision"),fe=ne.get("distance")||0,pe=oe.getBaseAxis(),me=pe.isHorizontal(),ge=pe.inverse,De=c.shape,Ce=ge?me?De.x:De.y+De.height:me?De.x+De.width:De.y,we=(me?fe:0)*(ge?-1:1),xe=(me?0:-fe)*(ge?-1:1),Re=me?"x":"y",Be=getIndexRange(ue,Ce,Re),Se=Be.range,Te=Se[1]-Se[0],Ae=void 0;if(Te>=1){if(Te>1&&!ce){var he=getPointAtIndex(ue,Se[0]);ie.attr({x:he[0]+we,y:he[1]+xe}),ae&&(Ae=le.getRawValue(Se[0]))}else{var he=se.getPointOn(Ce,Re);he&&ie.attr({x:he[0]+we,y:he[1]+xe});var ve=le.getRawValue(Se[0]),ye=le.getRawValue(Se[1]);ae&&(Ae=interpolateRawValues(ee,de,ve,ye,Be.t))}te.lastFrameIndex=Se[0]}else{var be=u===1||te.lastFrameIndex>0?Se[0]:0,he=getPointAtIndex(ue,be);ae&&(Ae=le.getRawValue(be)),ie.attr({x:he[0]+we,y:he[1]+xe})}if(ae){var _e=labelInner(ie);typeof _e.setLabelText=="function"&&_e.setLabelText(Ae)}}},t.prototype._doUpdateAnimation=function(u,c,ee,te,ae,ne,oe){var ie=this._polyline,se=this._polygon,ue=u.hostModel,le=lineAnimationDiff(this._data,u,this._stackedOnPoints,c,this._coordSys,ee,this._valueOrigin),ce=le.current,de=le.stackedOnCurrent,fe=le.next,pe=le.stackedOnNext;if(ae&&(de=turnPointsIntoStep(le.stackedOnCurrent,le.current,ee,ae,oe),ce=turnPointsIntoStep(le.current,null,ee,ae,oe),pe=turnPointsIntoStep(le.stackedOnNext,le.next,ee,ae,oe),fe=turnPointsIntoStep(le.next,null,ee,ae,oe)),getBoundingDiff(ce,fe)>3e3||se&&getBoundingDiff(de,pe)>3e3){ie.stopAnimation(),ie.setShape({points:fe}),se&&(se.stopAnimation(),se.setShape({points:fe,stackedOnPoints:pe}));return}ie.shape.__points=le.current,ie.shape.points=ce;var me={shape:{points:fe}};le.current!==ce&&(me.shape.__points=le.next),ie.stopAnimation(),updateProps$1(ie,me,ue),se&&(se.setShape({points:ce,stackedOnPoints:de}),se.stopAnimation(),updateProps$1(se,{shape:{stackedOnPoints:pe}},ue),ie.shape.points!==se.shape.points&&(se.shape.points=ie.shape.points));for(var ge=[],De=le.status,Ce=0;Ce<De.length;Ce++){var we=De[Ce].cmd;if(we==="="){var xe=u.getItemGraphicEl(De[Ce].idx1);xe&&ge.push({el:xe,ptIdx:Ce})}}ie.animators&&ie.animators.length&&ie.animators[0].during(function(){se&&se.dirtyShape();for(var Re=ie.shape.__points,Be=0;Be<ge.length;Be++){var Se=ge[Be].el,Te=ge[Be].ptIdx*2;Se.x=Re[Te],Se.y=Re[Te+1],Se.markRedraw()}})},t.prototype.remove=function(u){var c=this.group,ee=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),ee&&ee.eachItemGraphicEl(function(te,ae){te.__temp&&(c.remove(te),ee.setItemGraphicEl(ae,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ChartView);function pointsLayout(n,t){return{seriesType:n,plan:createRenderPlanner(),reset:function(u){var c=u.getData(),ee=u.coordinateSystem;if(u.pipelineContext,!!ee){var te=map$6(ee.dimensions,function(ue){return c.mapDimension(ue)}).slice(0,2),ae=te.length,ne=c.getCalculationInfo("stackResultDimension");isDimensionStacked(c,te[0])&&(te[0]=ne),isDimensionStacked(c,te[1])&&(te[1]=ne);var oe=c.getStore(),ie=c.getDimensionIndex(te[0]),se=c.getDimensionIndex(te[1]);return ae&&{progress:function(ue,le){for(var ce=ue.end-ue.start,de=createFloat32Array(ce*ae),fe=[],pe=[],me=ue.start,ge=0;me<ue.end;me++){var De=void 0;if(ae===1){var Ce=oe.get(ie,me);De=ee.dataToPoint(Ce,null,pe)}else fe[0]=oe.get(ie,me),fe[1]=oe.get(se,me),De=ee.dataToPoint(fe,null,pe);de[ge++]=De[0],de[ge++]=De[1]}le.setLayout("points",de)}}}}}}var samplers={average:function(n){for(var t=0,u=0,c=0;c<n.length;c++)isNaN(n[c])||(t+=n[c],u++);return u===0?NaN:t/u},sum:function(n){for(var t=0,u=0;u<n.length;u++)t+=n[u]||0;return t},max:function(n){for(var t=-1/0,u=0;u<n.length;u++)n[u]>t&&(t=n[u]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,u=0;u<n.length;u++)n[u]<t&&(t=n[u]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},indexSampler=function(n){return Math.round(n.length/2)};function dataSample(n){return{seriesType:n,reset:function(t,u,c){var ee=t.getData(),te=t.get("sampling"),ae=t.coordinateSystem,ne=ee.count();if(ne>10&&ae.type==="cartesian2d"&&te){var oe=ae.getBaseAxis(),ie=ae.getOtherAxis(oe),se=oe.getExtent(),ue=c.getDevicePixelRatio(),le=Math.abs(se[1]-se[0])*(ue||1),ce=Math.round(ne/le);if(isFinite(ce)&&ce>1){te==="lttb"?t.setData(ee.lttbDownSample(ee.mapDimension(ie.dim),1/ce)):te==="minmax"&&t.setData(ee.minmaxDownSample(ee.mapDimension(ie.dim),1/ce));var de=void 0;isString(te)?de=samplers[te]:isFunction(te)&&(de=te),de&&t.setData(ee.downSample(ee.mapDimension(ie.dim),1/ce,de,indexSampler))}}}}}function install$4(n){n.registerChartView(LineView),n.registerSeriesModel(LineSeriesModel),n.registerLayout(pointsLayout("line")),n.registerVisual({seriesType:"line",reset:function(t){var u=t.getData(),c=t.getModel("lineStyle").getLineStyle();c&&!c.stroke&&(c.stroke=u.getVisual("style").fill),u.setVisual("legendLineStyle",c)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var GridModel=function(n){__extends$1(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(ComponentModel),CartesianAxisModel=function(n){__extends$1(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},t.type="cartesian2dAxis",t}(ComponentModel);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge$2({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption),valueAxis=merge$2({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption),timeAxis=merge$2({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(n,t,u,c){each$3(AXIS_TYPES,function(ee,te){var ae=merge$2(merge$2({},axisDefault[te],!0),c,!0),ne=function(oe){__extends$1(ie,oe);function ie(){var se=oe!==null&&oe.apply(this,arguments)||this;return se.type=t+"Axis."+te,se}return ie.prototype.mergeDefaultAndTheme=function(se,ue){var le=fetchLayoutMode(this),ce=le?getLayoutParams(se):{},de=ue.getTheme();merge$2(se,de.get(te+"Axis")),merge$2(se,this.getDefaultOption()),se.type=getAxisType(se),le&&mergeLayoutParam(se,ce,le)},ie.prototype.optionUpdated=function(){var se=this.option;se.type==="category"&&(this.__ordinalMeta=OrdinalMeta.createByAxisModel(this))},ie.prototype.getCategories=function(se){var ue=this.option;if(ue.type==="category")return se?ue.data:this.__ordinalMeta.categories},ie.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},ie.type=t+"Axis."+te,ie.defaultOption=ae,ie}(u);n.registerComponentModel(ne)}),n.registerSubTypeDefaulter(t+"Axis",getAxisType)}function getAxisType(n){return n.type||(n.data?"category":"value")}var Cartesian=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return map$6(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),filter(this.getAxes(),function(u){return u.scale.type===t})},n.prototype.addAxis=function(t){var u=t.dim;this._axes[u]=t,this._dimList.push(u)},n}(),cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(n){return n.type==="interval"||n.type==="time"}var Cartesian2D=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type="cartesian2d",u.dimensions=cartesian2DDimensions,u}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var u=this.getAxis("x").scale,c=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(u)||!canCalculateAffineTransform(c))){var ee=u.getExtent(),te=c.getExtent(),ae=this.dataToPoint([ee[0],te[0]]),ne=this.dataToPoint([ee[1],te[1]]),oe=ee[1]-ee[0],ie=te[1]-te[0];if(!(!oe||!ie)){var se=(ne[0]-ae[0])/oe,ue=(ne[1]-ae[1])/ie,le=ae[0]-ee[0]*se,ce=ae[1]-te[0]*ue,de=this._transform=[se,0,0,ue,le,ce];this._invTransform=invert([],de)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(u){var c=this.getAxis("x"),ee=this.getAxis("y");return c.contain(c.toLocalCoord(u[0]))&&ee.contain(ee.toLocalCoord(u[1]))},t.prototype.containData=function(u){return this.getAxis("x").containData(u[0])&&this.getAxis("y").containData(u[1])},t.prototype.containZone=function(u,c){var ee=this.dataToPoint(u),te=this.dataToPoint(c),ae=this.getArea(),ne=new BoundingRect(ee[0],ee[1],te[0]-ee[0],te[1]-ee[1]);return ae.intersect(ne)},t.prototype.dataToPoint=function(u,c,ee){ee=ee||[];var te=u[0],ae=u[1];if(this._transform&&te!=null&&isFinite(te)&&ae!=null&&isFinite(ae))return applyTransform$1(ee,u,this._transform);var ne=this.getAxis("x"),oe=this.getAxis("y");return ee[0]=ne.toGlobalCoord(ne.dataToCoord(te,c)),ee[1]=oe.toGlobalCoord(oe.dataToCoord(ae,c)),ee},t.prototype.clampData=function(u,c){var ee=this.getAxis("x").scale,te=this.getAxis("y").scale,ae=ee.getExtent(),ne=te.getExtent(),oe=ee.parse(u[0]),ie=te.parse(u[1]);return c=c||[],c[0]=Math.min(Math.max(Math.min(ae[0],ae[1]),oe),Math.max(ae[0],ae[1])),c[1]=Math.min(Math.max(Math.min(ne[0],ne[1]),ie),Math.max(ne[0],ne[1])),c},t.prototype.pointToData=function(u,c){var ee=[];if(this._invTransform)return applyTransform$1(ee,u,this._invTransform);var te=this.getAxis("x"),ae=this.getAxis("y");return ee[0]=te.coordToData(te.toLocalCoord(u[0]),c),ee[1]=ae.coordToData(ae.toLocalCoord(u[1]),c),ee},t.prototype.getOtherAxis=function(u){return this.getAxis(u.dim==="x"?"y":"x")},t.prototype.getArea=function(u){u=u||0;var c=this.getAxis("x").getGlobalExtent(),ee=this.getAxis("y").getGlobalExtent(),te=Math.min(c[0],c[1])-u,ae=Math.min(ee[0],ee[1])-u,ne=Math.max(c[0],c[1])-te+u,oe=Math.max(ee[0],ee[1])-ae+u;return new BoundingRect(te,ae,ne,oe)},t}(Cartesian),Axis2D=function(n){__extends$1(t,n);function t(u,c,ee,te,ae){var ne=n.call(this,u,c,ee)||this;return ne.index=0,ne.type=te||"value",ne.position=ae||"bottom",ne}return t.prototype.isHorizontal=function(){var u=this.position;return u==="top"||u==="bottom"},t.prototype.getGlobalExtent=function(u){var c=this.getExtent();return c[0]=this.toGlobalCoord(c[0]),c[1]=this.toGlobalCoord(c[1]),u&&c[0]>c[1]&&c.reverse(),c},t.prototype.pointToData=function(u,c){return this.coordToData(this.toLocalCoord(u[this.dim==="x"?0:1]),c)},t.prototype.setCategorySortInfo=function(u){if(this.type!=="category")return!1;this.model.option.categorySortInfo=u,this.scale.setSortInfo(u)},t}(Axis);function layout(n,t,u){u=u||{};var c=n.coordinateSystem,ee=t.axis,te={},ae=ee.getAxesOnZeroOf()[0],ne=ee.position,oe=ae?"onZero":ne,ie=ee.dim,se=c.getRect(),ue=[se.x,se.x+se.width,se.y,se.y+se.height],le={left:0,right:1,top:0,bottom:1,onZero:2},ce=t.get("offset")||0,de=ie==="x"?[ue[2]-ce,ue[3]+ce]:[ue[0]-ce,ue[1]+ce];if(ae){var fe=ae.toGlobalCoord(ae.dataToCoord(0));de[le.onZero]=Math.max(Math.min(fe,de[1]),de[0])}te.position=[ie==="y"?de[le[oe]]:ue[0],ie==="x"?de[le[oe]]:ue[3]],te.rotation=Math.PI/2*(ie==="x"?0:1);var pe={top:-1,bottom:1,left:-1,right:1};te.labelDirection=te.tickDirection=te.nameDirection=pe[ne],te.labelOffset=ae?de[le[ne]]-de[le.onZero]:0,t.get(["axisTick","inside"])&&(te.tickDirection=-te.tickDirection),retrieve(u.labelInside,t.get(["axisLabel","inside"]))&&(te.labelDirection=-te.labelDirection);var me=t.get(["axisLabel","rotate"]);return te.labelRotate=oe==="top"?-me:me,te.z2=1,te}function isCartesian2DSeries(n){return n.get("coordinateSystem")==="cartesian2d"}function findAxisModels(n){var t={xAxisModel:null,yAxisModel:null};return each$3(t,function(u,c){var ee=c.replace(/Model$/,""),te=n.getReferringComponents(ee,SINGLE_REFERRING).models[0];t[c]=te}),t}var mathLog=Math.log;function alignScaleTicks(n,t,u){var c=IntervalScale.prototype,ee=c.getTicks.call(u),te=c.getTicks.call(u,!0),ae=ee.length-1,ne=c.getInterval.call(u),oe=getScaleExtent(n,t),ie=oe.extent,se=oe.fixMin,ue=oe.fixMax;if(n.type==="log"){var le=mathLog(n.base);ie=[mathLog(ie[0])/le,mathLog(ie[1])/le]}n.setExtent(ie[0],ie[1]),n.calcNiceExtent({splitNumber:ae,fixMin:se,fixMax:ue});var ce=c.getExtent.call(n);se&&(ie[0]=ce[0]),ue&&(ie[1]=ce[1]);var de=c.getInterval.call(n),fe=ie[0],pe=ie[1];if(se&&ue)de=(pe-fe)/ae;else if(se)for(pe=ie[0]+de*ae;pe<ie[1]&&isFinite(pe)&&isFinite(ie[1]);)de=increaseInterval(de),pe=ie[0]+de*ae;else if(ue)for(fe=ie[1]-de*ae;fe>ie[0]&&isFinite(fe)&&isFinite(ie[0]);)de=increaseInterval(de),fe=ie[1]-de*ae;else{var me=n.getTicks().length-1;me>ae&&(de=increaseInterval(de));var ge=de*ae;pe=Math.ceil(ie[1]/de)*de,fe=round$2(pe-ge),fe<0&&ie[0]>=0?(fe=0,pe=round$2(ge)):pe>0&&ie[1]<=0&&(pe=0,fe=-round$2(ge))}var De=(ee[0].value-te[0].value)/ne,Ce=(ee[ae].value-te[ae].value)/ne;c.setExtent.call(n,fe+de*De,pe+de*Ce),c.setInterval.call(n,de),(De||Ce)&&c.setNiceExtent.call(n,fe+de,pe-de)}var Grid=function(){function n(t,u,c){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(t,u,c),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,u){var c=this._axesMap;this._updateScale(t,this.model);function ee(ae){var ne,oe=keys$2(ae),ie=oe.length;if(ie){for(var se=[],ue=ie-1;ue>=0;ue--){var le=+oe[ue],ce=ae[le],de=ce.model,fe=ce.scale;isIntervalOrLogScale(fe)&&de.get("alignTicks")&&de.get("interval")==null?se.push(ce):(niceScaleExtent(fe,de),isIntervalOrLogScale(fe)&&(ne=ce))}se.length&&(ne||(ne=se.pop(),niceScaleExtent(ne.scale,ne.model)),each$3(se,function(pe){alignScaleTicks(pe.scale,pe.model,ne.scale)}))}}ee(c.x),ee(c.y);var te={};each$3(c.x,function(ae){fixAxisOnZero(c,"y",ae,te)}),each$3(c.y,function(ae){fixAxisOnZero(c,"x",ae,te)}),this.resize(this.model,u)},n.prototype.resize=function(t,u,c){var ee=t.getBoxLayoutParams(),te=!c&&t.get("containLabel"),ae=getLayoutRect(ee,{width:u.getWidth(),height:u.getHeight()});this._rect=ae;var ne=this._axesList;oe(),te&&(each$3(ne,function(ie){if(!ie.model.get(["axisLabel","inside"])){var se=estimateLabelUnionRect(ie);if(se){var ue=ie.isHorizontal()?"height":"width",le=ie.model.get(["axisLabel","margin"]);ae[ue]-=se[ue]+le,ie.position==="top"?ae.y+=se.height+le:ie.position==="left"&&(ae.x+=se.width+le)}}}),oe()),each$3(this._coordsList,function(ie){ie.calcAffineTransform()});function oe(){each$3(ne,function(ie){var se=ie.isHorizontal(),ue=se?[0,ae.width]:[0,ae.height],le=ie.inverse?1:0;ie.setExtent(ue[le],ue[1-le]),updateAxisTransform(ie,se?ae.x:ae.y)})}},n.prototype.getAxis=function(t,u){var c=this._axesMap[t];if(c!=null)return c[u||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,u){if(t!=null&&u!=null){var c="x"+t+"y"+u;return this._coordsMap[c]}isObject$3(t)&&(u=t.yAxisIndex,t=t.xAxisIndex);for(var ee=0,te=this._coordsList;ee<te.length;ee++)if(te[ee].getAxis("x").index===t||te[ee].getAxis("y").index===u)return te[ee]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,u,c){var ee=this._findConvertTarget(u);return ee.cartesian?ee.cartesian.dataToPoint(c):ee.axis?ee.axis.toGlobalCoord(ee.axis.dataToCoord(c)):null},n.prototype.convertFromPixel=function(t,u,c){var ee=this._findConvertTarget(u);return ee.cartesian?ee.cartesian.pointToData(c):ee.axis?ee.axis.coordToData(ee.axis.toLocalCoord(c)):null},n.prototype._findConvertTarget=function(t){var u=t.seriesModel,c=t.xAxisModel||u&&u.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],ee=t.yAxisModel||u&&u.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],te=t.gridModel,ae=this._coordsList,ne,oe;if(u)ne=u.coordinateSystem,indexOf$5(ae,ne)<0&&(ne=null);else if(c&&ee)ne=this.getCartesian(c.componentIndex,ee.componentIndex);else if(c)oe=this.getAxis("x",c.componentIndex);else if(ee)oe=this.getAxis("y",ee.componentIndex);else if(te){var ie=te.coordinateSystem;ie===this&&(ne=this._coordsList[0])}return{cartesian:ne,axis:oe}},n.prototype.containPoint=function(t){var u=this._coordsList[0];if(u)return u.containPoint(t)},n.prototype._initCartesian=function(t,u,c){var ee=this,te=this,ae={left:!1,right:!1,top:!1,bottom:!1},ne={x:{},y:{}},oe={x:0,y:0};if(u.eachComponent("xAxis",ie("x"),this),u.eachComponent("yAxis",ie("y"),this),!oe.x||!oe.y){this._axesMap={},this._axesList=[];return}this._axesMap=ne,each$3(ne.x,function(se,ue){each$3(ne.y,function(le,ce){var de="x"+ue+"y"+ce,fe=new Cartesian2D(de);fe.master=ee,fe.model=t,ee._coordsMap[de]=fe,ee._coordsList.push(fe),fe.addAxis(se),fe.addAxis(le)})});function ie(se){return function(ue,le){if(isAxisUsedInTheGrid(ue,t)){var ce=ue.get("position");se==="x"?ce!=="top"&&ce!=="bottom"&&(ce=ae.bottom?"top":"bottom"):ce!=="left"&&ce!=="right"&&(ce=ae.left?"right":"left"),ae[ce]=!0;var de=new Axis2D(se,createScaleByModel(ue),[0,0],ue.get("type"),ce),fe=de.type==="category";de.onBand=fe&&ue.get("boundaryGap"),de.inverse=ue.get("inverse"),ue.axis=de,de.model=ue,de.grid=te,de.index=le,te._axesList.push(de),ne[se][le]=de,oe[se]++}}}},n.prototype._updateScale=function(t,u){each$3(this._axesList,function(ee){if(ee.scale.setExtent(1/0,-1/0),ee.type==="category"){var te=ee.model.get("categorySortInfo");ee.scale.setSortInfo(te)}}),t.eachSeries(function(ee){if(isCartesian2DSeries(ee)){var te=findAxisModels(ee),ae=te.xAxisModel,ne=te.yAxisModel;if(!isAxisUsedInTheGrid(ae,u)||!isAxisUsedInTheGrid(ne,u))return;var oe=this.getCartesian(ae.componentIndex,ne.componentIndex),ie=ee.getData(),se=oe.getAxis("x"),ue=oe.getAxis("y");c(ie,se),c(ie,ue)}},this);function c(ee,te){each$3(getDataDimensionsOnAxis(ee,te.dim),function(ae){te.scale.unionExtentFromData(ee,ae)})}},n.prototype.getTooltipAxes=function(t){var u=[],c=[];return each$3(this.getCartesians(),function(ee){var te=t!=null&&t!=="auto"?ee.getAxis(t):ee.getBaseAxis(),ae=ee.getOtherAxis(te);indexOf$5(u,te)<0&&u.push(te),indexOf$5(c,ae)<0&&c.push(ae)}),{baseAxes:u,otherAxes:c}},n.create=function(t,u){var c=[];return t.eachComponent("grid",function(ee,te){var ae=new n(ee,t,u);ae.name="grid_"+te,ae.resize(ee,u,!0),ee.coordinateSystem=ae,c.push(ae)}),t.eachSeries(function(ee){if(isCartesian2DSeries(ee)){var te=findAxisModels(ee),ae=te.xAxisModel,ne=te.yAxisModel,oe=ae.getCoordSysModel(),ie=oe.coordinateSystem;ee.coordinateSystem=ie.getCartesian(ae.componentIndex,ne.componentIndex)}}),c},n.dimensions=cartesian2DDimensions,n}();function isAxisUsedInTheGrid(n,t){return n.getCoordSysModel()===t}function fixAxisOnZero(n,t,u,c){u.getAxesOnZeroOf=function(){return te?[te]:[]};var ee=n[t],te,ae=u.model,ne=ae.get(["axisLine","onZero"]),oe=ae.get(["axisLine","onZeroAxisIndex"]);if(!ne)return;if(oe!=null)canOnZeroToAxis(ee[oe])&&(te=ee[oe]);else for(var ie in ee)if(ee.hasOwnProperty(ie)&&canOnZeroToAxis(ee[ie])&&!c[se(ee[ie])]){te=ee[ie];break}te&&(c[se(te)]=!0);function se(ue){return ue.dim+"_"+ue.index}}function canOnZeroToAxis(n){return n&&n.type!=="category"&&n.type!=="time"&&ifAxisCrossZero(n)}function updateAxisTransform(n,t){var u=n.getExtent(),c=u[0]+u[1];n.toGlobalCoord=n.dim==="x"?function(ee){return ee+t}:function(ee){return c-ee+t},n.toLocalCoord=n.dim==="x"?function(ee){return ee-t}:function(ee){return c-ee+t}}var PI=Math.PI,AxisBuilder=function(){function n(t,u){this.group=new Group,this.opt=u,this.axisModel=t,defaults(u,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var c=new Group({x:u.position[0],y:u.position[1],rotation:u.rotation});c.updateTransform(),this._transformGroup=c}return n.prototype.hasBuilder=function(t){return!!builders[t]},n.prototype.add=function(t){builders[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,u,c){var ee=remRadian(u-t),te,ae;return isRadianAroundZero(ee)?(ae=c>0?"top":"bottom",te="center"):isRadianAroundZero(ee-PI)?(ae=c>0?"bottom":"top",te="center"):(ae="middle",ee>0&&ee<PI?te=c>0?"right":"left":te=c>0?"left":"right"),{rotation:ee,textAlign:te,textVerticalAlign:ae}},n.makeAxisEventDataBase=function(t){var u={componentType:t.mainType,componentIndex:t.componentIndex};return u[t.mainType+"Index"]=t.componentIndex,u},n.isLabelSilent=function(t){var u=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||u&&u.show)},n}(),builders={axisLine:function(n,t,u,c){var ee=t.get(["axisLine","show"]);if(ee==="auto"&&n.handleAutoShown&&(ee=n.handleAutoShown("axisLine")),!!ee){var te=t.axis.getExtent(),ae=c.transform,ne=[te[0],0],oe=[te[1],0],ie=ne[0]>oe[0];ae&&(applyTransform$1(ne,ne,ae),applyTransform$1(oe,oe,ae));var se=extend({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),ue=new Line({shape:{x1:ne[0],y1:ne[1],x2:oe[0],y2:oe[1]},style:se,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(ue.shape,ue.style.lineWidth),ue.anid="line",u.add(ue);var le=t.get(["axisLine","symbol"]);if(le!=null){var ce=t.get(["axisLine","symbolSize"]);isString(le)&&(le=[le,le]),(isString(ce)||isNumber(ce))&&(ce=[ce,ce]);var de=normalizeSymbolOffset(t.get(["axisLine","symbolOffset"])||0,ce),fe=ce[0],pe=ce[1];each$3([{rotate:n.rotation+Math.PI/2,offset:de[0],r:0},{rotate:n.rotation-Math.PI/2,offset:de[1],r:Math.sqrt((ne[0]-oe[0])*(ne[0]-oe[0])+(ne[1]-oe[1])*(ne[1]-oe[1]))}],function(me,ge){if(le[ge]!=="none"&&le[ge]!=null){var De=createSymbol(le[ge],-fe/2,-pe/2,fe,pe,se.stroke,!0),Ce=me.r+me.offset,we=ie?oe:ne;De.attr({rotation:me.rotate,x:we[0]+Ce*Math.cos(n.rotation),y:we[1]-Ce*Math.sin(n.rotation),silent:!0,z2:11}),u.add(De)}})}}},axisTickLabel:function(n,t,u,c){var ee=buildAxisMajorTicks(u,c,t,n),te=buildAxisLabel(u,c,t,n);if(fixMinMaxLabelShow(t,te,ee),buildAxisMinorTicks(u,c,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])){var ae=prepareLayoutList(map$6(te,function(ne){return{label:ne,priority:ne.z2,defaultAttr:{ignore:ne.ignore}}}));hideOverlap(ae)}},axisName:function(n,t,u,c){var ee=retrieve(n.axisName,t.get("name"));if(ee){var te=t.get("nameLocation"),ae=n.nameDirection,ne=t.getModel("nameTextStyle"),oe=t.get("nameGap")||0,ie=t.axis.getExtent(),se=ie[0]>ie[1]?-1:1,ue=[te==="start"?ie[0]-se*oe:te==="end"?ie[1]+se*oe:(ie[0]+ie[1])/2,isNameLocationCenter(te)?n.labelOffset+ae*oe:0],le,ce=t.get("nameRotate");ce!=null&&(ce=ce*PI/180);var de;isNameLocationCenter(te)?le=AxisBuilder.innerTextLayout(n.rotation,ce??n.rotation,ae):(le=endTextLayout(n.rotation,te,ce||0,ie),de=n.axisNameAvailableWidth,de!=null&&(de=Math.abs(de/Math.sin(le.rotation)),!isFinite(de)&&(de=null)));var fe=ne.getFont(),pe=t.get("nameTruncate",!0)||{},me=pe.ellipsis,ge=retrieve(n.nameTruncateMaxWidth,pe.maxWidth,de),De=new ZRText({x:ue[0],y:ue[1],rotation:le.rotation,silent:AxisBuilder.isLabelSilent(t),style:createTextStyle(ne,{text:ee,font:fe,overflow:"truncate",width:ge,ellipsis:me,fill:ne.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:ne.get("align")||le.textAlign,verticalAlign:ne.get("verticalAlign")||le.textVerticalAlign}),z2:1});if(setTooltipConfig({el:De,componentModel:t,itemName:ee}),De.__fullText=ee,De.anid="name",t.get("triggerEvent")){var Ce=AxisBuilder.makeAxisEventDataBase(t);Ce.targetType="axisName",Ce.name=ee,getECData(De).eventData=Ce}c.add(De),De.updateTransform(),u.add(De),De.decomposeTransform()}}};function endTextLayout(n,t,u,c){var ee=remRadian(u-n),te,ae,ne=c[0]>c[1],oe=t==="start"&&!ne||t!=="start"&&ne;return isRadianAroundZero(ee-PI/2)?(ae=oe?"bottom":"top",te="center"):isRadianAroundZero(ee-PI*1.5)?(ae=oe?"top":"bottom",te="center"):(ae="middle",ee<PI*1.5&&ee>PI/2?te=oe?"left":"right":te=oe?"right":"left"),{rotation:ee,textAlign:te,textVerticalAlign:ae}}function fixMinMaxLabelShow(n,t,u){if(!shouldShowAllLabels(n.axis)){var c=n.get(["axisLabel","showMinLabel"]),ee=n.get(["axisLabel","showMaxLabel"]);t=t||[],u=u||[];var te=t[0],ae=t[1],ne=t[t.length-1],oe=t[t.length-2],ie=u[0],se=u[1],ue=u[u.length-1],le=u[u.length-2];c===!1?(ignoreEl(te),ignoreEl(ie)):isTwoLabelOverlapped(te,ae)&&(c?(ignoreEl(ae),ignoreEl(se)):(ignoreEl(te),ignoreEl(ie))),ee===!1?(ignoreEl(ne),ignoreEl(ue)):isTwoLabelOverlapped(oe,ne)&&(ee?(ignoreEl(oe),ignoreEl(le)):(ignoreEl(ne),ignoreEl(ue)))}}function ignoreEl(n){n&&(n.ignore=!0)}function isTwoLabelOverlapped(n,t){var u=n&&n.getBoundingRect().clone(),c=t&&t.getBoundingRect().clone();if(!(!u||!c)){var ee=identity([]);return rotate(ee,ee,-n.rotation),u.applyTransform(mul([],ee,n.getLocalTransform())),c.applyTransform(mul([],ee,t.getLocalTransform())),u.intersect(c)}}function isNameLocationCenter(n){return n==="middle"||n==="center"}function createTicks(n,t,u,c,ee){for(var te=[],ae=[],ne=[],oe=0;oe<n.length;oe++){var ie=n[oe].coord;ae[0]=ie,ae[1]=0,ne[0]=ie,ne[1]=u,t&&(applyTransform$1(ae,ae,t),applyTransform$1(ne,ne,t));var se=new Line({shape:{x1:ae[0],y1:ae[1],x2:ne[0],y2:ne[1]},style:c,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(se.shape,se.style.lineWidth),se.anid=ee+"_"+n[oe].tickValue,te.push(se)}return te}function buildAxisMajorTicks(n,t,u,c){var ee=u.axis,te=u.getModel("axisTick"),ae=te.get("show");if(ae==="auto"&&c.handleAutoShown&&(ae=c.handleAutoShown("axisTick")),!(!ae||ee.scale.isBlank())){for(var ne=te.getModel("lineStyle"),oe=c.tickDirection*te.get("length"),ie=ee.getTicksCoords(),se=createTicks(ie,t.transform,oe,defaults(ne.getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])}),"ticks"),ue=0;ue<se.length;ue++)n.add(se[ue]);return se}}function buildAxisMinorTicks(n,t,u,c){var ee=u.axis,te=u.getModel("minorTick");if(!(!te.get("show")||ee.scale.isBlank())){var ae=ee.getMinorTicksCoords();if(ae.length)for(var ne=te.getModel("lineStyle"),oe=c*te.get("length"),ie=defaults(ne.getLineStyle(),defaults(u.getModel("axisTick").getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])})),se=0;se<ae.length;se++)for(var ue=createTicks(ae[se],t.transform,oe,ie,"minorticks_"+se),le=0;le<ue.length;le++)n.add(ue[le])}}function buildAxisLabel(n,t,u,c){var ee=u.axis,te=retrieve(c.axisLabelShow,u.get(["axisLabel","show"]));if(!(!te||ee.scale.isBlank())){var ae=u.getModel("axisLabel"),ne=ae.get("margin"),oe=ee.getViewLabels(),ie=(retrieve(c.labelRotate,ae.get("rotate"))||0)*PI/180,se=AxisBuilder.innerTextLayout(c.rotation,ie,c.labelDirection),ue=u.getCategories&&u.getCategories(!0),le=[],ce=AxisBuilder.isLabelSilent(u),de=u.get("triggerEvent");return each$3(oe,function(fe,pe){var me=ee.scale.type==="ordinal"?ee.scale.getRawOrdinalNumber(fe.tickValue):fe.tickValue,ge=fe.formattedLabel,De=fe.rawLabel,Ce=ae;if(ue&&ue[me]){var we=ue[me];isObject$3(we)&&we.textStyle&&(Ce=new Model(we.textStyle,ae,u.ecModel))}var xe=Ce.getTextColor()||u.get(["axisLine","lineStyle","color"]),Re=ee.dataToCoord(me),Be=Ce.getShallow("align",!0)||se.textAlign,Se=retrieve2(Ce.getShallow("alignMinLabel",!0),Be),Te=retrieve2(Ce.getShallow("alignMaxLabel",!0),Be),Ae=Ce.getShallow("verticalAlign",!0)||Ce.getShallow("baseline",!0)||se.textVerticalAlign,he=retrieve2(Ce.getShallow("verticalAlignMinLabel",!0),Ae),ve=retrieve2(Ce.getShallow("verticalAlignMaxLabel",!0),Ae),ye=new ZRText({x:Re,y:c.labelOffset+c.labelDirection*ne,rotation:se.rotation,silent:ce,z2:10+(fe.level||0),style:createTextStyle(Ce,{text:ge,align:pe===0?Se:pe===oe.length-1?Te:Be,verticalAlign:pe===0?he:pe===oe.length-1?ve:Ae,fill:isFunction(xe)?xe(ee.type==="category"?De:ee.type==="value"?me+"":me,pe):xe})});if(ye.anid="label_"+me,setTooltipConfig({el:ye,componentModel:u,itemName:ge,formatterParamsExtra:{isTruncated:function(){return ye.isTruncated},value:De,tickIndex:pe}}),de){var be=AxisBuilder.makeAxisEventDataBase(u);be.targetType="axisLabel",be.value=De,be.tickIndex=pe,ee.type==="category"&&(be.dataIndex=me),getECData(ye).eventData=be}t.add(ye),ye.updateTransform(),le.push(ye),n.add(ye),ye.decomposeTransform()}),le}}function collect$1(n,t){var u={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(u,n,t),u.seriesInvolved&&collectSeriesInfo(u,n),u}function collectAxesInfo(n,t,u){var c=t.getComponent("tooltip"),ee=t.getComponent("axisPointer"),te=ee.get("link",!0)||[],ae=[];each$3(u.getCoordinateSystems(),function(ne){if(!ne.axisPointerEnabled)return;var oe=makeKey(ne.model),ie=n.coordSysAxesInfo[oe]={};n.coordSysMap[oe]=ne;var se=ne.model,ue=se.getModel("tooltip",c);if(each$3(ne.getAxes(),curry(fe,!1,null)),ne.getTooltipAxes&&c&&ue.get("show")){var le=ue.get("trigger")==="axis",ce=ue.get(["axisPointer","type"])==="cross",de=ne.getTooltipAxes(ue.get(["axisPointer","axis"]));(le||ce)&&each$3(de.baseAxes,curry(fe,ce?"cross":!0,le)),ce&&each$3(de.otherAxes,curry(fe,"cross",!1))}function fe(pe,me,ge){var De=ge.model.getModel("axisPointer",ee),Ce=De.get("show");if(!(!Ce||Ce==="auto"&&!pe&&!isHandleTrigger(De))){me==null&&(me=De.get("triggerTooltip")),De=pe?makeAxisPointerModel(ge,ue,ee,t,pe,me):De;var we=De.get("snap"),xe=De.get("triggerEmphasis"),Re=makeKey(ge.model),Be=me||we||ge.type==="category",Se=n.axesInfo[Re]={key:Re,axis:ge,coordSys:ne,axisPointerModel:De,triggerTooltip:me,triggerEmphasis:xe,involveSeries:Be,snap:we,useHandle:isHandleTrigger(De),seriesModels:[],linkGroup:null};ie[Re]=Se,n.seriesInvolved=n.seriesInvolved||Be;var Te=getLinkGroupIndex(te,ge);if(Te!=null){var Ae=ae[Te]||(ae[Te]={axesInfo:{}});Ae.axesInfo[Re]=Se,Ae.mapper=te[Te].mapper,Se.linkGroup=Ae}}}})}function makeAxisPointerModel(n,t,u,c,ee,te){var ae=t.getModel("axisPointer"),ne=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],oe={};each$3(ne,function(le){oe[le]=clone$3(ae.get(le))}),oe.snap=n.type!=="category"&&!!te,ae.get("type")==="cross"&&(oe.type="line");var ie=oe.label||(oe.label={});if(ie.show==null&&(ie.show=!1),ee==="cross"){var se=ae.get(["label","show"]);if(ie.show=se??!0,!te){var ue=oe.lineStyle=ae.get("crossStyle");ue&&defaults(ie,ue.textStyle)}}return n.model.getModel("axisPointer",new Model(oe,u,c))}function collectSeriesInfo(n,t){t.eachSeries(function(u){var c=u.coordinateSystem,ee=u.get(["tooltip","trigger"],!0),te=u.get(["tooltip","show"],!0);!c||ee==="none"||ee===!1||ee==="item"||te===!1||u.get(["axisPointer","show"],!0)===!1||each$3(n.coordSysAxesInfo[makeKey(c.model)],function(ae){var ne=ae.axis;c.getAxis(ne.dim)===ne&&(ae.seriesModels.push(u),ae.seriesDataCount==null&&(ae.seriesDataCount=0),ae.seriesDataCount+=u.getData().count())})})}function getLinkGroupIndex(n,t){for(var u=t.model,c=t.dim,ee=0;ee<n.length;ee++){var te=n[ee]||{};if(checkPropInLink(te[c+"AxisId"],u.id)||checkPropInLink(te[c+"AxisIndex"],u.componentIndex)||checkPropInLink(te[c+"AxisName"],u.name))return ee}}function checkPropInLink(n,t){return n==="all"||isArray$6(n)&&indexOf$5(n,t)>=0||n===t}function fixValue(n){var t=getAxisInfo(n);if(t){var u=t.axisPointerModel,c=t.axis.scale,ee=u.option,te=u.get("status"),ae=u.get("value");ae!=null&&(ae=c.parse(ae));var ne=isHandleTrigger(u);te==null&&(ee.status=ne?"show":"hide");var oe=c.getExtent().slice();oe[0]>oe[1]&&oe.reverse(),(ae==null||ae>oe[1])&&(ae=oe[1]),ae<oe[0]&&(ae=oe[0]),ee.value=ae,ne&&(ee.status=t.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[makeKey(n)]}function getAxisPointerModel(n){var t=getAxisInfo(n);return t&&t.axisPointerModel}function isHandleTrigger(n){return!!n.get(["handle","show"])}function makeKey(n){return n.type+"||"+n.id}var axisPointerClazz={},AxisView=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type=t.type,u}return t.prototype.render=function(u,c,ee,te){this.axisPointerClass&&fixValue(u),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(u,ee,!0)},t.prototype.updateAxisPointer=function(u,c,ee,te){this._doUpdateAxisPointerClass(u,ee,!1)},t.prototype.remove=function(u,c){var ee=this._axisPointer;ee&&ee.remove(c)},t.prototype.dispose=function(u,c){this._disposeAxisPointer(c),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(u,c,ee){var te=t.getAxisPointerClass(this.axisPointerClass);if(te){var ae=getAxisPointerModel(u);ae?(this._axisPointer||(this._axisPointer=new te)).render(u,ae,c,ee):this._disposeAxisPointer(c)}},t.prototype._disposeAxisPointer=function(u){this._axisPointer&&this._axisPointer.dispose(u),this._axisPointer=null},t.registerAxisPointerClass=function(u,c){axisPointerClazz[u]=c},t.getAxisPointerClass=function(u){return u&&axisPointerClazz[u]},t.type="axis",t}(ComponentView),inner$3=makeInner();function rectCoordAxisBuildSplitArea(n,t,u,c){var ee=u.axis;if(!ee.scale.isBlank()){var te=u.getModel("splitArea"),ae=te.getModel("areaStyle"),ne=ae.get("color"),oe=c.coordinateSystem.getRect(),ie=ee.getTicksCoords({tickModel:te,clamp:!0});if(ie.length){var se=ne.length,ue=inner$3(n).splitAreaColors,le=createHashMap(),ce=0;if(ue)for(var de=0;de<ie.length;de++){var fe=ue.get(ie[de].tickValue);if(fe!=null){ce=(fe+(se-1)*de)%se;break}}var pe=ee.toGlobalCoord(ie[0].coord),me=ae.getAreaStyle();ne=isArray$6(ne)?ne:[ne];for(var de=1;de<ie.length;de++){var ge=ee.toGlobalCoord(ie[de].coord),De=void 0,Ce=void 0,we=void 0,xe=void 0;ee.isHorizontal()?(De=pe,Ce=oe.y,we=ge-De,xe=oe.height,pe=De+we):(De=oe.x,Ce=pe,we=oe.width,xe=ge-Ce,pe=Ce+xe);var Re=ie[de-1].tickValue;Re!=null&&le.set(Re,ce),t.add(new Rect({anid:Re!=null?"area_"+Re:null,shape:{x:De,y:Ce,width:we,height:xe},style:defaults({fill:ne[ce]},me),autoBatch:!0,silent:!0})),ce=(ce+1)%se}inner$3(n).splitAreaColors=le}}}function rectCoordAxisHandleRemove(n){inner$3(n).splitAreaColors=null}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type=t.type,u.axisPointerClass="CartesianAxisPointer",u}return t.prototype.render=function(u,c,ee,te){this.group.removeAll();var ae=this._axisGroup;if(this._axisGroup=new Group,this.group.add(this._axisGroup),!!u.get("show")){var ne=u.getCoordSysModel(),oe=layout(ne,u),ie=new AxisBuilder(u,extend({handleAutoShown:function(ue){for(var le=ne.coordinateSystem.getCartesians(),ce=0;ce<le.length;ce++)if(isIntervalOrLogScale(le[ce].getOtherAxis(u.axis).scale))return!0;return!1}},oe));each$3(axisBuilderAttrs,ie.add,ie),this._axisGroup.add(ie.getGroup()),each$3(selfBuilderAttrs,function(ue){u.get([ue,"show"])&&axisElementBuilders[ue](this,this._axisGroup,u,ne)},this);var se=te&&te.type==="changeAxisOrder"&&te.isInitSort;se||groupTransition(ae,this._axisGroup,u),n.prototype.render.call(this,u,c,ee,te)}},t.prototype.remove=function(){rectCoordAxisHandleRemove(this)},t.type="cartesianAxis",t}(AxisView),axisElementBuilders={splitLine:function(n,t,u,c){var ee=u.axis;if(!ee.scale.isBlank()){var te=u.getModel("splitLine"),ae=te.getModel("lineStyle"),ne=ae.get("color"),oe=te.get("showMinLine")!==!1,ie=te.get("showMaxLine")!==!1;ne=isArray$6(ne)?ne:[ne];for(var se=c.coordinateSystem.getRect(),ue=ee.isHorizontal(),le=0,ce=ee.getTicksCoords({tickModel:te}),de=[],fe=[],pe=ae.getLineStyle(),me=0;me<ce.length;me++){var ge=ee.toGlobalCoord(ce[me].coord);if(!(me===0&&!oe||me===ce.length-1&&!ie)){var De=ce[me].tickValue;ue?(de[0]=ge,de[1]=se.y,fe[0]=ge,fe[1]=se.y+se.height):(de[0]=se.x,de[1]=ge,fe[0]=se.x+se.width,fe[1]=ge);var Ce=le++%ne.length,we=new Line({anid:De!=null?"line_"+De:null,autoBatch:!0,shape:{x1:de[0],y1:de[1],x2:fe[0],y2:fe[1]},style:defaults({stroke:ne[Ce]},pe),silent:!0});subPixelOptimizeLine(we.shape,pe.lineWidth),t.add(we)}}}},minorSplitLine:function(n,t,u,c){var ee=u.axis,te=u.getModel("minorSplitLine"),ae=te.getModel("lineStyle"),ne=c.coordinateSystem.getRect(),oe=ee.isHorizontal(),ie=ee.getMinorTicksCoords();if(ie.length)for(var se=[],ue=[],le=ae.getLineStyle(),ce=0;ce<ie.length;ce++)for(var de=0;de<ie[ce].length;de++){var fe=ee.toGlobalCoord(ie[ce][de].coord);oe?(se[0]=fe,se[1]=ne.y,ue[0]=fe,ue[1]=ne.y+ne.height):(se[0]=ne.x,se[1]=fe,ue[0]=ne.x+ne.width,ue[1]=fe);var pe=new Line({anid:"minor_line_"+ie[ce][de].tickValue,autoBatch:!0,shape:{x1:se[0],y1:se[1],x2:ue[0],y2:ue[1]},style:le,silent:!0});subPixelOptimizeLine(pe.shape,le.lineWidth),t.add(pe)}},splitArea:function(n,t,u,c){rectCoordAxisBuildSplitArea(n,t,u,c)}},CartesianXAxisView=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type=t.type,u}return t.type="xAxis",t}(CartesianAxisView),CartesianYAxisView=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type=CartesianXAxisView.type,u}return t.type="yAxis",t}(CartesianAxisView),GridView=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type="grid",u}return t.prototype.render=function(u,c){this.group.removeAll(),u.get("show")&&this.group.add(new Rect({shape:u.coordinateSystem.getRect(),style:defaults({fill:u.get("backgroundColor")},u.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(ComponentView),extraOption={offset:0};function install$3(n){n.registerComponentView(GridView),n.registerComponentModel(GridModel),n.registerCoordinateSystem("cartesian2d",Grid),axisModelCreator(n,"x",CartesianAxisModel,extraOption),axisModelCreator(n,"y",CartesianAxisModel,extraOption),n.registerComponentView(CartesianXAxisView),n.registerComponentView(CartesianYAxisView),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var inner$2=makeInner(),clone$1=clone$3,bind$3=bind$4,BaseAxisPointer=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,u,c,ee){var te=u.get("value"),ae=u.get("status");if(this._axisModel=t,this._axisPointerModel=u,this._api=c,!(!ee&&this._lastValue===te&&this._lastStatus===ae)){this._lastValue=te,this._lastStatus=ae;var ne=this._group,oe=this._handle;if(!ae||ae==="hide"){ne&&ne.hide(),oe&&oe.hide();return}ne&&ne.show(),oe&&oe.show();var ie={};this.makeElOption(ie,te,t,u,c);var se=ie.graphicKey;se!==this._lastGraphicKey&&this.clear(c),this._lastGraphicKey=se;var ue=this._moveAnimation=this.determineAnimation(t,u);if(!ne)ne=this._group=new Group,this.createPointerEl(ne,ie,t,u),this.createLabelEl(ne,ie,t,u),c.getZr().add(ne);else{var le=curry(updateProps,u,ue);this.updatePointerEl(ne,ie,le),this.updateLabelEl(ne,ie,le,u)}updateMandatoryProps(ne,u,!0),this._renderHandle(te)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,u){var c=u.get("animation"),ee=t.axis,te=ee.type==="category",ae=u.get("snap");if(!ae&&!te)return!1;if(c==="auto"||c==null){var ne=this.animationThreshold;if(te&&ee.getBandWidth()>ne)return!0;if(ae){var oe=getAxisInfo(t).seriesDataCount,ie=ee.getExtent();return Math.abs(ie[0]-ie[1])/oe>ne}return!1}return c===!0},n.prototype.makeElOption=function(t,u,c,ee,te){},n.prototype.createPointerEl=function(t,u,c,ee){var te=u.pointer;if(te){var ae=inner$2(t).pointerEl=new graphic[te.type](clone$1(u.pointer));t.add(ae)}},n.prototype.createLabelEl=function(t,u,c,ee){if(u.label){var te=inner$2(t).labelEl=new ZRText(clone$1(u.label));t.add(te),updateLabelShowHide(te,ee)}},n.prototype.updatePointerEl=function(t,u,c){var ee=inner$2(t).pointerEl;ee&&u.pointer&&(ee.setStyle(u.pointer.style),c(ee,{shape:u.pointer.shape}))},n.prototype.updateLabelEl=function(t,u,c,ee){var te=inner$2(t).labelEl;te&&(te.setStyle(u.label.style),c(te,{x:u.label.x,y:u.label.y}),updateLabelShowHide(te,ee))},n.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var u=this._axisPointerModel,c=this._api.getZr(),ee=this._handle,te=u.getModel("handle"),ae=u.get("status");if(!te.get("show")||!ae||ae==="hide"){ee&&c.remove(ee),this._handle=null;return}var ne;this._handle||(ne=!0,ee=this._handle=createIcon(te.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(ie){stop(ie.event)},onmousedown:bind$3(this._onHandleDragMove,this,0,0),drift:bind$3(this._onHandleDragMove,this),ondragend:bind$3(this._onHandleDragEnd,this)}),c.add(ee)),updateMandatoryProps(ee,u,!1),ee.setStyle(te.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var oe=te.get("size");isArray$6(oe)||(oe=[oe,oe]),ee.scaleX=oe[0]/2,ee.scaleY=oe[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",te.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,ne)}},n.prototype._moveHandleToValue=function(t,u){updateProps(this._axisPointerModel,!u&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,u){var c=this._handle;if(c){this._dragging=!0;var ee=this.updateHandleTransform(getHandleTransProps(c),[t,u],this._axisModel,this._axisPointerModel);this._payloadInfo=ee,c.stopAnimation(),c.attr(getHandleTransProps(ee)),inner$2(c).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var u=this._payloadInfo,c=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:u.cursorPoint[0],y:u.cursorPoint[1],tooltipOption:u.tooltipOption,axesInfo:[{axisDim:c.axis.dim,axisIndex:c.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var u=this._axisPointerModel.get("value");this._moveHandleToValue(u),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var u=t.getZr(),c=this._group,ee=this._handle;u&&c&&(this._lastGraphicKey=null,c&&u.remove(c),ee&&u.remove(ee),this._group=null,this._handle=null,this._payloadInfo=null),clear(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,u,c){return c=c||0,{x:t[c],y:t[1-c],width:u[c],height:u[1-c]}},n}();function updateProps(n,t,u,c){propsEqual(inner$2(u).lastProp,c)||(inner$2(u).lastProp=c,t?updateProps$1(u,c,n):(u.stopAnimation(),u.attr(c)))}function propsEqual(n,t){if(isObject$3(n)&&isObject$3(t)){var u=!0;return each$3(t,function(c,ee){u=u&&propsEqual(n[ee],c)}),!!u}else return n===t}function updateLabelShowHide(n,t){n[t.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function updateMandatoryProps(n,t,u){var c=t.get("z"),ee=t.get("zlevel");n&&n.traverse(function(te){te.type!=="group"&&(c!=null&&(te.z=c),ee!=null&&(te.zlevel=ee),te.silent=u)})}function buildElStyle(n){var t=n.get("type"),u=n.getModel(t+"Style"),c;return t==="line"?(c=u.getLineStyle(),c.fill=null):t==="shadow"&&(c=u.getAreaStyle(),c.stroke=null),c}function buildLabelElOption(n,t,u,c,ee){var te=u.get("value"),ae=getValueLabel(te,t.axis,t.ecModel,u.get("seriesDataIndices"),{precision:u.get(["label","precision"]),formatter:u.get(["label","formatter"])}),ne=u.getModel("label"),oe=normalizeCssArray(ne.get("padding")||0),ie=ne.getFont(),se=getBoundingRect(ae,ie),ue=ee.position,le=se.width+oe[1]+oe[3],ce=se.height+oe[0]+oe[2],de=ee.align;de==="right"&&(ue[0]-=le),de==="center"&&(ue[0]-=le/2);var fe=ee.verticalAlign;fe==="bottom"&&(ue[1]-=ce),fe==="middle"&&(ue[1]-=ce/2),confineInContainer(ue,le,ce,c);var pe=ne.get("backgroundColor");(!pe||pe==="auto")&&(pe=t.get(["axisLine","lineStyle","color"])),n.label={x:ue[0],y:ue[1],style:createTextStyle(ne,{text:ae,font:ie,fill:ne.getTextColor(),padding:oe,backgroundColor:pe}),z2:10}}function confineInContainer(n,t,u,c){var ee=c.getWidth(),te=c.getHeight();n[0]=Math.min(n[0]+t,ee)-t,n[1]=Math.min(n[1]+u,te)-u,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function getValueLabel(n,t,u,c,ee){n=t.scale.parse(n);var te=t.scale.getLabel({value:n},{precision:ee.precision}),ae=ee.formatter;if(ae){var ne={value:getAxisRawValue(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};each$3(c,function(oe){var ie=u.getSeriesByIndex(oe.seriesIndex),se=oe.dataIndexInside,ue=ie&&ie.getDataParams(se);ue&&ne.seriesData.push(ue)}),isString(ae)?te=ae.replace("{value}",te):isFunction(ae)&&(te=ae(ne))}return te}function getTransformedPosition(n,t,u){var c=create$3();return rotate(c,c,u.rotation),translate(c,c,u.position),applyTransform([n.dataToCoord(t),(u.labelOffset||0)+(u.labelDirection||1)*(u.labelMargin||0)],c)}function buildCartesianSingleLabelElOption(n,t,u,c,ee,te){var ae=AxisBuilder.innerTextLayout(u.rotation,0,u.labelDirection);u.labelMargin=ee.get(["label","margin"]),buildLabelElOption(t,c,ee,te,{position:getTransformedPosition(c.axis,n,u),align:ae.textAlign,verticalAlign:ae.textVerticalAlign})}function makeLineShape(n,t,u){return u=u||0,{x1:n[u],y1:n[1-u],x2:t[u],y2:t[1-u]}}function makeRectShape(n,t,u){return u=u||0,{x:n[u],y:n[1-u],width:t[u],height:t[1-u]}}var CartesianAxisPointer=function(n){__extends$1(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.makeElOption=function(u,c,ee,te,ae){var ne=ee.axis,oe=ne.grid,ie=te.get("type"),se=getCartesian(oe,ne).getOtherAxis(ne).getGlobalExtent(),ue=ne.toGlobalCoord(ne.dataToCoord(c,!0));if(ie&&ie!=="none"){var le=buildElStyle(te),ce=pointerShapeBuilder[ie](ne,ue,se);ce.style=le,u.graphicKey=ce.type,u.pointer=ce}var de=layout(oe.model,ee);buildCartesianSingleLabelElOption(c,u,de,ee,te,ae)},t.prototype.getHandleTransform=function(u,c,ee){var te=layout(c.axis.grid.model,c,{labelInside:!1});te.labelMargin=ee.get(["handle","margin"]);var ae=getTransformedPosition(c.axis,u,te);return{x:ae[0],y:ae[1],rotation:te.rotation+(te.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(u,c,ee,te){var ae=ee.axis,ne=ae.grid,oe=ae.getGlobalExtent(!0),ie=getCartesian(ne,ae).getOtherAxis(ae).getGlobalExtent(),se=ae.dim==="x"?0:1,ue=[u.x,u.y];ue[se]+=c[se],ue[se]=Math.min(oe[1],ue[se]),ue[se]=Math.max(oe[0],ue[se]);var le=(ie[1]+ie[0])/2,ce=[le,le];ce[se]=ue[se];var de=[{verticalAlign:"middle"},{align:"center"}];return{x:ue[0],y:ue[1],rotation:u.rotation,cursorPoint:ce,tooltipOption:de[se]}},t}(BaseAxisPointer);function getCartesian(n,t){var u={};return u[t.dim+"AxisIndex"]=t.index,n.getCartesian(u)}var pointerShapeBuilder={line:function(n,t,u){var c=makeLineShape([t,u[0]],[t,u[1]],getAxisDimIndex(n));return{type:"Line",subPixelOptimize:!0,shape:c}},shadow:function(n,t,u){var c=Math.max(1,n.getBandWidth()),ee=u[1]-u[0];return{type:"Rect",shape:makeRectShape([t-c/2,u[0]],[c,ee],getAxisDimIndex(n))}}};function getAxisDimIndex(n){return n.dim==="x"?0:1}var AxisPointerModel=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type=t.type,u}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(ComponentModel),inner$1=makeInner(),each=each$3;function register$1(n,t,u){if(!env.node){var c=t.getZr();inner$1(c).records||(inner$1(c).records={}),initGlobalListeners(c,t);var ee=inner$1(c).records[n]||(inner$1(c).records[n]={});ee.handler=u}}function initGlobalListeners(n,t){if(inner$1(n).initialized)return;inner$1(n).initialized=!0,u("click",curry(doEnter,"click")),u("mousemove",curry(doEnter,"mousemove")),u("globalout",onLeave);function u(c,ee){n.on(c,function(te){var ae=makeDispatchAction$1(t);each(inner$1(n).records,function(ne){ne&&ee(ne,te,ae.dispatchAction)}),dispatchTooltipFinally(ae.pendings,t)})}}function dispatchTooltipFinally(n,t){var u=n.showTip.length,c=n.hideTip.length,ee;u?ee=n.showTip[u-1]:c&&(ee=n.hideTip[c-1]),ee&&(ee.dispatchAction=null,t.dispatchAction(ee))}function onLeave(n,t,u){n.handler("leave",null,u)}function doEnter(n,t,u,c){t.handler(n,u,c)}function makeDispatchAction$1(n){var t={showTip:[],hideTip:[]},u=function(c){var ee=t[c.type];ee?ee.push(c):(c.dispatchAction=u,n.dispatchAction(c))};return{dispatchAction:u,pendings:t}}function unregister(n,t){if(!env.node){var u=t.getZr(),c=(inner$1(u).records||{})[n];c&&(inner$1(u).records[n]=null)}}var AxisPointerView=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type=t.type,u}return t.prototype.render=function(u,c,ee){var te=c.getComponent("tooltip"),ae=u.get("triggerOn")||te&&te.get("triggerOn")||"mousemove|click";register$1("axisPointer",ee,function(ne,oe,ie){ae!=="none"&&(ne==="leave"||ae.indexOf(ne)>=0)&&ie({type:"updateAxisPointer",currTrigger:ne,x:oe&&oe.offsetX,y:oe&&oe.offsetY})})},t.prototype.remove=function(u,c){unregister("axisPointer",c)},t.prototype.dispose=function(u,c){unregister("axisPointer",c)},t.type="axisPointer",t}(ComponentView);function findPointFromSeries(n,t){var u=[],c=n.seriesIndex,ee;if(c==null||!(ee=t.getSeriesByIndex(c)))return{point:[]};var te=ee.getData(),ae=queryDataIndex(te,n);if(ae==null||ae<0||isArray$6(ae))return{point:[]};var ne=te.getItemGraphicEl(ae),oe=ee.coordinateSystem;if(ee.getTooltipPosition)u=ee.getTooltipPosition(ae)||[];else if(oe&&oe.dataToPoint)if(n.isStacked){var ie=oe.getBaseAxis(),se=oe.getOtherAxis(ie),ue=se.dim,le=ie.dim,ce=ue==="x"||ue==="radius"?1:0,de=te.mapDimension(le),fe=[];fe[ce]=te.get(de,ae),fe[1-ce]=te.get(te.getCalculationInfo("stackResultDimension"),ae),u=oe.dataToPoint(fe)||[]}else u=oe.dataToPoint(te.getValues(map$6(oe.dimensions,function(me){return te.mapDimension(me)}),ae))||[];else if(ne){var pe=ne.getBoundingRect().clone();pe.applyTransform(ne.transform),u=[pe.x+pe.width/2,pe.y+pe.height/2]}return{point:u,el:ne}}var inner=makeInner();function axisTrigger(n,t,u){var c=n.currTrigger,ee=[n.x,n.y],te=n,ae=n.dispatchAction||bind$4(u.dispatchAction,u),ne=t.getComponent("axisPointer").coordSysAxesInfo;if(ne){illegalPoint(ee)&&(ee=findPointFromSeries({seriesIndex:te.seriesIndex,dataIndex:te.dataIndex},t).point);var oe=illegalPoint(ee),ie=te.axesInfo,se=ne.axesInfo,ue=c==="leave"||illegalPoint(ee),le={},ce={},de={list:[],map:{}},fe={showPointer:curry(showPointer,ce),showTooltip:curry(showTooltip,de)};each$3(ne.coordSysMap,function(me,ge){var De=oe||me.containPoint(ee);each$3(ne.coordSysAxesInfo[ge],function(Ce,we){var xe=Ce.axis,Re=findInputAxisInfo(ie,Ce);if(!ue&&De&&(!ie||Re)){var Be=Re&&Re.value;Be==null&&!oe&&(Be=xe.pointToData(ee)),Be!=null&&processOnAxis(Ce,Be,fe,!1,le)}})});var pe={};return each$3(se,function(me,ge){var De=me.linkGroup;De&&!ce[ge]&&each$3(De.axesInfo,function(Ce,we){var xe=ce[we];if(Ce!==me&&xe){var Re=xe.value;De.mapper&&(Re=me.axis.scale.parse(De.mapper(Re,makeMapperParam(Ce),makeMapperParam(me)))),pe[me.key]=Re}})}),each$3(pe,function(me,ge){processOnAxis(se[ge],me,fe,!0,le)}),updateModelActually(ce,se,le),dispatchTooltipActually(de,ee,n,ae),dispatchHighDownActually(se,ae,u),le}}function processOnAxis(n,t,u,c,ee){var te=n.axis;if(!(te.scale.isBlank()||!te.containData(t))){if(!n.involveSeries){u.showPointer(n,t);return}var ae=buildPayloadsBySeries(t,n),ne=ae.payloadBatch,oe=ae.snapToValue;ne[0]&&ee.seriesIndex==null&&extend(ee,ne[0]),!c&&n.snap&&te.containData(oe)&&oe!=null&&(t=oe),u.showPointer(n,t,ne),u.showTooltip(n,ae,oe)}}function buildPayloadsBySeries(n,t){var u=t.axis,c=u.dim,ee=n,te=[],ae=Number.MAX_VALUE,ne=-1;return each$3(t.seriesModels,function(oe,ie){var se=oe.getData().mapDimensionsAll(c),ue,le;if(oe.getAxisTooltipData){var ce=oe.getAxisTooltipData(se,n,u);le=ce.dataIndices,ue=ce.nestestValue}else{if(le=oe.getData().indicesOfNearest(se[0],n,u.type==="category"?.5:null),!le.length)return;ue=oe.getData().get(se[0],le[0])}if(!(ue==null||!isFinite(ue))){var de=n-ue,fe=Math.abs(de);fe<=ae&&((fe<ae||de>=0&&ne<0)&&(ae=fe,ne=de,ee=ue,te.length=0),each$3(le,function(pe){te.push({seriesIndex:oe.seriesIndex,dataIndexInside:pe,dataIndex:oe.getData().getRawIndex(pe)})}))}}),{payloadBatch:te,snapToValue:ee}}function showPointer(n,t,u,c){n[t.key]={value:u,payloadBatch:c}}function showTooltip(n,t,u,c){var ee=u.payloadBatch,te=t.axis,ae=te.model,ne=t.axisPointerModel;if(!(!t.triggerTooltip||!ee.length)){var oe=t.coordSys.model,ie=makeKey(oe),se=n.map[ie];se||(se=n.map[ie]={coordSysId:oe.id,coordSysIndex:oe.componentIndex,coordSysType:oe.type,coordSysMainType:oe.mainType,dataByAxis:[]},n.list.push(se)),se.dataByAxis.push({axisDim:te.dim,axisIndex:ae.componentIndex,axisType:ae.type,axisId:ae.id,value:c,valueLabelOpt:{precision:ne.get(["label","precision"]),formatter:ne.get(["label","formatter"])},seriesDataIndices:ee.slice()})}}function updateModelActually(n,t,u){var c=u.axesInfo=[];each$3(t,function(ee,te){var ae=ee.axisPointerModel.option,ne=n[te];ne?(!ee.useHandle&&(ae.status="show"),ae.value=ne.value,ae.seriesDataIndices=(ne.payloadBatch||[]).slice()):!ee.useHandle&&(ae.status="hide"),ae.status==="show"&&c.push({axisDim:ee.axis.dim,axisIndex:ee.axis.model.componentIndex,value:ae.value})})}function dispatchTooltipActually(n,t,u,c){if(illegalPoint(t)||!n.list.length){c({type:"hideTip"});return}var ee=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};c({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:u.tooltipOption,position:u.position,dataIndexInside:ee.dataIndexInside,dataIndex:ee.dataIndex,seriesIndex:ee.seriesIndex,dataByCoordSys:n.list})}function dispatchHighDownActually(n,t,u){var c=u.getZr(),ee="axisPointerLastHighlights",te=inner(c)[ee]||{},ae=inner(c)[ee]={};each$3(n,function(ie,se){var ue=ie.axisPointerModel.option;ue.status==="show"&&ie.triggerEmphasis&&each$3(ue.seriesDataIndices,function(le){var ce=le.seriesIndex+" | "+le.dataIndex;ae[ce]=le})});var ne=[],oe=[];each$3(te,function(ie,se){!ae[se]&&oe.push(ie)}),each$3(ae,function(ie,se){!te[se]&&ne.push(ie)}),oe.length&&u.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:oe}),ne.length&&u.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:ne})}function findInputAxisInfo(n,t){for(var u=0;u<(n||[]).length;u++){var c=n[u];if(t.axis.dim===c.axisDim&&t.axis.model.componentIndex===c.axisIndex)return c}}function makeMapperParam(n){var t=n.axis.model,u={},c=u.axisDim=n.axis.dim;return u.axisIndex=u[c+"AxisIndex"]=t.componentIndex,u.axisName=u[c+"AxisName"]=t.name,u.axisId=u[c+"AxisId"]=t.id,u}function illegalPoint(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function install$2(n){AxisView.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer),n.registerComponentModel(AxisPointerModel),n.registerComponentView(AxisPointerView),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var u=t.axisPointer.link;u&&!isArray$6(u)&&(t.axisPointer.link=[u])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,u){t.getComponent("axisPointer").coordSysAxesInfo=collect$1(t,u)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$1(n){use(install$3),use(install$2)}var TooltipModel=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type=t.type,u}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(ComponentModel);function shouldTooltipConfine(n){var t=n.get("confine");return t!=null?!!t:n.get("renderMode")==="richText"}function testStyle(n){if(env.domSupported){for(var t=document.documentElement.style,u=0,c=n.length;u<c;u++)if(n[u]in t)return n[u]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(n,t){if(!n)return t;t=toCamelCase(t,!0);var u=n.indexOf(t);return n=u===-1?t:"-"+n.slice(0,u)+"-"+t,n.toLowerCase()}function getComputedStyle(n,t){var u=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return u?u[t]:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env.transform3dSupported?"will-change:transform;":"");function mirrorPos(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function assembleArrow(n,t,u){if(!isString(u)||u==="inside")return"";var c=n.get("backgroundColor"),ee=n.get("borderWidth");t=convertToColorString(t);var te=mirrorPos(u),ae=Math.max(Math.round(ee)*1.5,6),ne="",oe=CSS_TRANSFORM_VENDOR+":",ie;indexOf$5(["left","right"],te)>-1?(ne+="top:50%",oe+="translateY(-50%) rotate("+(ie=te==="left"?-225:-45)+"deg)"):(ne+="left:50%",oe+="translateX(-50%) rotate("+(ie=te==="top"?225:45)+"deg)");var se=ie*Math.PI/180,ue=ae+ee,le=ue*Math.abs(Math.cos(se))+ue*Math.abs(Math.sin(se)),ce=Math.round(((le-Math.SQRT2*ee)/2+Math.SQRT2*ee-(le-ue)/2)*100)/100;ne+=";"+te+":-"+ce+"px";var de=t+" solid "+ee+"px;",fe=["position:absolute;width:"+ae+"px;height:"+ae+"px;z-index:-1;",ne+";"+oe+";","border-bottom:"+de,"border-right:"+de,"background-color:"+c+";"];return'<div style="'+fe.join("")+'"></div>'}function assembleTransition(n,t){var u="cubic-bezier(0.23,1,0.32,1)",c=" "+n/2+"s "+u,ee="opacity"+c+",visibility"+c;return t||(c=" "+n+"s "+u,ee+=env.transformSupported?","+CSS_TRANSFORM_VENDOR+c:",left"+c+",top"+c),CSS_TRANSITION_VENDOR+":"+ee}function assembleTransform(n,t,u){var c=n.toFixed(0)+"px",ee=t.toFixed(0)+"px";if(!env.transformSupported)return u?"top:"+ee+";left:"+c+";":[["top",ee],["left",c]];var te=env.transform3dSupported,ae="translate"+(te?"3d":"")+"("+c+","+ee+(te?",0":"")+")";return u?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+ae+";":[["top",0],["left",0],[TRANSFORM_VENDOR,ae]]}function assembleFont(n){var t=[],u=n.get("fontSize"),c=n.getTextColor();c&&t.push("color:"+c),t.push("font:"+n.getFont());var ee=retrieve2(n.get("lineHeight"),Math.round(u*3/2));u&&t.push("line-height:"+ee+"px");var te=n.get("textShadowColor"),ae=n.get("textShadowBlur")||0,ne=n.get("textShadowOffsetX")||0,oe=n.get("textShadowOffsetY")||0;return te&&ae&&t.push("text-shadow:"+ne+"px "+oe+"px "+ae+"px "+te),each$3(["decoration","align"],function(ie){var se=n.get(ie);se&&t.push("text-"+ie+":"+se)}),t.join(";")}function assembleCssText(n,t,u){var c=[],ee=n.get("transitionDuration"),te=n.get("backgroundColor"),ae=n.get("shadowBlur"),ne=n.get("shadowColor"),oe=n.get("shadowOffsetX"),ie=n.get("shadowOffsetY"),se=n.getModel("textStyle"),ue=getPaddingFromTooltipModel(n,"html"),le=oe+"px "+ie+"px "+ae+"px "+ne;return c.push("box-shadow:"+le),t&&ee&&c.push(assembleTransition(ee,u)),te&&c.push("background-color:"+te),each$3(["width","color","radius"],function(ce){var de="border-"+ce,fe=toCamelCase(de),pe=n.get(fe);pe!=null&&c.push(de+":"+pe+(ce==="color"?"":"px"))}),c.push(assembleFont(se)),ue!=null&&c.push("padding:"+normalizeCssArray(ue).join("px ")+"px"),c.join(";")+";"}function makeStyleCoord$1(n,t,u,c,ee){var te=t&&t.painter;if(u){var ae=te&&te.getViewportRoot();ae&&transformLocalCoord(n,ae,u,c,ee)}else{n[0]=c,n[1]=ee;var ne=te&&te.getViewportRootOffset();ne&&(n[0]+=ne.offsetLeft,n[1]+=ne.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var TooltipHTMLContent=function(){function n(t,u){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env.wxa)return null;var c=document.createElement("div");c.domBelongToZr=!0,this.el=c;var ee=this._zr=t.getZr(),te=u.appendTo,ae=te&&(isString(te)?document.querySelector(te):isDom(te)?te:isFunction(te)&&te(t.getDom()));makeStyleCoord$1(this._styleCoord,ee,ae,t.getWidth()/2,t.getHeight()/2),(ae||t.getDom()).appendChild(c),this._api=t,this._container=ae;var ne=this;c.onmouseenter=function(){ne._enterable&&(clearTimeout(ne._hideTimeout),ne._show=!0),ne._inContent=!0},c.onmousemove=function(oe){if(oe=oe||window.event,!ne._enterable){var ie=ee.handler,se=ee.painter.getViewportRoot();normalizeEvent(se,oe,!0),ie.dispatch("mousemove",oe)}},c.onmouseleave=function(){ne._inContent=!1,ne._enterable&&ne._show&&ne.hideLater(ne._hideDelay)}}return n.prototype.update=function(t){if(!this._container){var u=this._api.getDom(),c=getComputedStyle(u,"position"),ee=u.style;ee.position!=="absolute"&&c!=="absolute"&&(ee.position="relative")}var te=t.get("alwaysShowContent");te&&this._moveIfResized(),this._alwaysShowContent=te,this.el.className=t.get("className")||""},n.prototype.show=function(t,u){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var c=this.el,ee=c.style,te=this._styleCoord;c.innerHTML?ee.cssText=gCssText+assembleCssText(t,!this._firstShow,this._longHide)+assembleTransform(te[0],te[1],!0)+("border-color:"+convertToColorString(u)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):ee.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,u,c,ee,te){var ae=this.el;if(t==null){ae.innerHTML="";return}var ne="";if(isString(te)&&c.get("trigger")==="item"&&!shouldTooltipConfine(c)&&(ne=assembleArrow(c,ee,te)),isString(t))ae.innerHTML=t+ne;else if(t){ae.innerHTML="",isArray$6(t)||(t=[t]);for(var oe=0;oe<t.length;oe++)isDom(t[oe])&&t[oe].parentNode!==ae&&ae.appendChild(t[oe]);if(ne&&ae.childNodes.length){var ie=document.createElement("div");ie.innerHTML=ne,ae.appendChild(ie)}}},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},n.prototype.moveTo=function(t,u){if(this.el){var c=this._styleCoord;if(makeStyleCoord$1(c,this._zr,this._container,t,u),c[0]!=null&&c[1]!=null){var ee=this.el.style,te=assembleTransform(c[0],c[1]);each$3(te,function(ae){ee[ae[0]]=ae[1]})}}},n.prototype._moveIfResized=function(){var t=this._styleCoord[2],u=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),u*this._zr.getHeight())},n.prototype.hide=function(){var t=this,u=this.el.style;u.visibility="hidden",u.opacity="0",env.transform3dSupported&&(u.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$4(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},n}(),TooltipRichContent=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),makeStyleCoord(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){var u=t.get("alwaysShowContent");u&&this._moveIfResized(),this._alwaysShowContent=u},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,u,c,ee,te){var ae=this;isObject$3(t)&&throwError(""),this.el&&this._zr.remove(this.el);var ne=c.getModel("textStyle");this.el=new ZRText({style:{rich:u.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:ee,textShadowColor:ne.get("textShadowColor"),fill:c.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(c,"richText"),verticalAlign:"top",align:"left"},z:c.get("z")}),each$3(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(ie){ae.el.style[ie]=c.get(ie)}),each$3(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(ie){ae.el.style[ie]=ne.get(ie)||0}),this._zr.add(this.el);var oe=this;this.el.on("mouseover",function(){oe._enterable&&(clearTimeout(oe._hideTimeout),oe._show=!0),oe._inContent=!0}),this.el.on("mouseout",function(){oe._enterable&&oe._show&&oe.hideLater(oe._hideDelay),oe._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,u=this.el.getBoundingRect(),c=calcShadowOuterSize(t.style);return[u.width+c.left+c.right,u.height+c.top+c.bottom]},n.prototype.moveTo=function(t,u){var c=this.el;if(c){var ee=this._styleCoord;makeStyleCoord(ee,this._zr,t,u),t=ee[0],u=ee[1];var te=c.style,ae=mathMaxWith0(te.borderWidth||0),ne=calcShadowOuterSize(te);c.x=t+ae+ne.left,c.y=u+ae+ne.top,c.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[2],u=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),u*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$4(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function mathMaxWith0(n){return Math.max(0,n)}function calcShadowOuterSize(n){var t=mathMaxWith0(n.shadowBlur||0),u=mathMaxWith0(n.shadowOffsetX||0),c=mathMaxWith0(n.shadowOffsetY||0);return{left:mathMaxWith0(t-u),right:mathMaxWith0(t+u),top:mathMaxWith0(t-c),bottom:mathMaxWith0(t+c)}}function makeStyleCoord(n,t,u,c){n[0]=u,n[1]=c,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var proxyRect=new Rect({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type=t.type,u}return t.prototype.init=function(u,c){if(!(env.node||!c.getDom())){var ee=u.getComponent("tooltip"),te=this._renderMode=getTooltipRenderMode(ee.get("renderMode"));this._tooltipContent=te==="richText"?new TooltipRichContent(c):new TooltipHTMLContent(c,{appendTo:ee.get("appendToBody",!0)?"body":ee.get("appendTo",!0)})}},t.prototype.render=function(u,c,ee){if(!(env.node||!ee.getDom())){this.group.removeAll(),this._tooltipModel=u,this._ecModel=c,this._api=ee;var te=this._tooltipContent;te.update(u),te.setEnterable(u.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&u.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var u=this._tooltipModel,c=u.get("triggerOn");register$1("itemTooltip",this._api,bind$4(function(ee,te,ae){c!=="none"&&(c.indexOf(ee)>=0?this._tryShow(te,ae):ee==="leave"&&this._hide(ae))},this))},t.prototype._keepShow=function(){var u=this._tooltipModel,c=this._ecModel,ee=this._api,te=u.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&te!=="none"&&te!=="click"){var ae=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!ee.isDisposed()&&ae.manuallyShowTip(u,c,ee,{x:ae._lastX,y:ae._lastY,dataByCoordSys:ae._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(u,c,ee,te){if(!(te.from===this.uid||env.node||!ee.getDom())){var ae=makeDispatchAction(te,ee);this._ticket="";var ne=te.dataByCoordSys,oe=findComponentReference(te,c,ee);if(oe){var ie=oe.el.getBoundingRect().clone();ie.applyTransform(oe.el.transform),this._tryShow({offsetX:ie.x+ie.width/2,offsetY:ie.y+ie.height/2,target:oe.el,position:te.position,positionDefault:"bottom"},ae)}else if(te.tooltip&&te.x!=null&&te.y!=null){var se=proxyRect;se.x=te.x,se.y=te.y,se.update(),getECData(se).tooltipConfig={name:null,option:te.tooltip},this._tryShow({offsetX:te.x,offsetY:te.y,target:se},ae)}else if(ne)this._tryShow({offsetX:te.x,offsetY:te.y,position:te.position,dataByCoordSys:ne,tooltipOption:te.tooltipOption},ae);else if(te.seriesIndex!=null){if(this._manuallyAxisShowTip(u,c,ee,te))return;var ue=findPointFromSeries(te,c),le=ue.point[0],ce=ue.point[1];le!=null&&ce!=null&&this._tryShow({offsetX:le,offsetY:ce,target:ue.el,position:te.position,positionDefault:"bottom"},ae)}else te.x!=null&&te.y!=null&&(ee.dispatchAction({type:"updateAxisPointer",x:te.x,y:te.y}),this._tryShow({offsetX:te.x,offsetY:te.y,position:te.position,target:ee.getZr().findHover(te.x,te.y).target},ae))}},t.prototype.manuallyHideTip=function(u,c,ee,te){var ae=this._tooltipContent;this._tooltipModel&&ae.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,te.from!==this.uid&&this._hide(makeDispatchAction(te,ee))},t.prototype._manuallyAxisShowTip=function(u,c,ee,te){var ae=te.seriesIndex,ne=te.dataIndex,oe=c.getComponent("axisPointer").coordSysAxesInfo;if(!(ae==null||ne==null||oe==null)){var ie=c.getSeriesByIndex(ae);if(ie){var se=ie.getData(),ue=buildTooltipModel([se.getItemModel(ne),ie,(ie.coordinateSystem||{}).model],this._tooltipModel);if(ue.get("trigger")==="axis")return ee.dispatchAction({type:"updateAxisPointer",seriesIndex:ae,dataIndex:ne,position:te.position}),!0}}},t.prototype._tryShow=function(u,c){var ee=u.target,te=this._tooltipModel;if(te){this._lastX=u.offsetX,this._lastY=u.offsetY;var ae=u.dataByCoordSys;if(ae&&ae.length)this._showAxisTooltip(ae,u);else if(ee){var ne=getECData(ee);if(ne.ssrType==="legend")return;this._lastDataByCoordSys=null;var oe,ie;findEventDispatcher(ee,function(se){if(getECData(se).dataIndex!=null)return oe=se,!0;if(getECData(se).tooltipConfig!=null)return ie=se,!0},!0),oe?this._showSeriesItemTooltip(u,oe,c):ie?this._showComponentItemTooltip(u,ie,c):this._hide(c)}else this._lastDataByCoordSys=null,this._hide(c)}},t.prototype._showOrMove=function(u,c){var ee=u.get("showDelay");c=bind$4(c,this),clearTimeout(this._showTimout),ee>0?this._showTimout=setTimeout(c,ee):c()},t.prototype._showAxisTooltip=function(u,c){var ee=this._ecModel,te=this._tooltipModel,ae=[c.offsetX,c.offsetY],ne=buildTooltipModel([c.tooltipOption],te),oe=this._renderMode,ie=[],se=createTooltipMarkup("section",{blocks:[],noHeader:!0}),ue=[],le=new TooltipMarkupStyleCreator;each$3(u,function(ge){each$3(ge.dataByAxis,function(De){var Ce=ee.getComponent(De.axisDim+"Axis",De.axisIndex),we=De.value;if(!(!Ce||we==null)){var xe=getValueLabel(we,Ce.axis,ee,De.seriesDataIndices,De.valueLabelOpt),Re=createTooltipMarkup("section",{header:xe,noHeader:!trim$1(xe),sortBlocks:!0,blocks:[]});se.blocks.push(Re),each$3(De.seriesDataIndices,function(Be){var Se=ee.getSeriesByIndex(Be.seriesIndex),Te=Be.dataIndexInside,Ae=Se.getDataParams(Te);if(!(Ae.dataIndex<0)){Ae.axisDim=De.axisDim,Ae.axisIndex=De.axisIndex,Ae.axisType=De.axisType,Ae.axisId=De.axisId,Ae.axisValue=getAxisRawValue(Ce.axis,{value:we}),Ae.axisValueLabel=xe,Ae.marker=le.makeTooltipMarker("item",convertToColorString(Ae.color),oe);var he=normalizeTooltipFormatResult(Se.formatTooltip(Te,!0,null)),ve=he.frag;if(ve){var ye=buildTooltipModel([Se],te).get("valueFormatter");Re.blocks.push(ye?extend({valueFormatter:ye},ve):ve)}he.text&&ue.push(he.text),ie.push(Ae)}})}})}),se.blocks.reverse(),ue.reverse();var ce=c.position,de=ne.get("order"),fe=buildTooltipMarkup(se,le,oe,de,ee.get("useUTC"),ne.get("textStyle"));fe&&ue.unshift(fe);var pe=oe==="richText"?`

`:"<br/>",me=ue.join(pe);this._showOrMove(ne,function(){this._updateContentNotChangedOnAxis(u,ie)?this._updatePosition(ne,ce,ae[0],ae[1],this._tooltipContent,ie):this._showTooltipContent(ne,me,ie,Math.random()+"",ae[0],ae[1],ce,null,le)})},t.prototype._showSeriesItemTooltip=function(u,c,ee){var te=this._ecModel,ae=getECData(c),ne=ae.seriesIndex,oe=te.getSeriesByIndex(ne),ie=ae.dataModel||oe,se=ae.dataIndex,ue=ae.dataType,le=ie.getData(ue),ce=this._renderMode,de=u.positionDefault,fe=buildTooltipModel([le.getItemModel(se),ie,oe&&(oe.coordinateSystem||{}).model],this._tooltipModel,de?{position:de}:null),pe=fe.get("trigger");if(!(pe!=null&&pe!=="item")){var me=ie.getDataParams(se,ue),ge=new TooltipMarkupStyleCreator;me.marker=ge.makeTooltipMarker("item",convertToColorString(me.color),ce);var De=normalizeTooltipFormatResult(ie.formatTooltip(se,!1,ue)),Ce=fe.get("order"),we=fe.get("valueFormatter"),xe=De.frag,Re=xe?buildTooltipMarkup(we?extend({valueFormatter:we},xe):xe,ge,ce,Ce,te.get("useUTC"),fe.get("textStyle")):De.text,Be="item_"+ie.name+"_"+se;this._showOrMove(fe,function(){this._showTooltipContent(fe,Re,me,Be,u.offsetX,u.offsetY,u.position,u.target,ge)}),ee({type:"showTip",dataIndexInside:se,dataIndex:le.getRawIndex(se),seriesIndex:ne,from:this.uid})}},t.prototype._showComponentItemTooltip=function(u,c,ee){var te=this._renderMode==="html",ae=getECData(c),ne=ae.tooltipConfig,oe=ne.option||{},ie=oe.encodeHTMLContent;if(isString(oe)){var se=oe;oe={content:se,formatter:se},ie=!0}ie&&te&&oe.content&&(oe=clone$3(oe),oe.content=encodeHTML(oe.content));var ue=[oe],le=this._ecModel.getComponent(ae.componentMainType,ae.componentIndex);le&&ue.push(le),ue.push({formatter:oe.content});var ce=u.positionDefault,de=buildTooltipModel(ue,this._tooltipModel,ce?{position:ce}:null),fe=de.get("content"),pe=Math.random()+"",me=new TooltipMarkupStyleCreator;this._showOrMove(de,function(){var ge=clone$3(de.get("formatterParams")||{});this._showTooltipContent(de,fe,ge,pe,u.offsetX,u.offsetY,u.position,c,me)}),ee({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(u,c,ee,te,ae,ne,oe,ie,se){if(this._ticket="",!(!u.get("showContent")||!u.get("show"))){var ue=this._tooltipContent;ue.setEnterable(u.get("enterable"));var le=u.get("formatter");oe=oe||u.get("position");var ce=c,de=this._getNearestPoint([ae,ne],ee,u.get("trigger"),u.get("borderColor")),fe=de.color;if(le)if(isString(le)){var pe=u.ecModel.get("useUTC"),me=isArray$6(ee)?ee[0]:ee,ge=me&&me.axisType&&me.axisType.indexOf("time")>=0;ce=le,ge&&(ce=format(me.axisValue,ce,pe)),ce=formatTpl(ce,ee,!0)}else if(isFunction(le)){var De=bind$4(function(Ce,we){Ce===this._ticket&&(ue.setContent(we,se,u,fe,oe),this._updatePosition(u,oe,ae,ne,ue,ee,ie))},this);this._ticket=te,ce=le(ee,te,De)}else ce=le;ue.setContent(ce,se,u,fe,oe),ue.show(u,fe),this._updatePosition(u,oe,ae,ne,ue,ee,ie)}},t.prototype._getNearestPoint=function(u,c,ee,te){if(ee==="axis"||isArray$6(c))return{color:te||(this._renderMode==="html"?"#fff":"none")};if(!isArray$6(c))return{color:te||c.color||c.borderColor}},t.prototype._updatePosition=function(u,c,ee,te,ae,ne,oe){var ie=this._api.getWidth(),se=this._api.getHeight();c=c||u.get("position");var ue=ae.getSize(),le=u.get("align"),ce=u.get("verticalAlign"),de=oe&&oe.getBoundingRect().clone();if(oe&&de.applyTransform(oe.transform),isFunction(c)&&(c=c([ee,te],ne,ae.el,de,{viewSize:[ie,se],contentSize:ue.slice()})),isArray$6(c))ee=parsePercent(c[0],ie),te=parsePercent(c[1],se);else if(isObject$3(c)){var fe=c;fe.width=ue[0],fe.height=ue[1];var pe=getLayoutRect(fe,{width:ie,height:se});ee=pe.x,te=pe.y,le=null,ce=null}else if(isString(c)&&oe){var me=calcTooltipPosition(c,de,ue,u.get("borderWidth"));ee=me[0],te=me[1]}else{var me=refixTooltipPosition(ee,te,ae,ie,se,le?null:20,ce?null:20);ee=me[0],te=me[1]}if(le&&(ee-=isCenterAlign(le)?ue[0]/2:le==="right"?ue[0]:0),ce&&(te-=isCenterAlign(ce)?ue[1]/2:ce==="bottom"?ue[1]:0),shouldTooltipConfine(u)){var me=confineTooltipPosition(ee,te,ae,ie,se);ee=me[0],te=me[1]}ae.moveTo(ee,te)},t.prototype._updateContentNotChangedOnAxis=function(u,c){var ee=this._lastDataByCoordSys,te=this._cbParamsList,ae=!!ee&&ee.length===u.length;return ae&&each$3(ee,function(ne,oe){var ie=ne.dataByAxis||[],se=u[oe]||{},ue=se.dataByAxis||[];ae=ae&&ie.length===ue.length,ae&&each$3(ie,function(le,ce){var de=ue[ce]||{},fe=le.seriesDataIndices||[],pe=de.seriesDataIndices||[];ae=ae&&le.value===de.value&&le.axisType===de.axisType&&le.axisId===de.axisId&&fe.length===pe.length,ae&&each$3(fe,function(me,ge){var De=pe[ge];ae=ae&&me.seriesIndex===De.seriesIndex&&me.dataIndex===De.dataIndex}),te&&each$3(le.seriesDataIndices,function(me){var ge=me.seriesIndex,De=c[ge],Ce=te[ge];De&&Ce&&Ce.data!==De.data&&(ae=!1)})})}),this._lastDataByCoordSys=u,this._cbParamsList=c,!!ae},t.prototype._hide=function(u){this._lastDataByCoordSys=null,u({type:"hideTip",from:this.uid})},t.prototype.dispose=function(u,c){env.node||!c.getDom()||(clear(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",c))},t.type="tooltip",t}(ComponentView);function buildTooltipModel(n,t,u){var c=t.ecModel,ee;u?(ee=new Model(u,c,c),ee=new Model(t.option,ee,c)):ee=t;for(var te=n.length-1;te>=0;te--){var ae=n[te];ae&&(ae instanceof Model&&(ae=ae.get("tooltip",!0)),isString(ae)&&(ae={formatter:ae}),ae&&(ee=new Model(ae,ee,c)))}return ee}function makeDispatchAction(n,t){return n.dispatchAction||bind$4(t.dispatchAction,t)}function refixTooltipPosition(n,t,u,c,ee,te,ae){var ne=u.getSize(),oe=ne[0],ie=ne[1];return te!=null&&(n+oe+te+2>c?n-=oe+te:n+=te),ae!=null&&(t+ie+ae>ee?t-=ie+ae:t+=ae),[n,t]}function confineTooltipPosition(n,t,u,c,ee){var te=u.getSize(),ae=te[0],ne=te[1];return n=Math.min(n+ae,c)-ae,t=Math.min(t+ne,ee)-ne,n=Math.max(n,0),t=Math.max(t,0),[n,t]}function calcTooltipPosition(n,t,u,c){var ee=u[0],te=u[1],ae=Math.ceil(Math.SQRT2*c)+8,ne=0,oe=0,ie=t.width,se=t.height;switch(n){case"inside":ne=t.x+ie/2-ee/2,oe=t.y+se/2-te/2;break;case"top":ne=t.x+ie/2-ee/2,oe=t.y-te-ae;break;case"bottom":ne=t.x+ie/2-ee/2,oe=t.y+se+ae;break;case"left":ne=t.x-ee-ae,oe=t.y+se/2-te/2;break;case"right":ne=t.x+ie+ae,oe=t.y+se/2-te/2}return[ne,oe]}function isCenterAlign(n){return n==="center"||n==="middle"}function findComponentReference(n,t,u){var c=preParseFinder(n).queryOptionMap,ee=c.keys()[0];if(!(!ee||ee==="series")){var te=queryReferringComponents(t,ee,c.get(ee),{useDefault:!1,enableAll:!1,enableNone:!1}),ae=te.models[0];if(ae){var ne=u.getViewOfComponentModel(ae),oe;if(ne.group.traverse(function(ie){var se=getECData(ie).tooltipConfig;if(se&&se.name===n.name)return oe=ie,!0}),oe)return{componentMainType:ee,componentIndex:ae.componentIndex,el:oe}}}}function install(n){use(install$2),n.registerComponentModel(TooltipModel),n.registerComponentView(TooltipView),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$1),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$1)}const METHOD_NAMES=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function usePublicAPI(n){function t(c){return(...ee)=>{if(!n.value)throw new Error("ECharts is not initialized yet.");return n.value[c].apply(n.value,ee)}}function u(){const c=Object.create(null);return METHOD_NAMES.forEach(ee=>{c[ee]=t(ee)}),c}return u()}function useAutoresize(n,t,u){watch([u,n,t],([c,ee,te],ae,ne)=>{let oe=null;if(c&&ee&&te){const{offsetWidth:ie,offsetHeight:se}=c,ue=te===!0?{}:te,{throttle:le=100,onResize:ce}=ue;let de=!1;const fe=()=>{ee.resize(),ce==null||ce()},pe=le?throttle(fe,le):fe;oe=new ResizeObserver(()=>{!de&&(de=!0,c.offsetWidth===ie&&c.offsetHeight===se)||pe()}),oe.observe(c)}ne(()=>{oe&&(oe.disconnect(),oe=null)})})}const autoresizeProps={autoresize:[Boolean,Object]},onRE=/^on[^a-z]/,isOn=n=>onRE.test(n);function omitOn(n){const t={};for(const u in n)isOn(u)||(t[u]=n[u]);return t}function unwrapInjected(n,t){const u=isRef$1(n)?unref(n):n;return u&&typeof u=="object"&&"value"in u?u.value||t:u||t}const LOADING_OPTIONS_KEY="ecLoadingOptions";function useLoading(n,t,u){const c=inject(LOADING_OPTIONS_KEY,{}),ee=computed(()=>({...unwrapInjected(c,{}),...u==null?void 0:u.value}));watchEffect(()=>{const te=n.value;te&&(t.value?te.showLoading(ee.value):te.hideLoading())})}const loadingProps={loading:Boolean,loadingOptions:Object};let registered=null;const TAG_NAME="x-vue-echarts";function register(){if(registered!=null)return registered;if(typeof HTMLElement>"u"||typeof customElements>"u")return registered=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(TAG_NAME)}catch{return registered=!1}return registered=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const wcRegistered=register(),THEME_KEY="ecTheme",INIT_OPTIONS_KEY="ecInitOptions",UPDATE_OPTIONS_KEY="ecUpdateOptions",NATIVE_EVENT_RE=/(^&?~?!?)native:/;var ECharts=defineComponent({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...autoresizeProps,...loadingProps},emits:{},inheritAttrs:!1,setup(n,{attrs:t}){const u=shallowRef(),c=shallowRef(),ee=shallowRef(),te=inject(THEME_KEY,null),ae=inject(INIT_OPTIONS_KEY,null),ne=inject(UPDATE_OPTIONS_KEY,null),{autoresize:oe,manualUpdate:ie,loading:se,loadingOptions:ue}=toRefs(n),le=computed(()=>ee.value||n.option||null),ce=computed(()=>n.theme||unwrapInjected(te,{})),de=computed(()=>n.initOptions||unwrapInjected(ae,{})),fe=computed(()=>n.updateOptions||unwrapInjected(ne,{})),pe=computed(()=>omitOn(t)),me={},ge=getCurrentInstance().proxy.$listeners,De={};ge?Object.keys(ge).forEach(Se=>{NATIVE_EVENT_RE.test(Se)?me[Se.replace(NATIVE_EVENT_RE,"$1")]=ge[Se]:De[Se]=ge[Se]}):Object.keys(t).filter(Se=>isOn(Se)).forEach(Se=>{let Te=Se.charAt(2).toLowerCase()+Se.slice(3);if(Te.indexOf("native:")===0){const Ae=`on${Te.charAt(7).toUpperCase()}${Te.slice(8)}`;me[Ae]=t[Se];return}Te.substring(Te.length-4)==="Once"&&(Te=`~${Te.substring(0,Te.length-4)}`),De[Te]=t[Se]});function Ce(Se){if(!u.value)return;const Te=c.value=init(u.value,ce.value,de.value);n.group&&(Te.group=n.group),Object.keys(De).forEach(ve=>{let ye=De[ve];if(!ye)return;let be=ve.toLowerCase();be.charAt(0)==="~"&&(be=be.substring(1),ye.__once__=!0);let _e=Te;if(be.indexOf("zr:")===0&&(_e=Te.getZr(),be=be.substring(3)),ye.__once__){delete ye.__once__;const Me=ye;ye=(...Ie)=>{Me(...Ie),_e.off(be,ye)}}_e.on(be,ye)});function Ae(){Te&&!Te.isDisposed()&&Te.resize()}function he(){const ve=Se||le.value;ve&&Te.setOption(ve,fe.value)}oe.value?nextTick(()=>{Ae(),he()}):he()}function we(Se,Te){n.manualUpdate&&(ee.value=Se),c.value?c.value.setOption(Se,Te||{}):Ce(Se)}function xe(){c.value&&(c.value.dispose(),c.value=void 0)}let Re=null;watch(ie,Se=>{typeof Re=="function"&&(Re(),Re=null),Se||(Re=watch(()=>n.option,(Te,Ae)=>{Te&&(c.value?c.value.setOption(Te,{notMerge:Te!==Ae,...fe.value}):Ce())},{deep:!0}))},{immediate:!0}),watch([ce,de],()=>{xe(),Ce()},{deep:!0}),watchEffect(()=>{n.group&&c.value&&(c.value.group=n.group)});const Be=usePublicAPI(c);return useLoading(c,se,ue),useAutoresize(c,oe,u),onMounted(()=>{Ce()}),onBeforeUnmount(()=>{wcRegistered&&u.value?u.value.__dispose=xe:xe()}),{chart:c,root:u,setOption:we,nonEventAttrs:pe,nativeListeners:me,...Be}},render(){const n={...this.nonEventAttrs,...this.nativeListeners};return n.ref="root",n.class=n.class?["echarts"].concat(n.class):"echarts",h$1(TAG_NAME,n)}});const _hoisted_1$1g={class:"asset-detail-view__container"},_hoisted_2$T={class:"asset-detail-view__wrap"},_hoisted_3$I={class:"asset-detail-view__token-info"},_hoisted_4$y=["src"],_hoisted_5$l={class:"asset-detail-view__token-info-name"},_hoisted_6$e={key:0},_hoisted_7$5={key:0,class:"asset-detail-view__token-sparkline"},_hoisted_8$2={key:0,class:"asset-detail-view__token-sparkline-price"},_hoisted_9$1={class:"asset-detail-view__token-balance"},_hoisted_10$1={key:1,class:"asset-detail-view__token-divider"},_hoisted_11$1={key:2,class:"asset-detail-view__action"},_sfc_main$1m=defineComponent({__name:"index",props:{token:{type:Object,default:()=>({})},isCustomToken:{type:Boolean,default:!1},removeToken:{type:Function,default:()=>{}}},emits:["close:popup"],setup(n,{emit:t}){const u=n;use([install$5,install$4,install,install$1]);const c=ref({width:128,height:128,color:[u.token.priceChangePercentage>=0?"#80FFA5":"#e01f43"],grid:{show:!1,left:0,top:0},xAxis:[{show:!1,type:"category",showGrid:!1,boundaryGap:!1,splitLine:{show:!1}}],yAxis:[{show:!1,type:"value",splitLine:{show:!1}}],series:[{type:"line",smooth:!0,lineStyle:{width:3},showSymbol:!1,emphasis:{focus:"none"},data:u.token.sparkline!==""?JSON.parse(u.token.sparkline):[]}]}),ee=t,te=()=>{ee("close:popup")};return(ae,ne)=>(openBlock(),createElementBlock("div",_hoisted_1$1g,[createBaseVNode("div",{class:"asset-detail-view__overlay",onClick:ne[0]||(ne[0]=oe=>te())}),createBaseVNode("div",_hoisted_2$T,[c