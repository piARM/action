InstanceByDom(n){return instances[getAttribute(n,DOM_ATTRIBUTE_KEY)]}function registerTheme(n,t){themeStorage[n]=t}function registerPreprocessor(n){indexOf$5(optionPreprocessorFuncs,n)<0&&optionPreprocessorFuncs.push(n)}function registerProcessor(n,t){normalizeRegister(dataProcessorFuncs,n,t,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(n){registerUpdateLifecycle("afterinit",n)}function registerPostUpdate(n){registerUpdateLifecycle("afterupdate",n)}function registerUpdateLifecycle(n,t){lifecycle.on(n,t)}function registerAction(n,t,u){isFunction(t)&&(u=t,t="");var c=isObject$3(n)?n.type:[n,n={event:t}][0];n.event=(n.event||c).toLowerCase(),t=n.event,!eventActionMap[t]&&(assert(ACTION_REG.test(c)&&ACTION_REG.test(t)),actions[c]||(actions[c]={action:u,actionInfo:n}),eventActionMap[t]=c)}function registerCoordinateSystem(n,t){CoordinateSystemManager.register(n,t)}function registerLayout(n,t){normalizeRegister(visualFuncs,n,t,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(n,t){normalizeRegister(visualFuncs,n,t,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(n,t,u,c,ee){if((isFunction(t)||isObject$3(t))&&(u=t,t=c),!(indexOf$5(registeredTasks,u)>=0)){registeredTasks.push(u);var te=Scheduler.wrapStageHandler(u,ee);te.__prio=t,te.__raw=u,n.push(te)}}function registerLoading(n,t){loadingEffects[n]=t}function registerMap(n,t,u){var c=getImpl("registerMap");c&&c(n,t,u)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop$1);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop$1);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop$1);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop$1);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop$1);registerTheme("light",lightTheme);registerTheme("dark",theme);function dataIndexMapValueLength(n){return n==null?0:n.length||1}function defaultKeyGetter(n){return n}var DataDiffer=function(){function n(t,u,c,ee,te,ae){this._old=t,this._new=u,this._oldKeyGetter=c||defaultKeyGetter,this._newKeyGetter=ee||defaultKeyGetter,this.context=te,this._diffModeMultiple=ae==="multiple"}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,u=this._new,c={},ee=new Array(t.length),te=new Array(u.length);this._initIndexMap(t,null,ee,"_oldKeyGetter"),this._initIndexMap(u,c,te,"_newKeyGetter");for(var ae=0;ae<t.length;ae++){var ne=ee[ae],oe=c[ne],ie=dataIndexMapValueLength(oe);if(ie>1){var se=oe.shift();oe.length===1&&(c[ne]=oe[0]),this._update&&this._update(se,ae)}else ie===1?(c[ne]=null,this._update&&this._update(oe,ae)):this._remove&&this._remove(ae)}this._performRestAdd(te,c)},n.prototype._executeMultiple=function(){var t=this._old,u=this._new,c={},ee={},te=[],ae=[];this._initIndexMap(t,c,te,"_oldKeyGetter"),this._initIndexMap(u,ee,ae,"_newKeyGetter");for(var ne=0;ne<te.length;ne++){var oe=te[ne],ie=c[oe],se=ee[oe],ue=dataIndexMapValueLength(ie),le=dataIndexMapValueLength(se);if(ue>1&&le===1)this._updateManyToOne&&this._updateManyToOne(se,ie),ee[oe]=null;else if(ue===1&&le>1)this._updateOneToMany&&this._updateOneToMany(se,ie),ee[oe]=null;else if(ue===1&&le===1)this._update&&this._update(se,ie),ee[oe]=null;else if(ue>1&&le>1)this._updateManyToMany&&this._updateManyToMany(se,ie),ee[oe]=null;else if(ue>1)for(var ce=0;ce<ue;ce++)this._remove&&this._remove(ie[ce]);else this._remove&&this._remove(ie)}this._performRestAdd(ae,ee)},n.prototype._performRestAdd=function(t,u){for(var c=0;c<t.length;c++){var ee=t[c],te=u[ee],ae=dataIndexMapValueLength(te);if(ae>1)for(var ne=0;ne<ae;ne++)this._add&&this._add(te[ne]);else ae===1&&this._add&&this._add(te);u[ee]=null}},n.prototype._initIndexMap=function(t,u,c,ee){for(var te=this._diffModeMultiple,ae=0;ae<t.length;ae++){var ne="_ec_"+this[ee](t[ae],ae);if(te||(c[ae]=ne),!!u){var oe=u[ne],ie=dataIndexMapValueLength(oe);ie===0?(u[ne]=ae,te&&c.push(ne)):ie===1?u[ne]=[oe,ae]:oe.push(ae)}}},n}(),DimensionUserOuput=function(){function n(t,u){this._encode=t,this._schema=u}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function summarizeDimensions(n,t){var u={},c=u.encode={},ee=createHashMap(),te=[],ae=[],ne={};each$3(n.dimensions,function(le){var ce=n.getDimensionInfo(le),de=ce.coordDim;if(de){var fe=ce.coordDimIndex;getOrCreateEncodeArr(c,de)[fe]=le,ce.isExtraCoord||(ee.set(de,1),mayLabelDimType(ce.type)&&(te[0]=le),getOrCreateEncodeArr(ne,de)[fe]=n.getDimensionIndex(ce.name)),ce.defaultTooltip&&ae.push(le)}VISUAL_DIMENSIONS.each(function(pe,me){var ge=getOrCreateEncodeArr(c,me),De=ce.otherDims[me];De!=null&&De!==!1&&(ge[De]=ce.name)})});var oe=[],ie={};ee.each(function(le,ce){var de=c[ce];ie[ce]=de[0],oe=oe.concat(de)}),u.dataDimsOnCoord=oe,u.dataDimIndicesOnCoord=map$6(oe,function(le){return n.getDimensionInfo(le).storeDimIndex}),u.encodeFirstDimNotExtra=ie;var se=c.label;se&&se.length&&(te=se.slice());var ue=c.tooltip;return ue&&ue.length?ae=ue.slice():ae.length||(ae=te.slice()),c.defaultedLabel=te,c.defaultedTooltip=ae,u.userOutput=new DimensionUserOuput(ne,t),u}function getOrCreateEncodeArr(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function getDimensionTypeByAxis(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function mayLabelDimType(n){return!(n==="ordinal"||n==="time")}var SeriesDimensionDefine=function(){function n(t){this.otherDims={},t!=null&&extend(this,t)}return n}(),inner$5=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return retrieve2(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var u=this.source.dimensionsDefine;if(u)return u[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,u=shouldRetrieveDataByName(this.source),c=!shouldOmitUnusedDimensions(t),ee="",te=[],ae=0,ne=0;ae<t;ae++){var oe=void 0,ie=void 0,se=void 0,ue=this.dimensions[ne];if(ue&&ue.storeDimIndex===ae)oe=u?ue.name:null,ie=ue.type,se=ue.ordinalMeta,ne++;else{var le=this.getSourceDimension(ae);le&&(oe=u?le.name:null,ie=le.type)}te.push({property:oe,type:ie,ordinalMeta:se}),u&&oe!=null&&(!ue||!ue.isCalculationCoord)&&(ee+=c?oe.replace(/\`/g,"`1").replace(/\$/g,"`2"):oe),ee+="$",ee+=dimTypeShort[ie]||"f",se&&(ee+=se.uid),ee+="$"}var ce=this.source,de=[ce.seriesLayoutBy,ce.startIndex,ee].join("$$");return{dimensions:te,hash:de}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],u=0,c=0;u<this._fullDimCount;u++){var ee=void 0,te=this.dimensions[c];if(te&&te.storeDimIndex===u)te.isCalculationCoord||(ee=te.name),c++;else{var ae=this.getSourceDimension(u);ae&&(ee=ae.name)}t.push(ee)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function isSeriesDataSchema(n){return n instanceof SeriesDataSchema}function createDimNameMap(n){for(var t=createHashMap(),u=0;u<(n||[]).length;u++){var c=n[u],ee=isObject$3(c)?c.name:c;ee!=null&&t.get(ee)==null&&t.set(ee,u)}return t}function ensureSourceDimNameMap(n){var t=inner$5(n);return t.dimNameMap||(t.dimNameMap=createDimNameMap(n.dimensionsDefine))}function shouldOmitUnusedDimensions(n){return n>30}var isObject$1=isObject$3,map$5=map$6,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function n(t,u){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var c,ee=!1;isSeriesDataSchema(t)?(c=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(ee=!0,c=t),c=c||["x","y"];for(var te={},ae=[],ne={},oe=!1,ie={},se=0;se<c.length;se++){var ue=c[se],le=isString(ue)?new SeriesDimensionDefine({name:ue}):ue instanceof SeriesDimensionDefine?ue:new SeriesDimensionDefine(ue),ce=le.name;le.type=le.type||"float",le.coordDim||(le.coordDim=ce,le.coordDimIndex=0);var de=le.otherDims=le.otherDims||{};ae.push(ce),te[ce]=le,ie[ce]!=null&&(oe=!0),le.createInvertedIndices&&(ne[ce]=[]),de.itemName===0&&(this._nameDimIdx=se),de.itemId===0&&(this._idDimIdx=se),ee&&(le.storeDimIndex=se)}if(this.dimensions=ae,this._dimInfos=te,this._initGetDimensionInfo(oe),this.hostModel=u,this._invertedIndicesMap=ne,this._dimOmitted){var fe=this._dimIdxToName=createHashMap();each$3(ae,function(pe){fe.set(te[pe].storeDimIndex,pe)})}}return n.prototype.getDimension=function(t){var u=this._recognizeDimIndex(t);if(u==null)return t;if(u=t,!this._dimOmitted)return this.dimensions[u];var c=this._dimIdxToName.get(u);if(c!=null)return c;var ee=this._schema.getSourceDimension(u);if(ee)return ee.name},n.prototype.getDimensionIndex=function(t){var u=this._recognizeDimIndex(t);if(u!=null)return u;if(t==null)return-1;var c=this._getDimInfo(t);return c?c.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if(isNumber(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){var u=this.getDimensionIndex(t);return u},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var u=this._dimInfos;this._getDimInfo=t?function(c){return u.hasOwnProperty(c)?u[c]:void 0}:function(c){return u[c]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,u){var c=this._dimSummary;if(u==null)return c.encodeFirstDimNotExtra[t];var ee=c.encode[t];return ee?ee[u]:null},n.prototype.mapDimensionsAll=function(t){var u=this._dimSummary,c=u.encode[t];return(c||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,u,c){var ee=this,te;if(t instanceof DataStore&&(te=t),!te){var ae=this.dimensions,ne=isSourceInstance(t)||isArrayLike(t)?new DefaultDataProvider(t,ae.length):t;te=new DataStore;var oe=map$5(ae,function(ie){return{type:ee._dimInfos[ie].type,property:ie}});te.initData(ne,oe,c)}this._store=te,this._nameList=(u||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,te.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var u=this._store.appendData(t);this._doInit(u[0],u[1])},n.prototype.appendValues=function(t,u){var c=this._store.appendValues(t,u&&u.length),ee=c.start,te=c.end,ae=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),u)for(var ne=ee;ne<te;ne++){var oe=ne-ee;this._nameList[ne]=u[oe],ae&&makeIdFromName(this,ne)}},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,u=this.dimensions,c=0;c<u.length;c++){var ee=this._dimInfos[u[c]];ee.ordinalMeta&&t.collectOrdinalMeta(ee.storeDimIndex,ee.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!t.fillStorage},n.prototype._doInit=function(t,u){if(!(t>=u)){var c=this._store,ee=c.getProvider();this._updateOrdinalMeta();var te=this._nameList,ae=this._idList,ne=ee.getSource().sourceFormat,oe=ne===SOURCE_FORMAT_ORIGINAL;if(oe&&!ee.pure)for(var ie=[],se=t;se<u;se++){var ue=ee.getItem(se,ie);if(!this.hasItemOption&&isDataItemOption(ue)&&(this.hasItemOption=!0),ue){var le=ue.name;te[se]==null&&le!=null&&(te[se]=convertOptionIdName(le,null));var ce=ue.id;ae[se]==null&&ce!=null&&(ae[se]=convertOptionIdName(ce,null))}}if(this._shouldMakeIdFromName())for(var se=t;se<u;se++)makeIdFromName(this,se);prepareInvertedIndex(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,u){u=this.getDimension(u),this._approximateExtent[u]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,u){isObject$1(t)?extend(this._calculationInfo,t):this._calculationInfo[t]=u},n.prototype.getName=function(t){var u=this.getRawIndex(t),c=this._nameList[u];return c==null&&this._nameDimIdx!=null&&(c=getIdNameFromStore(this,this._nameDimIdx,u)),c==null&&(c=""),c},n.prototype._getCategory=function(t,u){var c=this._store.get(t,u),ee=this._store.getOrdinalMeta(t);return ee?ee.categories[c]:c},n.prototype.getId=function(t){return getId(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,u){var c=this._store,ee=this._dimInfos[t];if(ee)return c.get(ee.storeDimIndex,u)},n.prototype.getByRawIndex=function(t,u){var c=this._store,ee=this._dimInfos[t];if(ee)return c.getByRawIndex(ee.storeDimIndex,u)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,u){var c=this,ee=this._store;return isArray$6(t)?ee.getValues(map$5(t,function(te){return c._getStoreDimIndex(te)}),u):ee.getValues(t)},n.prototype.hasValue=function(t){for(var u=this._dimSummary.dataDimIndicesOnCoord,c=0,ee=u.length;c<ee;c++)if(isNaN(this._store.get(u[c],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var u=0,c=this._store.count();u<c;u++)if(this.getName(u)===t)return u;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,u){var c=t&&this._invertedIndicesMap[t],ee=c&&c[u];return ee==null||isNaN(ee)?INDEX_NOT_FOUND:ee},n.prototype.indicesOfNearest=function(t,u,c){return this._store.indicesOfNearest(this._getStoreDimIndex(t),u,c)},n.prototype.each=function(t,u,c){isFunction(t)&&(c=u,u=t,t=[]);var ee=c||this,te=map$5(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.each(te,ee?bind$4(u,ee):u)},n.prototype.filterSelf=function(t,u,c){isFunction(t)&&(c=u,u=t,t=[]);var ee=c||this,te=map$5(normalizeDimensions(t),this._getStoreDimIndex,this);return this._store=this._store.filter(te,ee?bind$4(u,ee):u),this},n.prototype.selectRange=function(t){var u=this,c={},ee=keys$2(t);return each$3(ee,function(te){var ae=u._getStoreDimIndex(te);c[ae]=t[te]}),this._store=this._store.selectRange(c),this},n.prototype.mapArray=function(t,u,c){isFunction(t)&&(c=u,u=t,t=[]),c=c||this;var ee=[];return this.each(t,function(){ee.push(u&&u.apply(this,arguments))},c),ee},n.prototype.map=function(t,u,c,ee){var te=c||ee||this,ae=map$5(normalizeDimensions(t),this._getStoreDimIndex,this),ne=cloneListForMapAndSample(this);return ne._store=this._store.map(ae,te?bind$4(u,te):u),ne},n.prototype.modify=function(t,u,c,ee){var te=c||ee||this,ae=map$5(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.modify(ae,te?bind$4(u,te):u)},n.prototype.downSample=function(t,u,c,ee){var te=cloneListForMapAndSample(this);return te._store=this._store.downSample(this._getStoreDimIndex(t),u,c,ee),te},n.prototype.minmaxDownSample=function(t,u){var c=cloneListForMapAndSample(this);return c._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),u),c},n.prototype.lttbDownSample=function(t,u){var c=cloneListForMapAndSample(this);return c._store=this._store.lttbDownSample(this._getStoreDimIndex(t),u),c},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var u=this.hostModel,c=this.getRawDataItem(t);return new Model(c,u,u&&u.ecModel)},n.prototype.diff=function(t){var u=this;return new DataDiffer(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(c){return getId(t,c)},function(c){return getId(u,c)})},n.prototype.getVisual=function(t){var u=this._visual;return u&&u[t]},n.prototype.setVisual=function(t,u){this._visual=this._visual||{},isObject$1(t)?extend(this._visual,t):this._visual[t]=u},n.prototype.getItemVisual=function(t,u){var c=this._itemVisuals[t],ee=c&&c[u];return ee??this.getVisual(u)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,u){var c=this._itemVisuals,ee=c[t];ee||(ee=c[t]={});var te=ee[u];return te==null&&(te=this.getVisual(u),isArray$6(te)?te=te.slice():isObject$1(te)&&(te=extend({},te)),ee[u]=te),te},n.prototype.setItemVisual=function(t,u,c){var ee=this._itemVisuals[t]||{};this._itemVisuals[t]=ee,isObject$1(u)?extend(ee,u):ee[u]=c},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,u){isObject$1(t)?extend(this._layout,t):this._layout[t]=u},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,u,c){this._itemLayouts[t]=c?extend(this._itemLayouts[t]||{},u):u},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,u){var c=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(c,this.dataType,t,u),this._graphicEls[t]=u},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,u){each$3(this._graphicEls,function(c,ee){c&&t&&t.call(u,c,ee)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:map$5(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,u){var c=this[t];isFunction(c)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var ee=c.apply(this,arguments);return u.apply(this,[ee].concat(slice$6(arguments)))})},n.internalField=function(){prepareInvertedIndex=function(t){var u=t._invertedIndicesMap;each$3(u,function(c,ee){var te=t._dimInfos[ee],ae=te.ordinalMeta,ne=t._store;if(ae){c=u[ee]=new CtorInt32Array(ae.categories.length);for(var oe=0;oe<c.length;oe++)c[oe]=INDEX_NOT_FOUND;for(var oe=0;oe<ne.count();oe++)c[ne.get(te.storeDimIndex,oe)]=oe}})},getIdNameFromStore=function(t,u,c){return convertOptionIdName(t._getCategory(u,c),null)},getId=function(t,u){var c=t._idList[u];return c==null&&t._idDimIdx!=null&&(c=getIdNameFromStore(t,t._idDimIdx,u)),c==null&&(c=ID_PREFIX+u),c},normalizeDimensions=function(t){return isArray$6(t)||(t=t!=null?[t]:[]),t},cloneListForMapAndSample=function(t){var u=new n(t._schema?t._schema:map$5(t.dimensions,t._getDimInfo,t),t.hostModel);return transferProperties(u,t),u},transferProperties=function(t,u){each$3(TRANSFERABLE_PROPERTIES.concat(u.__wrappedMethods||[]),function(c){u.hasOwnProperty(c)&&(t[c]=u[c])}),t.__wrappedMethods=u.__wrappedMethods,each$3(CLONE_PROPERTIES,function(c){t[c]=clone$3(u[c])}),t._calculationInfo=extend({},u._calculationInfo)},makeIdFromName=function(t,u){var c=t._nameList,ee=t._idList,te=t._nameDimIdx,ae=t._idDimIdx,ne=c[u],oe=ee[u];if(ne==null&&te!=null&&(c[u]=ne=getIdNameFromStore(t,te,u)),oe==null&&ae!=null&&(ee[u]=oe=getIdNameFromStore(t,ae,u)),oe==null&&ne!=null){var ie=t._nameRepeatCount,se=ie[ne]=(ie[ne]||0)+1;oe=ne,se>1&&(oe+="__ec__"+se),ee[u]=oe}}}(),n}();function prepareSeriesDataSchema(n,t){isSourceInstance(n)||(n=createSourceFromSeriesDataOption(n)),t=t||{};var u=t.coordDimensions||[],c=t.dimensionsDefine||n.dimensionsDefine||[],ee=createHashMap(),te=[],ae=getDimCount(n,u,c,t.dimensionsCount),ne=t.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(ae),oe=c===n.dimensionsDefine,ie=oe?ensureSourceDimNameMap(n):createDimNameMap(c),se=t.encodeDefine;!se&&t.encodeDefaulter&&(se=t.encodeDefaulter(n,ae));for(var ue=createHashMap(se),le=new CtorInt32Array$1(ae),ce=0;ce<le.length;ce++)le[ce]=-1;function de(Se){var Te=le[Se];if(Te<0){var Ae=c[Se],he=isObject$3(Ae)?Ae:{name:Ae},ve=new SeriesDimensionDefine,ye=he.name;ye!=null&&ie.get(ye)!=null&&(ve.name=ve.displayName=ye),he.type!=null&&(ve.type=he.type),he.displayName!=null&&(ve.displayName=he.displayName);var be=te.length;return le[Se]=be,ve.storeDimIndex=Se,te.push(ve),ve}return te[Te]}if(!ne)for(var ce=0;ce<ae;ce++)de(ce);ue.each(function(Se,Te){var Ae=normalizeToArray(Se).slice();if(Ae.length===1&&!isString(Ae[0])&&Ae[0]<0){ue.set(Te,!1);return}var he=ue.set(Te,[]);each$3(Ae,function(ve,ye){var be=isString(ve)?ie.get(ve):ve;be!=null&&be<ae&&(he[ye]=be,pe(de(be),Te,ye))})});var fe=0;each$3(u,function(Se){var Te,Ae,he,ve;if(isString(Se))Te=Se,ve={};else{ve=Se,Te=ve.name;var ye=ve.ordinalMeta;ve.ordinalMeta=null,ve=extend({},ve),ve.ordinalMeta=ye,Ae=ve.dimsDef,he=ve.otherDims,ve.name=ve.coordDim=ve.coordDimIndex=ve.dimsDef=ve.otherDims=null}var be=ue.get(Te);if(be!==!1){if(be=normalizeToArray(be),!be.length)for(var _e=0;_e<(Ae&&Ae.length||1);_e++){for(;fe<ae&&de(fe).coordDim!=null;)fe++;fe<ae&&be.push(fe++)}each$3(be,function(Me,Ie){var Fe=de(Me);if(oe&&ve.type!=null&&(Fe.type=ve.type),pe(defaults(Fe,ve),Te,Ie),Fe.name==null&&Ae){var Ee=Ae[Ie];!isObject$3(Ee)&&(Ee={name:Ee}),Fe.name=Fe.displayName=Ee.name,Fe.defaultTooltip=Ee.defaultTooltip}he&&defaults(Fe.otherDims,he)})}});function pe(Se,Te,Ae){VISUAL_DIMENSIONS.get(Te)!=null?Se.otherDims[Te]=Ae:(Se.coordDim=Te,Se.coordDimIndex=Ae,ee.set(Te,!0))}var me=t.generateCoord,ge=t.generateCoordCount,De=ge!=null;ge=me?ge||1:0;var Ce=me||"value";function we(Se){Se.name==null&&(Se.name=Se.coordDim)}if(ne)each$3(te,function(Se){we(Se)}),te.sort(function(Se,Te){return Se.storeDimIndex-Te.storeDimIndex});else for(var xe=0;xe<ae;xe++){var Re=de(xe),Be=Re.coordDim;Be==null&&(Re.coordDim=genCoordDimName(Ce,ee,De),Re.coordDimIndex=0,(!me||ge<=0)&&(Re.isExtraCoord=!0),ge--),we(Re),Re.type==null&&(guessOrdinal(n,xe)===BE_ORDINAL.Must||Re.isExtraCoord&&(Re.otherDims.itemName!=null||Re.otherDims.seriesName!=null))&&(Re.type="ordinal")}return removeDuplication(te),new SeriesDataSchema({source:n,dimensions:te,fullDimensionCount:ae,dimensionOmitted:ne})}function removeDuplication(n){for(var t=createHashMap(),u=0;u<n.length;u++){var c=n[u],ee=c.name,te=t.get(ee)||0;te>0&&(c.name=ee+(te-1)),te++,t.set(ee,te)}}function getDimCount(n,t,u,c){var ee=Math.max(n.dimensionsDetectedCount||1,t.length,u.length,c||0);return each$3(t,function(te){var ae;isObject$3(te)&&(ae=te.dimsDef)&&(ee=Math.max(ee,ae.length))}),ee}function genCoordDimName(n,t,u){if(u||t.hasKey(n)){for(var c=0;t.hasKey(n+c);)c++;n+=c}return t.set(n,!0),n}var CoordSysInfo=function(){function n(t){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=t}return n}();function getCoordSysInfoBySeries(n){var t=n.get("coordinateSystem"),u=new CoordSysInfo(t),c=fetchers[t];if(c)return c(n,u,u.axisMap,u.categoryAxisMap),u}var fetchers={cartesian2d:function(n,t,u,c){var ee=n.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],te=n.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["x","y"],u.set("x",ee),u.set("y",te),isCategory(ee)&&(c.set("x",ee),t.firstCategoryDimIndex=0),isCategory(te)&&(c.set("y",te),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,u,c){var ee=n.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];t.coordSysDims=["single"],u.set("single",ee),isCategory(ee)&&(c.set("single",ee),t.firstCategoryDimIndex=0)},polar:function(n,t,u,c){var ee=n.getReferringComponents("polar",SINGLE_REFERRING).models[0],te=ee.findAxisModel("radiusAxis"),ae=ee.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],u.set("radius",te),u.set("angle",ae),isCategory(te)&&(c.set("radius",te),t.firstCategoryDimIndex=0),isCategory(ae)&&(c.set("angle",ae),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(n,t,u,c){t.coordSysDims=["lng","lat"]},parallel:function(n,t,u,c){var ee=n.ecModel,te=ee.getComponent("parallel",n.get("parallelIndex")),ae=t.coordSysDims=te.dimensions.slice();each$3(te.parallelAxisIndex,function(ne,oe){var ie=ee.getComponent("parallelAxis",ne),se=ae[oe];u.set(se,ie),isCategory(ie)&&(c.set(se,ie),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=oe))})}};function isCategory(n){return n.get("type")==="category"}function enableDataStack(n,t,u){u=u||{};var c=u.byIndex,ee=u.stackedCoordDimension,te,ae,ne;isLegacyDimensionsInput(t)?te=t:(ae=t.schema,te=ae.dimensions,ne=t.store);var oe=!!(n&&n.get("stack")),ie,se,ue,le;if(each$3(te,function(ge,De){isString(ge)&&(te[De]=ge={name:ge}),oe&&!ge.isExtraCoord&&(!c&&!ie&&ge.ordinalMeta&&(ie=ge),!se&&ge.type!=="ordinal"&&ge.type!=="time"&&(!ee||ee===ge.coordDim)&&(se=ge))}),se&&!c&&!ie&&(c=!0),se){ue="__\0ecstackresult_"+n.id,le="__\0ecstackedover_"+n.id,ie&&(ie.createInvertedIndices=!0);var ce=se.coordDim,de=se.type,fe=0;each$3(te,function(ge){ge.coordDim===ce&&fe++});var pe={name:ue,coordDim:ce,coordDimIndex:fe,type:de,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:te.length},me={name:le,coordDim:le,coordDimIndex:fe+1,type:de,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:te.length+1};ae?(ne&&(pe.storeDimIndex=ne.ensureCalculationDimension(le,de),me.storeDimIndex=ne.ensureCalculationDimension(ue,de)),ae.appendCalculationDimension(pe),ae.appendCalculationDimension(me)):(te.push(pe),te.push(me))}return{stackedDimension:se&&se.name,stackedByDimension:ie&&ie.name,isStackedByIndex:c,stackedOverDimension:le,stackResultDimension:ue}}function isLegacyDimensionsInput(n){return!isSeriesDataSchema(n.schema)}function isDimensionStacked(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function getStackedDimension(n,t){return isDimensionStacked(n,t)?n.getCalculationInfo("stackResultDimension"):t}function getCoordSysDimDefs(n,t){var u=n.get("coordinateSystem"),c=CoordinateSystemManager.get(u),ee;return t&&t.coordSysDims&&(ee=map$6(t.coordSysDims,function(te){var ae={name:te},ne=t.axisMap.get(te);if(ne){var oe=ne.get("type");ae.type=getDimensionTypeByAxis(oe)}return ae})),ee||(ee=c&&(c.getDimensionsInfo?c.getDimensionsInfo():c.dimensions.slice())||["x","y"]),ee}function injectOrdinalMeta(n,t,u){var c,ee;return u&&each$3(n,function(te,ae){var ne=te.coordDim,oe=u.categoryAxisMap.get(ne);oe&&(c==null&&(c=ae),te.ordinalMeta=oe.getOrdinalMeta(),t&&(te.createInvertedIndices=!0)),te.otherDims.itemName!=null&&(ee=!0)}),!ee&&c!=null&&(n[c].otherDims.itemName=0),c}function createSeriesData(n,t,u){u=u||{};var c=t.getSourceManager(),ee,te=!1;ee=c.getSource(),te=ee.sourceFormat===SOURCE_FORMAT_ORIGINAL;var ae=getCoordSysInfoBySeries(t),ne=getCoordSysDimDefs(t,ae),oe=u.useEncodeDefaulter,ie=isFunction(oe)?oe:oe?curry(makeSeriesEncodeForAxisCoordSys,ne,t):null,se={coordDimensions:ne,generateCoord:u.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:ie,canOmitUnusedDimensions:!te},ue=prepareSeriesDataSchema(ee,se),le=injectOrdinalMeta(ue.dimensions,u.createInvertedIndices,ae),ce=te?null:c.getSharedDataStore(ue),de=enableDataStack(t,{schema:ue,store:ce}),fe=new SeriesData(ue,t);fe.setCalculationInfo(de);var pe=le!=null&&isNeedCompleteOrdinalData(ee)?function(me,ge,De,Ce){return Ce===le?De:this.defaultDimValueGetter(me,ge,De,Ce)}:null;return fe.hasItemOption=!1,fe.initData(te?ee:ce,null,pe),fe}function isNeedCompleteOrdinalData(n){if(n.sourceFormat===SOURCE_FORMAT_ORIGINAL){var t=firstDataNotNull(n.data||[]);return!isArray$6(getDataItemValue(t))}}function firstDataNotNull(n){for(var t=0;t<n.length&&n[t]==null;)t++;return n[t]}var Scale=function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var u=this._extent;t[0]<u[0]&&(u[0]=t[0]),t[1]>u[1]&&(u[1]=t[1])},n.prototype.unionExtentFromData=function(t,u){this.unionExtent(t.getApproximateExtent(u))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,u){var c=this._extent;isNaN(t)||(c[0]=t),isNaN(u)||(c[1]=u)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();enableClassManagement(Scale);var uidBase=0,OrdinalMeta=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++uidBase}return n.createByAxisModel=function(t){var u=t.option,c=u.data,ee=c&&map$6(c,getName);return new n({categories:ee,needCollect:!ee,deduplication:u.dedplication!==!1})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var u,c=this._needCollect;if(!isString(t)&&!c)return t;if(c&&!this._deduplication)return u=this.categories.length,this.categories[u]=t,u;var ee=this._getOrCreateMap();return u=ee.get(t),u==null&&(c?(u=this.categories.length,this.categories[u]=t,ee.set(t,u)):u=NaN),u},n.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},n}();function getName(n){return isObject$3(n)&&n.value!=null?n.value:n+""}function isIntervalOrLogScale(n){return n.type==="interval"||n.type==="log"}function intervalScaleNiceTicks(n,t,u,c){var ee={},te=n[1]-n[0],ae=ee.interval=nice(te/t);u!=null&&ae<u&&(ae=ee.interval=u),c!=null&&ae>c&&(ae=ee.interval=c);var ne=ee.intervalPrecision=getIntervalPrecision(ae),oe=ee.niceTickExtent=[round$2(Math.ceil(n[0]/ae)*ae,ne),round$2(Math.floor(n[1]/ae)*ae,ne)];return fixExtent(oe,n),ee}function increaseInterval(n){var t=Math.pow(10,quantityExponent(n)),u=n/t;return u?u===2?u=3:u===3?u=5:u*=2:u=1,round$2(u*t)}function getIntervalPrecision(n){return getPrecision(n)+2}function clamp(n,t,u){n[t]=Math.max(Math.min(n[t],u[1]),u[0])}function fixExtent(n,t){!isFinite(n[0])&&(n[0]=t[0]),!isFinite(n[1])&&(n[1]=t[1]),clamp(n,0,t),clamp(n,1,t),n[0]>n[1]&&(n[0]=n[1])}function contain(n,t){return n>=t[0]&&n<=t[1]}function normalize$1(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function scale(n,t){return n*(t[1]-t[0])+t[0]}var OrdinalScale=function(n){__extends$1(t,n);function t(u){var c=n.call(this,u)||this;c.type="ordinal";var ee=c.getSetting("ordinalMeta");return ee||(ee=new OrdinalMeta({})),isArray$6(ee)&&(ee=new OrdinalMeta({categories:map$6(ee,function(te){return isObject$3(te)?te.value:te})})),c._ordinalMeta=ee,c._extent=c.getSetting("extent")||[0,ee.categories.length-1],c}return t.prototype.parse=function(u){return u==null?NaN:isString(u)?this._ordinalMeta.getOrdinal(u):Math.round(u)},t.prototype.contain=function(u){return u=this.parse(u),contain(u,this._extent)&&this._ordinalMeta.categories[u]!=null},t.prototype.normalize=function(u){return u=this._getTickNumber(this.parse(u)),normalize$1(u,this._extent)},t.prototype.scale=function(u){return u=Math.round(scale(u,this._extent)),this.getRawOrdinalNumber(u)},t.prototype.getTicks=function(){for(var u=[],c=this._extent,ee=c[0];ee<=c[1];)u.push({value:ee}),ee++;return u},t.prototype.getMinorTicks=function(u){},t.prototype.setSortInfo=function(u){if(u==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var c=u.ordinalNumbers,ee=this._ordinalNumbersByTick=[],te=this._ticksByOrdinalNumber=[],ae=0,ne=this._ordinalMeta.categories.length,oe=Math.min(ne,c.length);ae<oe;++ae){var ie=c[ae];ee[ae]=ie,te[ie]=ae}for(var se=0;ae<ne;++ae){for(;te[se]!=null;)se++;ee.push(se),te[se]=ae}},t.prototype._getTickNumber=function(u){var c=this._ticksByOrdinalNumber;return c&&u>=0&&u<c.length?c[u]:u},t.prototype.getRawOrdinalNumber=function(u){var c=this._ordinalNumbersByTick;return c&&u>=0&&u<c.length?c[u]:u},t.prototype.getLabel=function(u){if(!this.isBlank()){var c=this.getRawOrdinalNumber(u.value),ee=this._ordinalMeta.categories[c];return ee==null?"":ee+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(u,c){this.unionExtent(u.getApproximateExtent(c))},t.prototype.isInExtentRange=function(u){return u=this._getTickNumber(u),this._extent[0]<=u&&this._extent[1]>=u},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Scale);Scale.registerClass(OrdinalScale);var roundNumber=round$2,IntervalScale=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type="interval",u._interval=0,u._intervalPrecision=2,u}return t.prototype.parse=function(u){return u},t.prototype.contain=function(u){return contain(u,this._extent)},t.prototype.normalize=function(u){return normalize$1(u,this._extent)},t.prototype.scale=function(u){return scale(u,this._extent)},t.prototype.setExtent=function(u,c){var ee=this._extent;isNaN(u)||(ee[0]=parseFloat(u)),isNaN(c)||(ee[1]=parseFloat(c))},t.prototype.unionExtent=function(u){var c=this._extent;u[0]<c[0]&&(c[0]=u[0]),u[1]>c[1]&&(c[1]=u[1]),this.setExtent(c[0],c[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(u){this._interval=u,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(u)},t.prototype.getTicks=function(u){var c=this._interval,ee=this._extent,te=this._niceExtent,ae=this._intervalPrecision,ne=[];if(!c)return ne;var oe=1e4;ee[0]<te[0]&&(u?ne.push({value:roundNumber(te[0]-c,ae)}):ne.push({value:ee[0]}));for(var ie=te[0];ie<=te[1]&&(ne.push({value:ie}),ie=roundNumber(ie+c,ae),ie!==ne[ne.length-1].value);)if(ne.length>oe)return[];var se=ne.length?ne[ne.length-1].value:te[1];return ee[1]>se&&(u?ne.push({value:roundNumber(se+c,ae)}):ne.push({value:ee[1]})),ne},t.prototype.getMinorTicks=function(u){for(var c=this.getTicks(!0),ee=[],te=this.getExtent(),ae=1;ae<c.length;ae++){for(var ne=c[ae],oe=c[ae-1],ie=0,se=[],ue=ne.value-oe.value,le=ue/u;ie<u-1;){var ce=roundNumber(oe.value+(ie+1)*le);ce>te[0]&&ce<te[1]&&se.push(ce),ie++}ee.push(se)}return ee},t.prototype.getLabel=function(u,c){if(u==null)return"";var ee=c&&c.precision;ee==null?ee=getPrecision(u.value)||0:ee==="auto"&&(ee=this._intervalPrecision);var te=roundNumber(u.value,ee,!0);return addCommas(te)},t.prototype.calcNiceTicks=function(u,c,ee){u=u||5;var te=this._extent,ae=te[1]-te[0];if(isFinite(ae)){ae<0&&(ae=-ae,te.reverse());var ne=intervalScaleNiceTicks(te,u,c,ee);this._intervalPrecision=ne.intervalPrecision,this._interval=ne.interval,this._niceExtent=ne.niceTickExtent}},t.prototype.calcNiceExtent=function(u){var c=this._extent;if(c[0]===c[1])if(c[0]!==0){var ee=Math.abs(c[0]);u.fixMax||(c[1]+=ee/2),c[0]-=ee/2}else c[1]=1;var te=c[1]-c[0];isFinite(te)||(c[0]=0,c[1]=1),this.calcNiceTicks(u.splitNumber,u.minInterval,u.maxInterval);var ae=this._interval;u.fixMin||(c[0]=roundNumber(Math.floor(c[0]/ae)*ae)),u.fixMax||(c[1]=roundNumber(Math.ceil(c[1]/ae)*ae))},t.prototype.setNiceExtent=function(u,c){this._niceExtent=[u,c]},t.type="interval",t}(Scale);Scale.registerClass(IntervalScale);var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(n){return isArray$6(n)?supportFloat32Array?new Float32Array(n):n:new Float32ArrayCtor(n)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId(n){return n.get("stack")||STACK_PREFIX+n.seriesIndex}function getAxisKey(n){return n.dim+n.index}function prepareLayoutBarSeries(n,t){var u=[];return t.eachSeriesByType(n,function(c){isOnCartesian(c)&&u.push(c)}),u}function getValueAxesMinGaps(n){var t={};each$3(n,function(oe){var ie=oe.coordinateSystem,se=ie.getBaseAxis();if(!(se.type!=="time"&&se.type!=="value"))for(var ue=oe.getData(),le=se.dim+"_"+se.index,ce=ue.getDimensionIndex(ue.mapDimension(se.dim)),de=ue.getStore(),fe=0,pe=de.count();fe<pe;++fe){var me=de.get(ce,fe);t[le]?t[le].push(me):t[le]=[me]}});var u={};for(var c in t)if(t.hasOwnProperty(c)){var ee=t[c];if(ee){ee.sort(function(oe,ie){return oe-ie});for(var te=null,ae=1;ae<ee.length;++ae){var ne=ee[ae]-ee[ae-1];ne>0&&(te=te===null?ne:Math.min(te,ne))}u[c]=te}}return u}function makeColumnLayout(n){var t=getValueAxesMinGaps(n),u=[];return each$3(n,function(c){var ee=c.coordinateSystem,te=ee.getBaseAxis(),ae=te.getExtent(),ne;if(te.type==="category")ne=te.getBandWidth();else if(te.type==="value"||te.type==="time"){var oe=te.dim+"_"+te.index,ie=t[oe],se=Math.abs(ae[1]-ae[0]),ue=te.scale.getExtent(),le=Math.abs(ue[1]-ue[0]);ne=ie?se/le*ie:se}else{var ce=c.getData();ne=Math.abs(ae[1]-ae[0])/ce.count()}var de=parsePercent(c.get("barWidth"),ne),fe=parsePercent(c.get("barMaxWidth"),ne),pe=parsePercent(c.get("barMinWidth")||(isInLargeMode(c)?.5:1),ne),me=c.get("barGap"),ge=c.get("barCategoryGap");u.push({bandWidth:ne,barWidth:de,barMaxWidth:fe,barMinWidth:pe,barGap:me,barCategoryGap:ge,axisKey:getAxisKey(te),stackId:getSeriesStackId(c)})}),doCalBarWidthAndOffset(u)}function doCalBarWidthAndOffset(n){var t={};each$3(n,function(c,ee){var te=c.axisKey,ae=c.bandWidth,ne=t[te]||{bandWidth:ae,remainedWidth:ae,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},oe=ne.stacks;t[te]=ne;var ie=c.stackId;oe[ie]||ne.autoWidthCount++,oe[ie]=oe[ie]||{width:0,maxWidth:0};var se=c.barWidth;se&&!oe[ie].width&&(oe[ie].width=se,se=Math.min(ne.remainedWidth,se),ne.remainedWidth-=se);var ue=c.barMaxWidth;ue&&(oe[ie].maxWidth=ue);var le=c.barMinWidth;le&&(oe[ie].minWidth=le);var ce=c.barGap;ce!=null&&(ne.gap=ce);var de=c.barCategoryGap;de!=null&&(ne.categoryGap=de)});var u={};return each$3(t,function(c,ee){u[ee]={};var te=c.stacks,ae=c.bandWidth,ne=c.categoryGap;if(ne==null){var oe=keys$2(te).length;ne=Math.max(35-oe*4,15)+"%"}var ie=parsePercent(ne,ae),se=parsePercent(c.gap,1),ue=c.remainedWidth,le=c.autoWidthCount,ce=(ue-ie)/(le+(le-1)*se);ce=Math.max(ce,0),each$3(te,function(me){var ge=me.maxWidth,De=me.minWidth;if(me.width){var Ce=me.width;ge&&(Ce=Math.min(Ce,ge)),De&&(Ce=Math.max(Ce,De)),me.width=Ce,ue-=Ce+se*Ce,le--}else{var Ce=ce;ge&&ge<Ce&&(Ce=Math.min(ge,ue)),De&&De>Ce&&(Ce=De),Ce!==ce&&(me.width=Ce,ue-=Ce+se*Ce,le--)}}),ce=(ue-ie)/(le+(le-1)*se),ce=Math.max(ce,0);var de=0,fe;each$3(te,function(me,ge){me.width||(me.width=ce),fe=me,de+=me.width*(1+se)}),fe&&(de-=fe.width*se);var pe=-de/2;each$3(te,function(me,ge){u[ee][ge]=u[ee][ge]||{bandWidth:ae,offset:pe,width:me.width},pe+=me.width*(1+se)})}),u}function retrieveColumnLayout(n,t,u){if(n&&t){var c=n[getAxisKey(t)];return c}}function isOnCartesian(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function isInLargeMode(n){return n.pipelineContext&&n.pipelineContext.large}var bisect=function(n,t,u,c){for(;u<c;){var ee=u+c>>>1;n[ee][1]<t?u=ee+1:c=ee}return u},TimeScale=function(n){__extends$1(t,n);function t(u){var c=n.call(this,u)||this;return c.type="time",c}return t.prototype.getLabel=function(u){var c=this.getSetting("useUTC");return format(u.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,c,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(u,c,ee){var te=this.getSetting("useUTC"),ae=this.getSetting("locale");return leveledFormat(u,c,ee,ae,te)},t.prototype.getTicks=function(){var u=this._interval,c=this._extent,ee=[];if(!u)return ee;ee.push({value:c[0],level:0});var te=this.getSetting("useUTC"),ae=getIntervalTicks(this._minLevelUnit,this._approxInterval,te,c);return ee=ee.concat(ae),ee.push({value:c[1],level:0}),ee},t.prototype.calcNiceExtent=function(u){var c=this._extent;if(c[0]===c[1]&&(c[0]-=ONE_DAY,c[1]+=ONE_DAY),c[1]===-1/0&&c[0]===1/0){var ee=new Date;c[1]=+new Date(ee.getFullYear(),ee.getMonth(),ee.getDate()),c[0]=c[1]-ONE_DAY}this.calcNiceTicks(u.splitNumber,u.minInterval,u.maxInterval)},t.prototype.calcNiceTicks=function(u,c,ee){u=u||10;var te=this._extent,ae=te[1]-te[0];this._approxInterval=ae/u,c!=null&&this._approxInterval<c&&(this._approxInterval=c),ee!=null&&this._approxInterval>ee&&(this._approxInterval=ee);var ne=scaleIntervals.length,oe=Math.min(bisect(scaleIntervals,this._approxInterval,0,ne),ne-1);this._interval=scaleIntervals[oe][1],this._minLevelUnit=scaleIntervals[Math.max(oe-1,0)][0]},t.prototype.parse=function(u){return isNumber(u)?u:+parseDate(u)},t.prototype.contain=function(u){return contain(this.parse(u),this._extent)},t.prototype.normalize=function(u){return normalize$1(this.parse(u),this._extent)},t.prototype.scale=function(u){return scale(u,this._extent)},t.type="time",t}(IntervalScale),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(n,t,u,c){var ee=parseDate(t),te=parseDate(u),ae=function(de){return getUnitValue(ee,de,c)===getUnitValue(te,de,c)},ne=function(){return ae("year")},oe=function(){return ne()&&ae("month")},ie=function(){return oe()&&ae("day")},se=function(){return ie()&&ae("hour")},ue=function(){return se()&&ae("minute")},le=function(){return ue()&&ae("second")},ce=function(){return le()&&ae("millisecond")};switch(n){case"year":return ne();case"month":return oe();case"day":return ie();case"hour":return se();case"minute":return ue();case"second":return le();case"millisecond":return ce()}}function getDateInterval(n,t){return n/=ONE_DAY,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function getMonthInterval(n){var t=30*ONE_DAY;return n/=t,n>6?6:n>3?3:n>2?2:1}function getHourInterval(n){return n/=ONE_HOUR,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function getMinutesAndSecondsInterval(n,t){return n/=t?ONE_MINUTE:ONE_SECOND,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function getMillisecondsInterval(n){return nice(n)}function getFirstTimestampOfUnit(n,t,u){var c=new Date(n);switch(getPrimaryTimeUnit(t)){case"year":case"month":c[monthSetterName(u)](0);case"day":c[dateSetterName(u)](1);case"hour":c[hoursSetterName(u)](0);case"minute":c[minutesSetterName(u)](0);case"second":c[secondsSetterName(u)](0),c[millisecondsSetterName(u)](0)}return c.getTime()}function getIntervalTicks(n,t,u,c){var ee=1e4,te=timeUnits,ae=0;function ne(Te,Ae,he,ve,ye,be,_e){for(var Me=new Date(Ae),Ie=Ae,Fe=Me[ve]();Ie<he&&Ie<=c[1];)_e.push({value:Ie}),Fe+=Te,Me[ye](Fe),Ie=Me.getTime();_e.push({value:Ie,notAdd:!0})}function oe(Te,Ae,he){var ve=[],ye=!Ae.length;if(!isUnitValueSame(getPrimaryTimeUnit(Te),c[0],c[1],u)){ye&&(Ae=[{value:getFirstTimestampOfUnit(new Date(c[0]),Te,u)},{value:c[1]}]);for(var be=0;be<Ae.length-1;be++){var _e=Ae[be].value,Me=Ae[be+1].value;if(_e!==Me){var Ie=void 0,Fe=void 0,Ee=void 0,ke=!1;switch(Te){case"year":Ie=Math.max(1,Math.round(t/ONE_DAY/365)),Fe=fullYearGetterName(u),Ee=fullYearSetterName(u);break;case"half-year":case"quarter":case"month":Ie=getMonthInterval(t),Fe=monthGetterName(u),Ee=monthSetterName(u);break;case"week":case"half-week":case"day":Ie=getDateInterval(t),Fe=dateGetterName(u),Ee=dateSetterName(u),ke=!0;break;case"half-day":case"quarter-day":case"hour":Ie=getHourInterval(t),Fe=hoursGetterName(u),Ee=hoursSetterName(u);break;case"minute":Ie=getMinutesAndSecondsInterval(t,!0),Fe=minutesGetterName(u),Ee=minutesSetterName(u);break;case"second":Ie=getMinutesAndSecondsInterval(t,!1),Fe=secondsGetterName(u),Ee=secondsSetterName(u);break;case"millisecond":Ie=getMillisecondsInterval(t),Fe=millisecondsGetterName(u),Ee=millisecondsSetterName(u);break}ne(Ie,_e,Me,Fe,Ee,ke,ve),Te==="year"&&he.length>1&&be===0&&he.unshift({value:he[0].value-Ie})}}for(var be=0;be<ve.length;be++)he.push(ve[be]);return ve}}for(var ie=[],se=[],ue=0,le=0,ce=0;ce<te.length&&ae++<ee;++ce){var de=getPrimaryTimeUnit(te[ce]);if(isPrimaryTimeUnit(te[ce])){oe(te[ce],ie[ie.length-1]||[],se);var fe=te[ce+1]?getPrimaryTimeUnit(te[ce+1]):null;if(de!==fe){if(se.length){le=ue,se.sort(function(Te,Ae){return Te.value-Ae.value});for(var pe=[],me=0;me<se.length;++me){var ge=se[me].value;(me===0||se[me-1].value!==ge)&&(pe.push(se[me]),ge>=c[0]&&ge<=c[1]&&ue++)}var De=(c[1]-c[0])/t;if(ue>De*1.5&&le>De/1.5||(ie.push(pe),ue>De||n===te[ce]))break}se=[]}}}for(var Ce=filter(map$6(ie,function(Te){return filter(Te,function(Ae){return Ae.value>=c[0]&&Ae.value<=c[1]&&!Ae.notAdd})}),function(Te){return Te.length>0}),we=[],xe=Ce.length-1,ce=0;ce<Ce.length;++ce)for(var Re=Ce[ce],Be=0;Be<Re.length;++Be)we.push({value:Re[Be].value,level:xe-ce});we.sort(function(Te,Ae){return Te.value-Ae.value});for(var Se=[],ce=0;ce<we.length;++ce)(ce===0||we[ce].value!==we[ce-1].value)&&Se.push(we[ce]);return Se}Scale.registerClass(TimeScale);var scaleProto=Scale.prototype,intervalScaleProto=IntervalScale.prototype,roundingErrorFix=round$2,mathFloor=Math.floor,mathCeil=Math.ceil,mathPow=Math.pow,mathLog$1=Math.log,LogScale=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type="log",u.base=10,u._originalScale=new IntervalScale,u._interval=0,u}return t.prototype.getTicks=function(u){var c=this._originalScale,ee=this._extent,te=c.getExtent(),ae=intervalScaleProto.getTicks.call(this,u);return map$6(ae,function(ne){var oe=ne.value,ie=round$2(mathPow(this.base,oe));return ie=oe===ee[0]&&this._fixMin?fixRoundingError(ie,te[0]):ie,ie=oe===ee[1]&&this._fixMax?fixRoundingError(ie,te[1]):ie,{value:ie}},this)},t.prototype.setExtent=function(u,c){var ee=mathLog$1(this.base);u=mathLog$1(Math.max(0,u))/ee,c=mathLog$1(Math.max(0,c))/ee,intervalScaleProto.setExtent.call(this,u,c)},t.prototype.getExtent=function(){var u=this.base,c=scaleProto.getExtent.call(this);c[0]=mathPow(u,c[0]),c[1]=mathPow(u,c[1]);var ee=this._originalScale,te=ee.getExtent();return this._fixMin&&(c[0]=fixRoundingError(c[0],te[0])),this._fixMax&&(c[1]=fixRoundingError(c[1],te[1])),c},t.prototype.unionExtent=function(u){this._originalScale.unionExtent(u);var c=this.base;u[0]=mathLog$1(u[0])/mathLog$1(c),u[1]=mathLog$1(u[1])/mathLog$1(c),scaleProto.unionExtent.call(this,u)},t.prototype.unionExtentFromData=function(u,c){this.unionExtent(u.getApproximateExtent(c))},t.prototype.calcNiceTicks=function(u){u=u||10;var c=this._extent,ee=c[1]-c[0];if(!(ee===1/0||ee<=0)){var te=quantity(ee),ae=u/ee*te;for(ae<=.5&&(te*=10);!isNaN(te)&&Math.abs(te)<1&&Math.abs(te)>0;)te*=10;var ne=[round$2(mathCeil(c[0]/te)*te),round$2(mathFloor(c[1]/te)*te)];this._interval=te,this._niceExtent=ne}},t.prototype.calcNiceExtent=function(u){intervalScaleProto.calcNiceExtent.call(this,u),this._fixMin=u.fixMin,this._fixMax=u.fixMax},t.prototype.parse=function(u){return u},t.prototype.contain=function(u){return u=mathLog$1(u)/mathLog$1(this.base),contain(u,this._extent)},t.prototype.normalize=function(u){return u=mathLog$1(u)/mathLog$1(this.base),normalize$1(u,this._extent)},t.prototype.scale=function(u){return u=scale(u,this._extent),mathPow(this.base,u)},t.type="log",t}(Scale),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(n,t){return roundingErrorFix(n,getPrecision(t))}Scale.registerClass(LogScale);var ScaleRawExtentInfo=function(){function n(t,u,c){this._prepareParams(t,u,c)}return n.prototype._prepareParams=function(t,u,c){c[1]<c[0]&&(c=[NaN,NaN]),this._dataMin=c[0],this._dataMax=c[1];var ee=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&u.getNeedCrossZero&&u.getNeedCrossZero();var te=u.get("min",!0);te==null&&(te=u.get("startValue",!0));var ae=this._modelMinRaw=te;isFunction(ae)?this._modelMinNum=parseAxisModelMinMax(t,ae({min:c[0],max:c[1]})):ae!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(t,ae));var ne=this._modelMaxRaw=u.get("max",!0);if(isFunction(ne)?this._modelMaxNum=parseAxisModelMinMax(t,ne({min:c[0],max:c[1]})):ne!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(t,ne)),ee)this._axisDataLen=u.getCategories().length;else{var oe=u.get("boundaryGap"),ie=isArray$6(oe)?oe:[oe||0,oe||0];typeof ie[0]=="boolean"||typeof ie[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(ie[0],1),parsePercent$1(ie[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,u=this._dataMin,c=this._dataMax,ee=this._axisDataLen,te=this._boundaryGapInner,ae=t?null:c-u||Math.abs(u),ne=this._modelMinRaw==="dataMin"?u:this._modelMinNum,oe=this._modelMaxRaw==="dataMax"?c:this._modelMaxNum,ie=ne!=null,se=oe!=null;ne==null&&(ne=t?ee?0:NaN:u-te[0]*ae),oe==null&&(oe=t?ee?ee-1:NaN:c+te[1]*ae),(ne==null||!isFinite(ne))&&(ne=NaN),(oe==null||!isFinite(oe))&&(oe=NaN);var ue=eqNaN(ne)||eqNaN(oe)||t&&!ee;this._needCrossZero&&(ne>0&&oe>0&&!ie&&(ne=0),ne<0&&oe<0&&!se&&(oe=0));var le=this._determinedMin,ce=this._determinedMax;return le!=null&&(ne=le,ie=!0),ce!=null&&(oe=ce,se=!0),{min:ne,max:oe,minFixed:ie,maxFixed:se,isBlank:ue}},n.prototype.modifyDataMinMax=function(t,u){this[DATA_MIN_MAX_ATTR[t]]=u},n.prototype.setDeterminedMinMax=function(t,u){var c=DETERMINED_MIN_MAX_ATTR[t];this[c]=u},n.prototype.freeze=function(){this.frozen=!0},n}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(n,t,u){var c=n.rawExtentInfo;return c||(c=new ScaleRawExtentInfo(n,t,u),n.rawExtentInfo=c,c)}function parseAxisModelMinMax(n,t){return t==null?null:eqNaN(t)?NaN:n.parse(t)}function getScaleExtent(n,t){var u=n.type,c=ensureScaleRawExtentInfo(n,t,n.getExtent()).calculate();n.setBlank(c.isBlank);var ee=c.min,te=c.max,ae=t.ecModel;if(ae&&u==="time"){var ne=prepareLayoutBarSeries("bar",ae),oe=!1;if(each$3(ne,function(ue){oe=oe||ue.getBaseAxis()===t.axis}),oe){var ie=makeColumnLayout(ne),se=adjustScaleForOverflow(ee,te,t,ie);ee=se.min,te=se.max}}return{extent:[ee,te],fixMin:c.minFixed,fixMax:c.maxFixed}}function adjustScaleForOverflow(n,t,u,c){var ee=u.axis.getExtent(),te=Math.abs(ee[1]-ee[0]),ae=retrieveColumnLayout(c,u.axis);if(ae===void 0)return{min:n,max:t};var ne=1/0;each$3(ae,function(ce){ne=Math.min(ce.offset,ne)});var oe=-1/0;each$3(ae,function(ce){oe=Math.max(ce.offset+ce.width,oe)}),ne=Math.abs(ne),oe=Math.abs(oe);var ie=ne+oe,se=t-n,ue=1-(ne+oe)/te,le=se/ue-se;return t+=le*(oe/ie),n-=le*(ne/ie),{min:n,max:t}}function niceScaleExtent(n,t){var u=t,c=getScaleExtent(n,u),ee=c.extent,te=u.get("splitNumber");n instanceof LogScale&&(n.base=u.get("logBase"));var ae=n.type,ne=u.get("interval"),oe=ae==="interval"||ae==="time";n.setExtent(ee[0],ee[1]),n.calcNiceExtent({splitNumber:te,fixMin:c.fixMin,fixMax:c.fixMax,minInterval:oe?u.get("minInterval"):null,maxInterval:oe?u.get("maxInterval"):null}),ne!=null&&n.setInterval&&n.setInterval(ne)}function createScaleByModel(n,t){if(t=t||n.get("type"),t)switch(t){case"category":return new OrdinalScale({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Scale.getClass(t)||IntervalScale)}}function ifAxisCrossZero(n){var t=n.scale.getExtent(),u=t[0],c=t[1];return!(u>0&&c>0||u<0&&c<0)}function makeLabelFormatter(n){var t=n.getLabelModel().get("formatter"),u=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(c){return function(ee,te){return n.scale.getFormattedLabel(ee,te,c)}}(t):isString(t)?function(c){return function(ee){var te=n.scale.getLabel(ee),ae=c.replace("{value}",te??"");return ae}}(t):isFunction(t)?function(c){return function(ee,te){return u!=null&&(te=ee.value-u),c(getAxisRawValue(n,ee),te,ee.level!=null?{level:ee.level}:null)}}(t):function(c){return n.scale.getLabel(c)}}function getAxisRawValue(n,t){return n.type==="category"?n.scale.getLabel(t):t.value}function estimateLabelUnionRect(n){var t=n.model,u=n.scale;if(!(!t.get(["axisLabel","show"])||u.isBlank())){var c,ee,te=u.getExtent();u instanceof OrdinalScale?ee=u.count():(c=u.getTicks(),ee=c.length);var ae=n.getLabelModel(),ne=makeLabelFormatter(n),oe,ie=1;ee>40&&(ie=Math.ceil(ee/40));for(var se=0;se<ee;se+=ie){var ue=c?c[se]:{value:te[0]+se},le=ne(ue,se),ce=ae.getTextRect(le),de=rotateTextRect(ce,ae.get("rotate")||0);oe?oe.union(de):oe=de}return oe}}function rotateTextRect(n,t){var u=t*Math.PI/180,c=n.width,ee=n.height,te=c*Math.abs(Math.cos(u))+Math.abs(ee*Math.sin(u)),ae=c*Math.abs(Math.sin(u))+Math.abs(ee*Math.cos(u)),ne=new BoundingRect(n.x,n.y,te,ae);return ne}function getOptionCategoryInterval(n){var t=n.get("interval");return t??"auto"}function shouldShowAllLabels(n){return n.type==="category"&&getOptionCategoryInterval(n.getLabelModel())===0}function getDataDimensionsOnAxis(n,t){var u={};return each$3(n.mapDimensionsAll(t),function(c){u[getStackedDimension(n,c)]=!0}),keys$2(u)}var AxisModelCommonMixin=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},n.prototype.getCoordSysModel=function(){},n}(),extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap,registerImpl,PRIORITY,ComponentModel,ComponentView,SeriesModel,ChartView,registerComponentModel:function(n){ComponentModel.registerClass(n)},registerComponentView:function(n){ComponentView.registerClass(n)},registerSeriesModel:function(n){SeriesModel.registerClass(n)},registerChartView:function(n){ChartView.registerClass(n)},registerSubTypeDefaulter:function(n,t){ComponentModel.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){registerPainter(n,t)}};function use(n){if(isArray$6(n)){each$3(n,function(t){use(t)});return}indexOf$5(extensions,n)>=0||(extensions.push(n),isFunction(n)&&(n={install:n}),n.install(extensionRegisters))}var inner$4=makeInner();function tickValuesToNumbers(n,t){var u=map$6(t,function(c){return n.scale.parse(c)});return n.type==="time"&&u.length>0&&(u.sort(),u.unshift(u[0]),u.push(u[u.length-1])),u}function createAxisLabels(n){var t=n.getLabelModel().get("customValues");if(t){var u=makeLabelFormatter(n),c=n.scale.getExtent(),ee=tickValuesToNumbers(n,t),te=filter(ee,function(ae){return ae>=c[0]&&ae<=c[1]});return{labels:map$6(te,function(ae){var ne={value:ae};return{formattedLabel:u(ne),rawLabel:n.scale.getLabel(ne),tickValue:ae}})}}return n.type==="category"?makeCategoryLabels(n):makeRealNumberLabels(n)}function createAxisTicks(n,t){var u=n.getTickModel().get("customValues");if(u){var c=n.scale.getExtent(),ee=tickValuesToNumbers(n,u);return{ticks:filter(ee,function(te){return te>=c[0]&&te<=c[1]})}}return n.type==="category"?makeCategoryTicks(n,t):{ticks:map$6(n.scale.getTicks(),function(te){return te.value})}}function makeCategoryLabels(n){var t=n.getLabelModel(),u=makeCategoryLabelsActually(n,t);return!t.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:u.labelCategoryInterval}:u}function makeCategoryLabelsActually(n,t){var u=getListCache(n,"labels"),c=getOptionCategoryInterval(t),ee=listCacheGet(u,c);if(ee)return ee;var te,ae;return isFunction(c)?te=makeLabelsByCustomizedCategoryInterval(n,c):(ae=c==="auto"?makeAutoCategoryInterval(n):c,te=makeLabelsByNumericCategoryInterval(n,ae)),listCacheSet(u,c,{labels:te,labelCategoryInterval:ae})}function makeCategoryTicks(n,t){var u=getListCache(n,"ticks"),c=getOptionCategoryInterval(t),ee=listCacheGet(u,c);if(ee)return ee;var te,ae;if((!t.get("show")||n.scale.isBlank())&&(te=[]),isFunction(c))te=makeLabelsByCustomizedCategoryInterval(n,c,!0);else if(c==="auto"){var ne=makeCategoryLabelsActually(n,n.getLabelModel());ae=ne.labelCategoryInterval,te=map$6(ne.labels,function(oe){return oe.tickValue})}else ae=c,te=makeLabelsByNumericCategoryInterval(n,ae,!0);return listCacheSet(u,c,{ticks:te,tickCategoryInterval:ae})}function makeRealNumberLabels(n){var t=n.scale.getTicks(),u=makeLabelFormatter(n);return{labels:map$6(t,function(c,ee){return{level:c.level,formattedLabel:u(c,ee),rawLabel:n.scale.getLabel(c),tickValue:c.value}})}}function getListCache(n,t){return inner$4(n)[t]||(inner$4(n)[t]=[])}function listCacheGet(n,t){for(var u=0;u<n.length;u++)if(n[u].key===t)return n[u].value}function listCacheSet(n,t,u){return n.push({key:t,value:u}),u}function makeAutoCategoryInterval(n){var t=inner$4(n).autoInterval;return t??(inner$4(n).autoInterval=n.calculateCategoryInterval())}function calculateCategoryInterval(n){var t=fetchAutoCategoryIntervalCalculationParams(n),u=makeLabelFormatter(n),c=(t.axisRotate-t.labelRotate)/180*Math.PI,ee=n.scale,te=ee.getExtent(),ae=ee.count();if(te[1]-te[0]<1)return 0;var ne=1;ae>40&&(ne=Math.max(1,Math.floor(ae/40)));for(var oe=te[0],ie=n.dataToCoord(oe+1)-n.dataToCoord(oe),se=Math.abs(ie*Math.cos(c)),ue=Math.abs(ie*Math.sin(c)),le=0,ce=0;oe<=te[1];oe+=ne){var de=0,fe=0,pe=getBoundingRect(u({value:oe}),t.font,"center","top");de=pe.width*1.3,fe=pe.height*1.3,le=Math.max(le,de,7),ce=Math.max(ce,fe,7)}var me=le/se,ge=ce/ue;isNaN(me)&&(me=1/0),isNaN(ge)&&(ge=1/0);var De=Math.max(0,Math.floor(Math.min(me,ge))),Ce=inner$4(n.model),we=n.getExtent(),xe=Ce.lastAutoInterval,Re=Ce.lastTickCount;return xe!=null&&Re!=null&&Math.abs(xe-De)<=1&&Math.abs(Re-ae)<=1&&xe>De&&Ce.axisExtent0===we[0]&&Ce.axisExtent1===we[1]?De=xe:(Ce.lastTickCount=ae,Ce.lastAutoInterval=De,Ce.axisExtent0=we[0],Ce.axisExtent1=we[1]),De}function fetchAutoCategoryIntervalCalculationParams(n){var t=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function makeLabelsByNumericCategoryInterval(n,t,u){var c=makeLabelFormatter(n),ee=n.scale,te=ee.getExtent(),ae=n.getLabelModel(),ne=[],oe=Math.max((t||0)+1,1),ie=te[0],se=ee.count();ie!==0&&oe>1&&se/oe>2&&(ie=Math.round(Math.ceil(ie/oe)*oe));var ue=shouldShowAllLabels(n),le=ae.get("showMinLabel")||ue,ce=ae.get("showMaxLabel")||ue;le&&ie!==te[0]&&fe(te[0]);for(var de=ie;de<=te[1];de+=oe)fe(de);ce&&de-oe!==te[1]&&fe(te[1]);function fe(pe){var me={value:pe};ne.push(u?pe:{formattedLabel:c(me),rawLabel:ee.getLabel(me),tickValue:pe})}return ne}function makeLabelsByCustomizedCategoryInterval(n,t,u){var c=n.scale,ee=makeLabelFormatter(n),te=[];return each$3(c.getTicks(),function(ae){var ne=c.getLabel(ae),oe=ae.value;t(ae.value,ne)&&te.push(u?oe:{formattedLabel:ee(ae),rawLabel:ne,tickValue:oe})}),te}var NORMALIZED_EXTENT=[0,1],Axis=function(){function n(t,u,c){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=u,this._extent=c||[0,0]}return n.prototype.contain=function(t){var u=this._extent,c=Math.min(u[0],u[1]),ee=Math.max(u[0],u[1]);return t>=c&&t<=ee},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return getPixelPrecision(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,u){var c=this._extent;c[0]=t,c[1]=u},n.prototype.dataToCoord=function(t,u){var c=this._extent,ee=this.scale;return t=ee.normalize(t),this.onBand&&ee.type==="ordinal"&&(c=c.slice(),fixExtentWithBands(c,ee.count())),linearMap(t,NORMALIZED_EXTENT,c,u)},n.prototype.coordToData=function(t,u){var c=this._extent,ee=this.scale;this.onBand&&ee.type==="ordinal"&&(c=c.slice(),fixExtentWithBands(c,ee.count()));var te=linearMap(t,c,NORMALIZED_EXTENT,u);return this.scale.scale(te)},n.prototype.pointToData=function(t,u){},n.prototype.getTicksCoords=function(t){t=t||{};var u=t.tickModel||this.getTickModel(),c=createAxisTicks(this,u),ee=c.ticks,te=map$6(ee,function(ne){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(ne):ne),tickValue:ne}},this),ae=u.get("alignWithLabel");return fixOnBandTicksCoords(this,te,ae,t.clamp),te},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),u=t.get("splitNumber");u>0&&u<100||(u=5);var c=this.scale.getMinorTicks(u),ee=map$6(c,function(te){return map$6(te,function(ae){return{coord:this.dataToCoord(ae),tickValue:ae}},this)},this);return ee},n.prototype.getViewLabels=function(){return createAxisLabels(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,u=this.scale.getExtent(),c=u[1]-u[0]+(this.onBand?1:0);c===0&&(c=1);var ee=Math.abs(t[1]-t[0]);return Math.abs(ee)/c},n.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},n}();function fixExtentWithBands(n,t){var u=n[1]-n[0],c=t,ee=u/c/2;n[0]+=ee,n[1]-=ee}function fixOnBandTicksCoords(n,t,u,c){var ee=t.length;if(!n.onBand||u||!ee)return;var te=n.getExtent(),ae,ne;if(ee===1)t[0].coord=te[0],ae=t[1]={coord:te[1],tickValue:t[0].tickValue};else{var oe=t[ee-1].tickValue-t[0].tickValue,ie=(t[ee-1].coord-t[0].coord)/oe;each$3(t,function(ce){ce.coord-=ie/2});var se=n.scale.getExtent();ne=1+se[1]-t[ee-1].tickValue,ae={coord:t[ee-1].coord+ie*ne,tickValue:se[1]+1},t.push(ae)}var ue=te[0]>te[1];le(t[0].coord,te[0])&&(c?t[0].coord=te[0]:t.shift()),c&&le(te[0],t[0].coord)&&t.unshift({coord:te[0]}),le(te[1],ae.coord)&&(c?ae.coord=te[1]:t.pop()),c&&le(ae.coord,te[1])&&t.push({coord:te[1]});function le(ce,de){return ce=round$2(ce),de=round$2(de),ue?ce>de:ce<de}}function prepareLayoutList(n){for(var t=[],u=0;u<n.length;u++){var c=n[u];if(!c.defaultAttr.ignore){var ee=c.label,te=ee.getComputedTransform(),ae=ee.getBoundingRect(),ne=!te||te[1]<1e-5&&te[2]<1e-5,oe=ee.style.margin||0,ie=ae.clone();ie.applyTransform(te),ie.x-=oe/2,ie.y-=oe/2,ie.width+=oe,ie.height+=oe;var se=ne?new OrientedBoundingRect(ae,te):null;t.push({label:ee,labelLine:c.labelLine,rect:ie,localRect:ae,obb:se,priority:c.priority,defaultAttr:c.defaultAttr,layoutOption:c.computedLayoutOption,axisAligned:ne,transform:te})}}return t}function hideOverlap(n){var t=[];n.sort(function(fe,pe){return pe.priority-fe.priority});var u=new BoundingRect(0,0,0,0);function c(fe){if(!fe.ignore){var pe=fe.ensureState("emphasis");pe.ignore==null&&(pe.ignore=!1)}fe.ignore=!0}for(var ee=0;ee<n.length;ee++){var te=n[ee],ae=te.axisAligned,ne=te.localRect,oe=te.transform,ie=te.label,se=te.labelLine;u.copy(te.rect),u.width-=.1,u.height-=.1,u.x+=.05,u.y+=.05;for(var ue=te.obb,le=!1,ce=0;ce<t.length;ce++){var de=t[ce];if(u.intersect(de.rect)){if(ae&&de.axisAligned){le=!0;break}if(de.obb||(de.obb=new OrientedBoundingRect(de.localRect,de.transform)),ue||(ue=new OrientedBoundingRect(ne,oe)),ue.intersect(de.obb)){le=!0;break}}}le?(c(ie),se&&c(se)):(ie.attr("ignore",te.defaultAttr.ignore),se&&se.attr("ignore",te.defaultAttr.labelGuideIgnore),t.push(te))}}var mathSin=Math.sin,mathCos=Math.cos,PI$1=Math.PI,PI2=Math.PI*2,degree=180/PI$1,SVGPathRebuilder=function(){function n(){}return n.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},n.prototype.moveTo=function(t,u){this._add("M",t,u)},n.prototype.lineTo=function(t,u){this._add("L",t,u)},n.prototype.bezierCurveTo=function(t,u,c,ee,te,ae){this._add("C",t,u,c,ee,te,ae)},n.prototype.quadraticCurveTo=function(t,u,c,ee){this._add("Q",t,u,c,ee)},n.prototype.arc=function(t,u,c,ee,te,ae){this.ellipse(t,u,c,c,0,ee,te,ae)},n.prototype.ellipse=function(t,u,c,ee,te,ae,ne,oe){var ie=ne-ae,se=!oe,ue=Math.abs(ie),le=isAroundZero(ue-PI2)||(se?ie>=PI2:-ie>=PI2),ce=ie>0?ie%PI2:ie%PI2+PI2,de=!1;le?de=!0:isAroundZero(ue)?de=!1:de=ce>=PI$1==!!se;var fe=t+c*mathCos(ae),pe=u+ee*mathSin(ae);this._start&&this._add("M",fe,pe);var me=Math.round(te*degree);if(le){var ge=1/this._p,De=(se?1:-1)*(PI2-ge);this._add("A",c,ee,me,1,+se,t+c*mathCos(ae+De),u+ee*mathSin(ae+De)),ge>.01&&this._add("A",c,ee,me,0,+se,fe,pe)}else{var Ce=t+c*mathCos(ne),we=u+ee*mathSin(ne);this._add("A",c,ee,me,+de,+se,Ce,we)}},n.prototype.rect=function(t,u,c,ee){this._add("M",t,u),this._add("l",c,0),this._add("l",0,ee),this._add("l",-c,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,u,c,ee,te,ae,ne,oe,ie){for(var se=[],ue=this._p,le=1;le<arguments.length;le++){var ce=arguments[le];if(isNaN(ce)){this._invalid=!0;return}se.push(Math.round(ce*ue)/ue)}this._d.push(t+se.join(" ")),this._start=t==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),NONE="none",mathRound=Math.round;function pathHasFill(n){var t=n.fill;return t!=null&&t!==NONE}function pathHasStroke(n){var t=n.stroke;return t!=null&&t!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$6(strokeProps,function(n){return"stroke-"+n.toLowerCase()});function mapStyleToAttrs(n,t,u,c){var ee=t.opacity==null?1:t.opacity;if(u instanceof ZRImage){n("opacity",ee);return}if(pathHasFill(t)){var te=normalizeColor(t.fill);n("fill",te.color);var ae=t.fillOpacity!=null?t.fillOpacity*te.opacity*ee:te.opacity*ee;ae<1&&n("fill-opacity",ae)}else n("fill",NONE);if(pathHasStroke(t)){var ne=normalizeColor(t.stroke);n("stroke",ne.color);var oe=t.strokeNoScale?u.getLineScale():1,ie=oe?(t.lineWidth||0)/oe:0,se=t.strokeOpacity!=null?t.strokeOpacity*ne.opacity*ee:ne.opacity*ee,ue=t.strokeFirst;if(ie!==1&&n("stroke-width",ie),ue&&n("paint-order",ue?"stroke":"fill"),se<1&&n("stroke-opacity",se),t.lineDash){var le=getLineDash(u),ce=le[0],de=le[1];ce&&(de=mathRound(de||0),n("stroke-dasharray",ce.join(",")),(de||c)&&n("stroke-dashoffset",de))}for(var fe=0;fe<strokeProps.length;fe++){var pe=strokeProps[fe];if(t[pe]!==DEFAULT_PATH_STYLE[pe]){var me=t[pe]||DEFAULT_PATH_STYLE[pe];me&&n(svgStrokeProps[fe],me)}}}}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",META_DATA_PREFIX="ecmeta_";function createElement(n){return document.createElementNS(SVGNS,n)}function createVNode(n,t,u,c,ee){return{tag:n,attrs:u||{},children:c,text:ee,key:t}}function createElementOpen(n,t){var u=[];if(t)for(var c in t){var ee=t[c],te=c;ee!==!1&&(ee!==!0&&ee!=null&&(te+='="'+ee+'"'),u.push(te))}return"<"+n+" "+u.join(" ")+">"}function createElementClose(n){return"</"+n+">"}function vNodeToString(n,t){t=t||{};var u=t.newline?`
`:"";function c(ee){var te=ee.children,ae=ee.tag,ne=ee.attrs,oe=ee.text;return createElementOpen(ae,ne)+(ae!=="style"?encodeHTML(oe):oe||"")+(te?""+u+map$6(te,function(ie){return c(ie)}).join(u)+u:"")+createElementClose(ae)}return c(n)}function getCssString(n,t,u){u=u||{};var c=u.newline?`
`:"",ee=" {"+c,te=c+"}",ae=map$6(keys$2(n),function(oe){return oe+ee+map$6(keys$2(n[oe]),function(ie){return ie+":"+n[oe][ie]+";"}).join(c)+te}).join(c),ne=map$6(keys$2(t),function(oe){return"@keyframes "+oe+ee+map$6(keys$2(t[oe]),function(ie){return ie+ee+map$6(keys$2(t[oe][ie]),function(se){var ue=t[oe][ie][se];return se==="d"&&(ue='path("'+ue+'")'),se+":"+ue+";"}).join(c)+te}).join(c)+te}).join(c);return!ae&&!ne?"":["<![CDATA[",ae,ne,"]]>"].join(c)}function createBrushScope(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(n,t,u,c){return createVNode("svg","root",{width:n,height:t,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:c?"0 0 "+n+" "+t:!1},u)}var cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(n,t,u){var c=extend({},n.shape);extend(c,t),n.buildPath(u,c);var ee=new SVGPathRebuilder;return ee.reset(getPathPrecision(n)),u.rebuildPath(ee,1),ee.generateStr(),ee.getStr()}function setTransformOrigin(n,t){var u=t.originX,c=t.originY;(u||c)&&(n[transformOriginKey]=u+"px "+c+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(n,t){var u=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[u]=n,u}function createCompoundPathCSSAnimation(n,t,u){var c=n.shape.paths,ee={},te,ae;if(each$3(c,function(oe){var ie=createBrushScope(u.zrId);ie.animation=!0,createCSSAnimation(oe,{},ie,!0);var se=ie.cssAnims,ue=ie.cssNodes,le=keys$2(se),ce=le.length;if(ce){ae=le[ce-1];var de=se[ae];for(var fe in de){var pe=de[fe];ee[fe]=ee[fe]||{d:""},ee[fe].d+=pe.d||""}for(var me in ue){var ge=ue[me].animation;ge.indexOf(ae)>=0&&(te=ge)}}}),!!te){t.d=!1;var ne=addAnimation(ee,u);return te.replace(ae,ne)}}function getEasingFunc(n){return isString(n)?EASING_MAP[n]?"cubic-bezier("+EASING_MAP[n]+")":createCubicEasingFunc(n)?n:"":""}function createCSSAnimation(n,t,u,c){var ee=n.animators,te=ee.length,ae=[];if(n instanceof CompoundPath){var ne=createCompoundPathCSSAnimation(n,t,u);if(ne)ae.push(ne);else if(!te)return}else if(!te)return;for(var oe={},ie=0;ie<te;ie++){var se=ee[ie],ue=[se.getMaxTime()/1e3+"s"],le=getEasingFunc(se.getClip().easing),ce=se.getDelay();le?ue.push(le):ue.push("linear"),ce&&ue.push(ce/1e3+"s"),se.getLoop()&&ue.push("infinite");var de=ue.join(" ");oe[de]=oe[de]||[de,[]],oe[de][1].push(se)}function fe(ge){var De=ge[1],Ce=De.length,we={},xe={},Re={},Be="animation-timing-function";function Se(Mt,Kt,Vt){for(var Ht=Mt.getTracks(),$e=Mt.getMaxTime(),Pe=0;Pe<Ht.length;Pe++){var Ne=Ht[Pe];if(Ne.needsAnimate()){var We=Ne.keyframes,Xe=Ne.propName;if(Vt&&(Xe=Vt(Xe)),Xe)for(var Wt=0;Wt<We.length;Wt++){var Ft=We[Wt],jt=Math.round(Ft.time/$e*100)+"%",ea=getEasingFunc(Ft.easing),Xt=Ft.rawValue;(isString(Xt)||isNumber(Xt))&&(Kt[jt]=Kt[jt]||{},Kt[jt][Xe]=Ft.rawValue,ea&&(Kt[jt][Be]=ea))}}}}for(var Te=0;Te<Ce;Te++){var Ae=De[Te],he=Ae.targetName;he?he==="shape"&&Se(Ae,xe):!c&&Se(Ae,we)}for(var ve in we){var ye={};copyTransform(ye,n),extend(ye,we[ve]);var be=getSRTTransformString(ye),_e=we[ve][Be];Re[ve]=be?{transform:be}:{},setTransformOrigin(Re[ve],ye),_e&&(Re[ve][Be]=_e)}var Me,Ie=!0;for(var ve in xe){Re[ve]=Re[ve]||{};var Fe=!Me,_e=xe[ve][Be];Fe&&(Me=new PathProxy);var Ee=Me.len();Me.reset(),Re[ve].d=buildPathString(n,xe[ve],Me);var ke=Me.len();if(!Fe&&Ee!==ke){Ie=!1;break}_e&&(Re[ve][Be]=_e)}if(!Ie)for(var ve in Re)delete Re[ve].d;if(!c)for(var Te=0;Te<Ce;Te++){var Ae=De[Te],he=Ae.targetName;he==="style"&&Se(Ae,Re,function(Ht){return ANIMATE_STYLE_MAP[Ht]})}for(var Ve=keys$2(Re),ze=!0,Ue,Te=1;Te<Ve.length;Te++){var Oe=Ve[Te-1],Dt=Ve[Te];if(Re[Oe][transformOriginKey]!==Re[Dt][transformOriginKey]){ze=!1;break}Ue=Re[Oe][transformOriginKey]}if(ze&&Ue){for(var ve in Re)Re[ve][transformOriginKey]&&delete Re[ve][transformOriginKey];t[transformOriginKey]=Ue}if(filter(Ve,function(Mt){return keys$2(Re[Mt]).length>0}).length){var $t=addAnimation(Re,u);return $t+" "+ge[0]+" both"}}for(var pe in oe){var ne=fe(oe[pe]);ne&&ae.push(ne)}if(ae.length){var me=u.zrId+"-cls-"+getClassId();u.cssNodes["."+me]={animation:ae.join(",")},t.class=me}}function createCSSEmphasis(n,t,u){if(!n.ignore)if(n.isSilent()){var c={"pointer-events":"none"};setClassAttribute(c,t,u)}else{var ee=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},te=ee.fill;if(!te){var ae=n.style&&n.style.fill,ne=n.states.select&&n.states.select.style&&n.states.select.style.fill,oe=n.currentStates.indexOf("select")>=0&&ne||ae;oe&&(te=liftColor(oe))}var ie=ee.lineWidth;if(ie){var se=!ee.strokeNoScale&&n.transform?n.transform[0]:1;ie=ie/se}var c={cursor:"pointer"};te&&(c.fill=te),ee.stroke&&(c.stroke=ee.stroke),ie&&(c["stroke-width"]=ie),setClassAttribute(c,t,u)}}function setClassAttribute(n,t,u,c){var ee=JSON.stringify(n),te=u.cssStyleCache[ee];te||(te=u.zrId+"-cls-"+getClassId(),u.cssStyleCache[ee]=te,u.cssNodes["."+te+":hover"]=n),t.class=t.class?t.class+" "+te:te}var round=Math.round;function isImageLike(n){return n&&isString(n.src)}function isCanvasLike(n){return n&&isFunction(n.toDataURL)}function setStyleAttrs(n,t,u,c){mapStyleToAttrs(function(ee,te){var ae=ee==="fill"||ee==="stroke";ae&&isGradient(te)?setGradient(t,n,ee,c):ae&&isPattern(te)?setPattern(u,n,ee,c):n[ee]=te,ae&&c.ssr&&te==="none"&&(n["pointer-events"]="visible")},t,u,!1),setShadow(u,n,c)}function setMetaData(n,t){var u=getElementSSRData(t);u&&(u.each(function(c,ee){c!=null&&(n[(META_DATA_PREFIX+ee).toLowerCase()]=c+"")}),t.isSilent()&&(n[META_DATA_PREFIX+"silent"]="true"))}function noRotateScale(n){return isAroundZero(n[0]-1)&&isAroundZero(n[1])&&isAroundZero(n[2])&&isAroundZero(n[3]-1)}function noTranslate(n){return isAroundZero(n[4])&&isAroundZero(n[5])}function setTransform(n,t,u){if(t&&!(noTranslate(t)&&noRotateScale(t))){var c=1e4;n.transform=noRotateScale(t)?"translate("+round(t[4]*c)/c+" "+round(t[5]*c)/c+")":getMatrixStr(t)}}function convertPolyShape(n,t,u){for(var c=n.points,ee=[],te=0;te<c.length;te++)ee.push(round(c[te][0]*u)/u),ee.push(round(c[te][1]*u)/u);t.points=ee.join(" ")}function validatePolyShape(n){return!n.smooth}function createAttrsConvert(n){var t=map$6(n,function(u){return typeof u=="string"?[u,u]:u});return function(u,c,ee){for(var te=0;te<t.length;te++){var ae=t[te],ne=u[ae[0]];ne!=null&&(c[ae[1]]=round(ne*ee)/ee)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(n){for(var t=n.animators,u=0;u<t.length;u++)if(t[u].targetName==="shape")return!0;return!1}function brushSVGPath(n,t){var u=n.style,c=n.shape,ee=builtinShapesDef[n.type],te={},ae=t.animation,ne="path",oe=n.style.strokePercent,ie=t.compress&&getPathPrecision(n)||4;if(ee&&!t.willUpdate&&!(ee[1]&&!ee[1](c))&&!(ae&&hasShapeAnimation(n))&&!(oe<1)){ne=n.type;var se=Math.pow(10,ie);ee[0](c,te,se)}else{var ue=!n.path||n.shapeChanged();n.path||n.createPathProxy();var le=n.path;ue&&(le.beginPath(),n.buildPath(le,n.shape),n.pathUpdated());var ce=le.getVersion(),de=n,fe=de.__svgPathBuilder;(de.__svgPathVersion!==ce||!fe||oe!==de.__svgPathStrokePercent)&&(fe||(fe=de.__svgPathBuilder=new SVGPathRebuilder),fe.reset(ie),le.rebuildPath(fe,oe),fe.generateStr(),de.__svgPathVersion=ce,de.__svgPathStrokePercent=oe),te.d=fe.getStr()}return setTransform(te,n.transform),setStyleAttrs(te,u,n,t),setMetaData(te,n),t.animation&&createCSSAnimation(n,te,t),t.emphasis&&createCSSEmphasis(n,te,t),createVNode(ne,n.id+"",te)}function brushSVGImage(n,t){var u=n.style,c=u.image;if(c&&!isString(c)&&(isImageLike(c)?c=c.src:isCanvasLike(c)&&(c=c.toDataURL())),!!c){var ee=u.x||0,te=u.y||0,ae=u.width,ne=u.height,oe={href:c,width:ae,height:ne};return ee&&(oe.x=ee),te&&(oe.y=te),setTransform(oe,n.transform),setStyleAttrs(oe,u,n,t),setMetaData(oe,n),t.animation&&createCSSAnimation(n,oe,t),createVNode("image",n.id+"",oe)}}function brushSVGTSpan(n,t){var u=n.style,c=u.text;if(c!=null&&(c+=""),!(!c||isNaN(u.x)||isNaN(u.y))){var ee=u.font||DEFAULT_FONT,te=u.x||0,ae=adjustTextY$1(u.y||0,getLineHeight(ee),u.textBaseline),ne=TEXT_ALIGN_TO_ANCHOR[u.textAlign]||u.textAlign,oe={"dominant-baseline":"central","text-anchor":ne};if(hasSeparateFont(u)){var ie="",se=u.fontStyle,ue=parseFontSize(u.fontSize);if(!parseFloat(ue))return;var le=u.fontFamily||DEFAULT_FONT_FAMILY,ce=u.fontWeight;ie+="font-size:"+ue+";font-family:"+le+";",se&&se!=="normal"&&(ie+="font-style:"+se+";"),ce&&ce!=="normal"&&(ie+="font-weight:"+ce+";"),oe.style=ie}else oe.style="font: "+ee;return c.match(/\s/)&&(oe["xml:space"]="preserve"),te&&(oe.x=te),ae&&(oe.y=ae),setTransform(oe,n.transform),setStyleAttrs(oe,u,n,t),setMetaData(oe,n),t.animation&&createCSSAnimation(n,oe,t),createVNode("text",n.id+"",oe,void 0,c)}}function brush(n,t){if(n instanceof Path)return brushSVGPath(n,t);if(n instanceof ZRImage)return brushSVGImage(n,t);if(n instanceof TSpan)return brushSVGTSpan(n,t)}function setShadow(n,t,u){var c=n.style;if(hasShadow(c)){var ee=getShadowKey(n),te=u.shadowCache,ae=te[ee];if(!ae){var ne=n.getGlobalScale(),oe=ne[0],ie=ne[1];if(!oe||!ie)return;var se=c.shadowOffsetX||0,ue=c.shadowOffsetY||0,le=c.shadowBlur,ce=normalizeColor(c.shadowColor),de=ce.opacity,fe=ce.color,pe=le/2/oe,me=le/2/ie,ge=pe+" "+me;ae=u.zrId+"-s"+u.shadowIdx++,u.defs[ae]=createVNode("filter",ae,{id:ae,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:se/oe,dy:ue/ie,stdDeviation:ge,"flood-color":fe,"flood-opacity":de})]),te[ee]=ae}t.filter=getIdURL(ae)}}function setGradient(n,t,u,c){var ee=n[u],te,ae={gradientUnits:ee.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(ee))te="linearGradient",ae.x1=ee.x,ae.y1=ee.y,ae.x2=ee.x2,ae.y2=ee.y2;else if(isRadialGradient(ee))te="radialGradient",ae.cx=retrieve2(ee.x,.5),ae.cy=retrieve2(ee.y,.5),ae.r=retrieve2(ee.r,.5);else return;for(var ne=ee.colorStops,oe=[],ie=0,se=ne.length;ie<se;++ie){var ue=round4(ne[ie].offset)*100+"%",le=ne[ie].color,ce=normalizeColor(le),de=ce.color,fe=ce.opacity,pe={offset:ue};pe["stop-color"]=de,fe<1&&(pe["stop-opacity"]=fe),oe.push(createVNode("stop",ie+"",pe))}var me=createVNode(te,"",ae,oe),ge=vNodeToString(me),De=c.gradientCache,Ce=De[ge];Ce||(Ce=c.zrId+"-g"+c.gradientIdx++,De[ge]=Ce,ae.id=Ce,c.defs[Ce]=createVNode(te,Ce,ae,oe)),t[u]=getIdURL(Ce)}function setPattern(n,t,u,c){var ee=n.style[u],te=n.getBoundingRect(),ae={},ne=ee.repeat,oe=ne==="no-repeat",ie=ne==="repeat-x",se=ne==="repeat-y",ue;if(isImagePattern(ee)){var le=ee.imageWidth,ce=ee.imageHeight,de=void 0,fe=ee.image;if(isString(fe)?de=fe:isImageLike(fe)?de=fe.src:isCanvasLike(fe)&&(de=fe.toDataURL()),typeof Image>"u"){var pe="Image width/height must been given explictly in svg-ssr renderer.";assert(le,pe),assert(ce,pe)}else if(le==null||ce==null){var me=function(Te,Ae){if(Te){var he=Te.elm,ve=le||Ae.width,ye=ce||Ae.height;Te.tag==="pattern"&&(ie?(ye=1,ve/=te.width):se&&(ve=1,ye/=te.height)),Te.attrs.width=ve,Te.attrs.height=ye,he&&(he.setAttribute("width",ve),he.setAttribute("height",ye))}},ge=createOrUpdateImage(de,null,n,function(Te){oe||me(xe,Te),me(ue,Te)});ge&&ge.width&&ge.height&&(le=le||ge.width,ce=ce||ge.height)}ue=createVNode("image","img",{href:de,width:le,height:ce}),ae.width=le,ae.height=ce}else ee.svgElement&&(ue=clone$3(ee.svgElement),ae.width=ee.svgWidth,ae.height=ee.svgHeight);if(ue){var De,Ce;oe?De=Ce=1:ie?(Ce=1,De=ae.width/te.width):se?(De=1,Ce=ae.height/te.height):ae.patternUnits="userSpaceOnUse",De!=null&&!isNaN(De)&&(ae.width=De),Ce!=null&&!isNaN(Ce)&&(ae.height=Ce);var we=getSRTTransformString(ee);we&&(ae.patternTransform=we);var xe=createVNode("pattern","",ae,[ue]),Re=vNodeToString(xe),Be=c.patternCache,Se=Be[Re];Se||(Se=c.zrId+"-p"+c.patternIdx++,Be[Re]=Se,ae.id=Se,xe=c.defs[Se]=createVNode("pattern",Se,ae,[ue])),t[u]=getIdURL(Se)}}function setClipPath(n,t,u){var c=u.clipPathCache,ee=u.defs,te=c[n.id];if(!te){te=u.zrId+"-c"+u.clipPathIdx++;var ae={id:te};c[n.id]=te,ee[te]=createVNode("clipPath",te,ae,[brushSVGPath(n,u)])}t["clip-path"]=getIdURL(te)}function createTextNode(n){return document.createTextNode(n)}function insertBefore(n,t,u){n.insertBefore(t,u)}function removeChild(n,t){n.removeChild(t)}function appendChild(n,t){n.appendChild(t)}function parentNode(n){return n.parentNode}function nextSibling(n){return n.nextSibling}function setTextContent(n,t){n.textContent=t}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(n){return n===void 0}function isDef(n){return n!==void 0}function createKeyToOldIdx(n,t,u){for(var c={},ee=t;ee<=u;++ee){var te=n[ee].key;te!==void 0&&(c[te]=ee)}return c}function sameVnode(n,t){var u=n.key===t.key,c=n.tag===t.tag;return c&&u}function createElm(n){var t,u=n.children,c=n.tag;if(isDef(c)){var ee=n.elm=createElement(c);if(updateAttrs(emptyNode,n),isArray$6(u))for(t=0;t<u.length;++t){var te=u[t];te!=null&&appendChild(ee,createElm(te))}else isDef(n.text)&&!isObject$3(n.text)&&appendChild(ee,createTextNode(n.text))}else n.elm=createTextNode(n.text);return n.elm}function addVnodes(n,t,u,c,ee){for(;c<=ee;++c){var te=u[c];te!=null&&insertBefore(n,createElm(te),t)}}function removeVnodes(n,t,u,c){for(;u<=c;++u){var ee=t[u];if(ee!=null)if(isDef(ee.tag)){var te=parentNode(ee.elm);removeChild(te,ee.elm)}else removeChild(n,ee.elm)}}function updateAttrs(n,t){var u,c=t.elm,ee=n&&n.attrs||{},te=t.attrs||{};if(ee!==te){for(u in te){var ae=te[u],ne=ee[u];ne!==ae&&(ae===!0?c.setAttribute(u,""):ae===!1?c.removeAttribute(u):u==="style"?c.style.cssText=ae:u.charCodeAt(0)!==xChar?c.setAttribute(u,ae):u==="xmlns:xlink"||u==="xmlns"?c.setAttributeNS(XMLNS,u,ae):u.charCodeAt(3)===colonChar?c.setAttributeNS(XML_NAMESPACE,u,ae):u.charCodeAt(5)===colonChar?c.setAttributeNS(XLINKNS,u,ae):c.setAttribute(u,ae))}for(u in ee)u in te||c.removeAttribute(u)}}function updateChildren(n,t,u){for(var c=0,ee=0,te=t.length-1,ae=t[0],ne=t[te],oe=u.length-1,ie=u[0],se=u[oe],ue,le,ce,de;c<=te&&ee<=oe;)ae==null?ae=t[++c]:ne==null?ne=t[--te]:ie==null?ie=u[++ee]:se==null?se=u[--oe]:sameVnode(ae,ie)?(patchVnode(ae,ie),ae=t[++c],ie=u[++ee]):sameVnode(ne,se)?(patchVnode(ne,se),ne=t[--te],se=u[--oe]):sameVnode(ae,se)?(patchVnode(ae,se),insertBefore(n,ae.elm,nextSibling(ne.elm)),ae=t[++c],se=u[--oe]):sameVnode(ne,ie)?(patchVnode(ne,ie),insertBefore(n,ne.elm,ae.elm),ne=t[--te],ie=u[++ee]):(isUndef(ue)&&(ue=createKeyToOldIdx(t,c,te)),le=ue[ie.key],isUndef(le)?insertBefore(n,createElm(ie),ae.elm):(ce=t[le],ce.tag!==ie.tag?insertBefore(n,createElm(ie),ae.elm):(patchVnode(ce,ie),t[le]=void 0,insertBefore(n,ce.elm,ae.elm))),ie=u[++ee]);(c<=te||ee<=oe)&&(c>te?(de=u[oe+1]==null?null:u[oe+1].elm,addVnodes(n,de,u,ee,oe)):removeVnodes(n,t,c,te))}function patchVnode(n,t){var u=t.elm=n.elm,c=n.children,ee=t.children;n!==t&&(updateAttrs(n,t),isUndef(t.text)?isDef(c)&&isDef(ee)?c!==ee&&updateChildren(u,c,ee):isDef(ee)?(isDef(n.text)&&setTextContent(u,""),addVnodes(u,null,ee,0,ee.length-1)):isDef(c)?removeVnodes(u,c,0,c.length-1):isDef(n.text)&&setTextContent(u,""):n.text!==t.text&&(isDef(c)&&removeVnodes(u,c,0,c.length-1),setTextContent(u,t.text)))}function patch(n,t){if(sameVnode(n,t))patchVnode(n,t);else{var u=n.elm,c=parentNode(u);createElm(t),c!==null&&(insertBefore(c,t.elm,nextSibling(u)),removeVnodes(c,[n],0,0))}return t}var svgId=0,SVGPainter=function(){function n(t,u,c){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=u,this._opts=c=extend({},c),this.root=t,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(c.width,c.height),t&&!c.ssr){var ee=this._viewport=document.createElement("div");ee.style.cssText="position:relative;overflow:hidden";var te=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),ee.appendChild(te),t.appendChild(ee)}this.resize(c.width,c.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,t),this._oldVNode=t}},n.prototype.renderOneToVNode=function(t){return brush(t,createBrushScope(this._id))},n.prototype.renderToVNode=function(t){t=t||{};var u=this.storage.getDisplayList(!0),c=this._width,ee=this._height,te=createBrushScope(this._id);te.animation=t.animation,te.willUpdate=t.willUpdate,te.compress=t.compress,te.emphasis=t.emphasis,te.ssr=this._opts.ssr;var ae=[],ne=this._bgVNode=createBackgroundVNode(c,ee,this._backgroundColor,te);ne&&ae.push(ne);var oe=t.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(u,te,oe?oe.children:ae),oe&&ae.push(oe);var ie=map$6(keys$2(te.defs),function(le){return te.defs[le]});if(ie.length&&ae.push(createVNode("defs","defs",{},ie)),t.animation){var se=getCssString(te.cssNodes,te.cssAnims,{newline:!0});if(se){var ue=createVNode("style","stl",{},[],se);ae.push(ue)}}return createSVGVNode(c,ee,ae,t.useViewBox)},n.prototype.renderToString=function(t){return t=t||{},vNodeToString(this.renderToVNode({animation:retrieve2(t.cssAnimation,!0),emphasis:retrieve2(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(t.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(t,u,c){for(var ee=t.length,te=[],ae=0,ne,oe,ie=0,se=0;se<ee;se++){var ue=t[se];if(!ue.invisible){var le=ue.__clipPaths,ce=le&&le.length||0,de=oe&&oe.length||0,fe=void 0;for(fe=Math.max(ce-1,de-1);fe>=0&&!(le&&oe&&le[fe]===oe[fe]);fe--);for(var pe=de-1;pe>fe;pe--)ae--,ne=te[ae-1];for(var me=fe+1;me<ce;me++){var ge={};setClipPath(le[me],ge,u);var De=createVNode("g","clip-g-"+ie++,ge,[]);(ne?ne.children:c).push(De),te[ae++]=De,ne=De}oe=le;var Ce=brush(ue,u);Ce&&(ne?ne.children:c).push(Ce)}}},n.prototype.resize=function(t,u){var c=this._opts,ee=this.root,te=this._viewport;if(t!=null&&(c.width=t),u!=null&&(c.height=u),ee&&te&&(te.style.display="none",t=getSize(ee,0,c),u=getSize(ee,1,c),te.style.display=""),this._width!==t||this._height!==u){if(this._width=t,this._height=u,te){var ae=te.style;ae.width=t+"px",ae.height=u+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var ne=this._svgDom;ne&&(ne.setAttribute("width",t),ne.setAttribute("height",u));var oe=this._bgVNode&&this._bgVNode.elm;oe&&(oe.setAttribute("width",t),oe.setAttribute("height",u))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(t){var u=this.renderToString(),c="data:image/svg+xml;";return t?(u=encodeBase64(u),u&&c+"base64,"+u):c+"charset=UTF-8,"+encodeURIComponent(u)},n}();function createMethodNotSupport(n){return function(){}}function createBackgroundVNode(n,t,u,c){var ee;if(u&&u!=="none")if(ee=createVNode("rect","bg",{width:n,height:t,x:"0",y:"0"}),isGradient(u))setGradient({fill:u},ee.attrs,"fill",c);else if(isPattern(u))setPattern({style:{fill:u},dirty:noop$1,getBoundingRect:function(){return{width:n,height:t}}},ee.attrs,"fill",c);else{var te=normalizeColor(u),ae=te.color,ne=te.opacity;ee.attrs.fill=ae,ne<1&&(ee.attrs["fill-opacity"]=ne)}return ee}function install$5(n){n.registerPainter("svg",SVGPainter)}var LineSeriesModel=function(n){__extends$1(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type=t.type,u.hasSymbolVisual=!0,u}return t.prototype.getInitialData=function(u){return createSeriesData(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(u){var c=new Group,ee=createSymbol("line",0,u.itemHeight/2,u.itemWidth,0,u.lineStyle.stroke,!1);c.add(ee),ee.setStyle(u.lineStyle);var te=this.getData().getVisual("symbol"),ae=this.getData().getVisual("symbolRotate"),ne=te==="none"?"circle":te,oe=u.itemHeight*.8,ie=createSymbol(ne,(u.itemWidth-oe)/2,(u.itemHeight-oe)/2,oe,oe,u.itemStyle.fill);c.add(ie),ie.setStyle(u.itemStyle);var se=u.iconRotate==="inherit"?ae:u.iconRotate||0;return ie.rotation=se*Math.PI/180,ie.setOrigin([u.itemWidth/2,u.itemHeight/2]),ne.indexOf("empty")>-1&&(ie.style.stroke=ie.style.fill,ie.style.fill="#fff",ie.style.lineWidth=2),c},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(SeriesModel);function getDefaultLabel(n,t){var u=n.mapDimensionsAll("defaultedLabel"),c=u.length;if(c===1){var ee=retrieveRawValue(n,t,u[0]);return ee!=null?ee+"":null}else if(c){for(var te=[],ae=0;ae<u.length;ae++)te.push(retrieveRawValue(n,t,u[ae]));return te.join(" ")}}function getDefaultInterpolatedLabel(n,t){var u=n.mapDimensionsAll("defaultedLabel");if(!isArray$6(t))return t+"";for(var c=[],ee=0;ee<u.length;ee++){var te=n.getDimensionIndex(u[ee]);te>=0&&c.push(t[te])}return c.join(" ")}var Symbol$3=function(n){__extends$1(t,n);function t(u,c,ee,te){var ae=n.call(this)||this;return ae.updateData(u,c,ee,te),ae}return t.prototype._createSymbol=function(u,c,ee,te,ae){this.removeAll();var ne=createSymbol(u,-1,-1,2,2,null,ae);ne.attr({z2:100,culling:!0,scaleX:te[0]/2,scaleY:te[1]/2}),ne.drift=driftSymbol,this._symbolType=u,this.add(ne)},t.prototype.stopSymbolAnimation=function(u){this.childAt(0).stopAnimation(null,u)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){enterEmphasis(this.childAt(0))},t.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},t.prototype.setZ=function(u,c){var ee=this.childAt(0);ee.zlevel=u,ee.z=c},t.prototype.setDraggable=function(u,c){var ee=this.childAt(0);ee.draggable=u,ee.cursor=!c&&u?"move":ee.cursor},t.prototype.updateData=function(u,c,ee,te){this.silent=!1;var ae=u.getItemVisual(c,"symbol")||"circle",ne=u.hostModel,oe=t.getSymbolSize(u,c),ie=ae!==this._symbolType,se=te&&te.disableAnimation;if(ie){var ue=u.getItemVisual(c,"symbolKeepAspect");this._createSymbol(ae,u,c,oe,ue)}else{var le=this.childAt(0);le.silent=!1;var ce={scaleX:oe[0]/2,scaleY:oe[1]/2};se?le.attr(ce):updateProps$1(le,ce,ne,c),saveOldStyle(le)}if(this._updateCommon(u,c,oe,ee,te),ie){var le=this.childAt(0);if(!se){var ce={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:le.style.opacity}};le.scaleX=le.scaleY=0,le.style.opacity=0,initProps(le,ce,ne,c)}}se&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(u,c,ee,te,ae){var ne=this.childAt(0),oe=u.hostModel,ie,se,ue,le,ce,de,fe,pe,me;if(te&&(ie=te.emphasisItemStyle,se=te.blurItemStyle,ue=te.selectItemStyle,le=te.focus,ce=te.blurScope,fe=te.labelStatesModels,pe=te.hoverScale,me=te.cursorStyle,de=te.emphasisDisabled),!te||u.hasItemOption){var ge=te&&te.itemModel?te.itemModel:u.getItemModel(c),De=ge.getModel("emphasis");ie=De.getModel("itemStyle").getItemStyle(),ue=ge.getModel(["select","itemStyle"]).getItemStyle(),se=ge.getModel(["blur","itemStyle"]).getItemStyle(),le=De.get("focus"),ce=De.get("blurScope"),de=De.get("disabled"),fe=getLabelStatesModels(ge),pe=De.getShallow("scale"),me=ge.getShallow("cursor")}var Ce=u.getItemVisual(c,"symbolRotate");ne.attr("rotation",(Ce||0)*Math.PI/180||0);var we=normalizeSymbolOffset(u.getItemVisual(c,"symbolOffset"),ee);we&&(ne.x=we[0],ne.y=we[1]),me&&ne.attr("cursor",me);var xe=u.getItemVisual(c,"style"),Re=xe.fill;if(ne instanceof ZRImage){var Be=ne.style;ne.useStyle(extend({image:Be.image,x:Be.x,y:Be.y,width:Be.width,height:Be.height},xe))}else ne.__isEmptyBrush?ne.useStyle(extend({},xe)):ne.useStyle(xe),ne.style.decal=null,ne.setColor(Re,ae&&ae.symbolInnerColor),ne.style.strokeNoScale=!0;var Se=u.getItemVisual(c,"liftZ"),Te=this._z2;Se!=null?Te==null&&(this._z2=ne.z2,ne.z2+=Se):Te!=null&&(ne.z2=Te,this._z2=null);var Ae=ae&&ae.useNameLabel;setLabelStyle(ne,fe,{labelFetcher:oe,labelDataIndex:c,defaultText:he,inheritColor:Re,defaultOpacity:xe.opacity});function he(be){return Ae?u.getName(be):getDefaultLabel(u,be)}this._sizeX=ee[0]/2,this._sizeY=ee[1]/2;var ve=ne.ensureState("emphasis");ve.style=ie,ne.ensureState("select").style=ue,ne.ensureState("blur").style=se;var ye=pe==null||pe===!0?Math.max(1.1,3/this._sizeY):isFinite(pe)&&pe>0?+pe:1;ve.scaleX=this._sizeX*ye,ve.scaleY=this._sizeY*ye,this.setSymbolScale(1),toggleHoverEmphasis(this,le,ce,de)},t.prototype.setSymbolScale=function(u){this.scaleX=this.scaleY=u},t.prototype.fadeOut=function(u,c,ee){var te=this.childAt(0),ae=getECData(this).dataIndex,ne=ee&&ee.animation;if(this.silent=te.silent=!0,ee&&ee.fadeLabel){var oe=te.getTextContent();oe&&removeElement(oe,{style:{opacity:0}},c,{dataIndex:ae,removeOpt:ne,cb:function(){te.removeTextContent()}})}else te.removeTextContent();removeElement(te,{style:{opacity:0},scaleX:0,scaleY:0},c,{dataIndex:ae,cb:u,removeOpt:ne})},t.getSymbolSize=function(u,c){return normalizeSymbolSize(u.getItemVisual(c,"symbolSize"))},t}(Group);function driftSymbol(n,t){this.parent.drift(n,t)}function symbolNeedsDraw(n,t,u,c){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(c.isIgnore&&c.isIgnore(u))&&!(c.clipShape&&!c.clipShape.contain(t[0],t[1]))&&n.getItemVisual(u,"symbol")!=="none"}function normalizeUpdateOpt(n){return n!=null&&!isObject$3(n)&&(n={isIgnore:n}),n||{}}function makeSeriesScope(n){var t=n.hostModel,u=t.getModel("emphasis");return{emphasisItemStyle:u.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:u.get("focus"),blurScope:u.get("blurScope"),emphasisDisabled:u.get("disabled"),hoverScale:u.get("scale"),labelStatesModels:getLabelStatesModels(t),cursorStyle:t.get("cursor")}}var SymbolDraw=function(){function n(t){this.group=new Group,this._SymbolCtor=t||Symbol$3}return n.prototype.updateData=function(t,u){this._progressiveEls=null,u=normalizeUpdateOpt(u);var c=this.group,ee=t.hostModel,te=this._data,ae=this._SymbolCtor,ne=u.disableAnimation,oe=makeSeriesScope(t),ie={disableAnimation:ne},se=u.getSymbolPoint||function(ue){return t.getItemLayout(ue)};te||c.removeAll(),t.diff(te).add(function(ue){var le=se(ue);if(symbolNeedsDraw(t,le,ue,u)){var ce=new ae(t,ue,oe,ie);ce.setPosition(le),t.setItemGraphicEl(ue,ce),c.add(ce)}}).update(function(ue,le){var ce=te.getItemGraphicEl(le),de=se(ue);if(!symbolNeedsDraw(t,de,ue,u)){c.remove(ce);return}var fe=t.getItemVisual(ue,"symbol")||"circle",pe=ce&&ce.getSymbolType&&ce.getSymbolType();if(!ce||pe&&pe!==fe)c.remove(ce),ce=new ae(t,ue,oe,ie),ce.setPosition(de);else{ce.updateData(t,ue,oe,ie);var me={x:de[0],y:de[1]};ne?ce.attr(me):updateProps$1(ce,me,ee)}c.add(ce),t.setItemGraphicEl(ue,ce)}).remove(function(ue){var le=te.getItemGraphicEl(ue);le&&le.fadeOut(function(){c.remove(le)},ee)}).execute(),this._getSymbolPoint=se,this._data=t},n.prototype.updateLayout=function(){var t=this,u=this._data;u&&u.eachItemGraphicEl(function(c,ee){var te=t._getSymbolPoint(ee);c.setPosition(te),c.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=makeSeriesScope(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,u,c){this._progressiveEls=[],c=normalizeUpdateOpt(c);function ee(oe){oe.isGroup||(oe.incremental=!0,oe.ensureState("emphasis").hoverLayer=!0)}for(var te=t.start;te<t.end;te++){var ae=u.getItemLayout(te);if(symbolNeedsDraw(u,ae,te,c)){var ne=new this._SymbolCtor(u,te,this._seriesScope);ne.traverse(ee),ne.setPosition(ae),this.group.add(ne),u.setItemGraphicEl(te,ne),this._progressiveEls.push(ne)}}},n.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},n.prototype.remove=function(t){var u=this.group,c=this._data;c&&t?c.eachItemGraphicEl(function(ee){ee.fadeOut(function(){u.remove(ee)},c.hostModel)}):u.removeAll()},n}();function prepareDataCoordInfo(n,t,u){var c=n.getBaseAxis(),ee=n.getOtherAxis(c),te=getValueStart(ee,u),ae=c.dim,ne=ee.dim,oe=t.mapDimension(ne),ie=t.mapDimension(ae),se=ne==="x"||ne==="radius"?1:0,ue=map$6(n.dimensions,function(de){return t.mapDimension(de)}),le=!1,ce=t.getCalculationInfo("stackResultDimension");return isDimensionStacked(t,ue[0])&&(le=!0,ue[0]=ce),isDimensionStacked(t,ue[1])&&(le=!0,ue[1]=ce),{dataDimsForPoint:ue,valueStart:te,valueAxisDim:ne,baseAxisDim:ae,stacked:!!le,valueDim:oe,baseDim:ie,baseDataOffset:se,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function getValueStart(n,t){var u=0,c=n.scale.getExtent();return t==="start"?u=c[0]:t==="end"?u=c[1]:isNumber(t)&&!isNaN(t)?u=t:c[0]>0?u=c[0]:c[1]<0&&(u=c[1]),u}function getStackedOnPoint(n,t,u,c){var ee=NaN;n.stacked&&(ee=u.get(u.getCalculationInfo("stackedOverDimension"),c)),isNaN(ee)&&(ee=n.valueStart);var te=n.baseDataOffset,ae=[];return ae[te]=u.get(n.baseDim,c),ae[1-te]=ee,t.dataToPoint(ae)}function diffData(n,t){var u=[];return t.diff(n).add(function(c){u.push({cmd:"+",idx:c})}).update(function(c,ee){u.push({cmd:"=",idx:ee,idx1:c})}).remove(function(c){u.push({cmd:"-",idx:c})}).execute(),u}function lineAnimationDiff(n,t,u,c,ee,te,ae,ne){for(var oe=diffData(n,t),ie=[],se=[],ue=[],le=[],ce=[],de=[],fe=[],pe=prepareDataCoordInfo(ee,t,ae),me=n.getLayout("points")||[],ge=t.getLayout("points")||[],De=0;De<oe.length;De++){var Ce=oe[De],we=!0,xe=void 0,Re=void 0;switch(Ce.cmd){case"=":xe=Ce.idx*2,Re=Ce.idx1*2;var Be=me[xe],Se=me[xe+1],Te=ge[Re],Ae=ge[Re+1];(isNaN(Be)||isNaN(Se))&&(Be=Te,Se=Ae),ie.push(Be,Se),se.push(Te,Ae),ue.push(u[xe],u[xe+1]),le.push(c[Re],c[Re+1]),fe.push(t.getRawIndex(Ce.idx1));break;case"+":var he=Ce.idx,ve=pe.dataDimsForPoint,ye=ee.dataToPoint([t.get(ve[0],he),t.get(ve[1],he)]);Re=he*2,ie.push(ye[0],ye[1]),se.push(ge[Re],ge[Re+1]);var be=getStackedOnPoint(pe,ee,t,he);ue.push(be[0],be[1]),le.push(c[Re],c[Re+1]),fe.push(t.getRawIndex(he));break;case"-":we=!1}we&&(ce.push(Ce),de.push(de.length))}de.sort(function(Oe,Dt){return fe[Oe]-fe[Dt]});for(var _e=ie.length,Me=createFloat32Array(_e),Ie=createFloat32Array(_e),Fe=createFloat32Array(_e),Ee=createFloat32Array(_e),ke=[],De=0;De<de.length;De++){var Ve=de[De],ze=De*2,Ue=Ve*2;Me[ze]=ie[Ue],Me[ze+1]=ie[Ue+1],Ie[ze]=se[Ue],Ie[ze+1]=se[Ue+1],Fe[ze]=ue[Ue],Fe[ze+1]=ue[Ue+1],Ee[ze]=le[Ue],Ee[ze+1]=le[Ue+1],ke[De]=ce[Ve]}return{current:Me,next:Ie,stackedOnCurrent:Fe,stackedOnNext:Ee,status:ke}}var mathMin=Math.min,mathMax=Math.max;function isPointNull$1(n,t){return isNaN(n)||isNaN(t)}function drawSegment(n,t,u,c,ee,te,ae,ne,oe){for(var ie,se,ue,le,ce,de,fe=u,pe=0;pe<c;pe++){var me=t[fe*2],ge=t[fe*2+1];if(fe>=ee||fe<0)break;if(isPointNull$1(me,ge)){if(oe){fe+=te;continue}break}if(fe===u)n[te>0?"moveTo":"lineTo"](me,ge),ue=me,le=ge;else{var De=me-ie,Ce=ge-se;if(De*De+Ce*Ce<.5){fe+=te;continue}if(ae>0){for(var we=fe+te,xe=t[we*2],Re=t[we*2+1];xe===me&&Re===ge&&pe<c;)pe++,we+=te,fe+=te,xe=t[we*2],Re=t[we*2+1],me=t[fe*2],ge=t[fe*2+1],De=me-ie,Ce=ge-se;var Be=pe+1;if(oe)for(;isPointNull$1(xe,Re)&&Be<c;)Be++,we+=te,xe=t[we*2],Re=t[we*2+1];var Se=.5,Te=0,Ae=0,he=void 0,ve=void 0;if(Be>=c||isPointNull$1(xe,Re))ce=me,de=ge;else{Te=xe-ie,Ae=Re-se;var ye=me-ie,be=xe-me,_e=ge-se,Me=Re-ge,Ie=void 0,Fe=void 0;if(ne==="x"){Ie=Math.abs(ye),Fe=Math.abs(be);var Ee=Te>0?1:-1;ce=me-Ee*Ie*ae,de=ge,he=me+Ee*Fe*ae,ve=ge}else if(ne==="y"){Ie=Math.abs(_e),Fe=Math.abs(Me);var ke=Ae>0?1:-1;ce=me,de=ge-ke*Ie*ae,he=me,ve=ge+ke*Fe*ae}else Ie=Math.sqrt(ye*ye+_e*_e),Fe=Math.sqrt(be*be+Me*Me),Se=Fe/(Fe+Ie),ce=me-Te*ae*(1-Se),de=ge-Ae*ae*(1-Se),he=me+Te*ae*Se,ve=ge+Ae*ae*Se,he=mathMin(he,mathMax(xe,me)),ve=mathMin(ve,mathMax(Re,ge)),he=mathMax(he,mathMin(xe,me)),ve=mathMax(ve,mathMin(Re,ge)),Te=he-me,Ae=ve-ge,ce=me-Te*Ie/Fe,de=ge-Ae*Ie/Fe,ce=mathMin(ce,mathMax(ie,me)),de=mathMin(de,mathMax(se,ge)),ce=mathMax(ce,mathMin(ie,me)),de=mathMax(de,mathMin(se,ge)),Te=me-ce,Ae=ge-de,he=me+Te*Fe/Ie,ve=ge+Ae*Fe/Ie}n.bezierCurveTo(ue,le,ce,de,me,ge),ue=he,le=ve}else n.lineTo(me,ge)}ie=me,se=g