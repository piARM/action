esIndex=n,ee.ssrType="chart",c.type==="group"&&c.traverse(function(te){var ae=getECData(te);ae.seriesIndex=n,ae.dataIndex=u,ae.dataType=t,ae.ssrType="chart"})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(n){return n!=null&&n!=="none"}function doChangeHoverState(n,t,u){n.onHoverStateChange&&(n.hoverState||0)!==u&&n.onHoverStateChange(t),n.hoverState=u}function singleEnterEmphasis(n){doChangeHoverState(n,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(n){n.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(n,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(n){doChangeHoverState(n,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(n){n.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(n,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(n){n.selected=!0}function singleLeaveSelect(n){n.selected=!1}function updateElementState(n,t,u){t(n,u)}function traverseUpdateState(n,t,u){updateElementState(n,t,u),n.isGroup&&n.traverse(function(c){updateElementState(c,t,u)})}function setStatesFlag(n,t){switch(t){case"emphasis":n.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":n.hoverState=HOVER_STATE_NORMAL;break;case"blur":n.hoverState=HOVER_STATE_BLUR;break;case"select":n.selected=!0}}function getFromStateStyle(n,t,u,c){for(var ee=n.style,te={},ae=0;ae<t.length;ae++){var ne=t[ae],oe=ee[ne];te[ne]=oe??(c&&c[ne])}for(var ae=0;ae<n.animators.length;ae++){var ie=n.animators[ae];ie.__fromStateTransition&&ie.__fromStateTransition.indexOf(u)<0&&ie.targetName==="style"&&ie.saveTo(te,t)}return te}function createEmphasisDefaultState(n,t,u,c){var ee=u&&indexOf$5(u,"select")>=0,te=!1;if(n instanceof Path){var ae=getSavedStates(n),ne=ee&&ae.selectFill||ae.normalFill,oe=ee&&ae.selectStroke||ae.normalStroke;if(hasFillOrStroke(ne)||hasFillOrStroke(oe)){c=c||{};var ie=c.style||{};ie.fill==="inherit"?(te=!0,c=extend({},c),ie=extend({},ie),ie.fill=ne):!hasFillOrStroke(ie.fill)&&hasFillOrStroke(ne)?(te=!0,c=extend({},c),ie=extend({},ie),ie.fill=liftColor(ne)):!hasFillOrStroke(ie.stroke)&&hasFillOrStroke(oe)&&(te||(c=extend({},c),ie=extend({},ie)),ie.stroke=liftColor(oe)),c.style=ie}}if(c&&c.z2==null){te||(c=extend({},c));var se=n.z2EmphasisLift;c.z2=n.z2+(se??Z2_EMPHASIS_LIFT)}return c}function createSelectDefaultState(n,t,u){if(u&&u.z2==null){u=extend({},u);var c=n.z2SelectLift;u.z2=n.z2+(c??Z2_SELECT_LIFT)}return u}function createBlurDefaultState(n,t,u){var c=indexOf$5(n.currentStates,t)>=0,ee=n.style.opacity,te=c?null:getFromStateStyle(n,["opacity"],t,{opacity:1});u=u||{};var ae=u.style||{};return ae.opacity==null&&(u=extend({},u),ae=extend({opacity:c?ee:te.opacity*.1},ae),u.style=ae),u}function elementStateProxy(n,t){var u=this.states[n];if(this.style){if(n==="emphasis")return createEmphasisDefaultState(this,n,t,u);if(n==="blur")return createBlurDefaultState(this,n,u);if(n==="select")return createSelectDefaultState(this,n,u)}return u}function setDefaultStateProxy(n){n.stateProxy=elementStateProxy;var t=n.getTextContent(),u=n.getTextGuideLine();t&&(t.stateProxy=elementStateProxy),u&&(u.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(n,t){!shouldSilent(n,t)&&!n.__highByOuter&&traverseUpdateState(n,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(n,t){!shouldSilent(n,t)&&!n.__highByOuter&&traverseUpdateState(n,singleLeaveEmphasis)}function enterEmphasis(n,t){n.__highByOuter|=1<<(t||0),traverseUpdateState(n,singleEnterEmphasis)}function leaveEmphasis(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&traverseUpdateState(n,singleLeaveEmphasis)}function enterBlur(n){traverseUpdateState(n,singleEnterBlur)}function leaveBlur(n){traverseUpdateState(n,singleLeaveBlur)}function enterSelect(n){traverseUpdateState(n,singleEnterSelect)}function leaveSelect(n){traverseUpdateState(n,singleLeaveSelect)}function shouldSilent(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function allLeaveBlur(n){var t=n.getModel(),u=[],c=[];t.eachComponent(function(ee,te){var ae=getComponentStates(te),ne=ee==="series",oe=ne?n.getViewOfSeriesModel(te):n.getViewOfComponentModel(te);!ne&&c.push(oe),ae.isBlured&&(oe.group.traverse(function(ie){singleLeaveBlur(ie)}),ne&&u.push(te)),ae.isBlured=!1}),each$3(c,function(ee){ee&&ee.toggleBlurSeries&&ee.toggleBlurSeries(u,!1,t)})}function blurSeries(n,t,u,c){var ee=c.getModel();u=u||"coordinateSystem";function te(ie,se){for(var ue=0;ue<se.length;ue++){var le=ie.getItemGraphicEl(se[ue]);le&&leaveBlur(le)}}if(n!=null&&!(!t||t==="none")){var ae=ee.getSeriesByIndex(n),ne=ae.coordinateSystem;ne&&ne.master&&(ne=ne.master);var oe=[];ee.eachSeries(function(ie){var se=ae===ie,ue=ie.coordinateSystem;ue&&ue.master&&(ue=ue.master);var le=ue&&ne?ue===ne:se;if(!(u==="series"&&!se||u==="coordinateSystem"&&!le||t==="series"&&se)){var ce=c.getViewOfSeriesModel(ie);if(ce.group.traverse(function(pe){pe.__highByOuter&&se&&t==="self"||singleEnterBlur(pe)}),isArrayLike(t))te(ie.getData(),t);else if(isObject$3(t))for(var de=keys$2(t),fe=0;fe<de.length;fe++)te(ie.getData(de[fe]),t[de[fe]]);oe.push(ie),getComponentStates(ie).isBlured=!0}}),ee.eachComponent(function(ie,se){if(ie!=="series"){var ue=c.getViewOfComponentModel(se);ue&&ue.toggleBlurSeries&&ue.toggleBlurSeries(oe,!0,ee)}})}}function blurComponent(n,t,u){if(!(n==null||t==null)){var c=u.getModel().getComponent(n,t);if(c){getComponentStates(c).isBlured=!0;var ee=u.getViewOfComponentModel(c);!ee||!ee.focusBlurEnabled||ee.group.traverse(function(te){singleEnterBlur(te)})}}}function blurSeriesFromHighlightPayload(n,t,u){var c=n.seriesIndex,ee=n.getData(t.dataType);if(ee){var te=queryDataIndex(ee,t);te=(isArray$6(te)?te[0]:te)||0;var ae=ee.getItemGraphicEl(te);if(!ae)for(var ne=ee.count(),oe=0;!ae&&oe<ne;)ae=ee.getItemGraphicEl(oe++);if(ae){var ie=getECData(ae);blurSeries(c,ie.focus,ie.blurScope,u)}else{var se=n.get(["emphasis","focus"]),ue=n.get(["emphasis","blurScope"]);se!=null&&blurSeries(c,se,ue,u)}}}function findComponentHighDownDispatchers(n,t,u,c){var ee={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||t==null||u==null)return ee;var te=c.getModel().getComponent(n,t);if(!te)return ee;var ae=c.getViewOfComponentModel(te);if(!ae||!ae.findHighDownDispatchers)return ee;for(var ne=ae.findHighDownDispatchers(u),oe,ie=0;ie<ne.length;ie++)if(getECData(ne[ie]).focus==="self"){oe=!0;break}return{focusSelf:oe,dispatchers:ne}}function handleGlobalMouseOverForHighDown(n,t,u){var c=getECData(n),ee=findComponentHighDownDispatchers(c.componentMainType,c.componentIndex,c.componentHighDownName,u),te=ee.dispatchers,ae=ee.focusSelf;te?(ae&&blurComponent(c.componentMainType,c.componentIndex,u),each$3(te,function(ne){return enterEmphasisWhenMouseOver(ne,t)})):(blurSeries(c.seriesIndex,c.focus,c.blurScope,u),c.focus==="self"&&blurComponent(c.componentMainType,c.componentIndex,u),enterEmphasisWhenMouseOver(n,t))}function handleGlobalMouseOutForHighDown(n,t,u){allLeaveBlur(u);var c=getECData(n),ee=findComponentHighDownDispatchers(c.componentMainType,c.componentIndex,c.componentHighDownName,u).dispatchers;ee?each$3(ee,function(te){return leaveEmphasisWhenMouseOut(te,t)}):leaveEmphasisWhenMouseOut(n,t)}function toggleSelectionFromPayload(n,t,u){if(isSelectChangePayload(t)){var c=t.dataType,ee=n.getData(c),te=queryDataIndex(ee,t);isArray$6(te)||(te=[te]),n[t.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":t.type===SELECT_ACTION_TYPE?"select":"unselect"](te,c)}}function updateSeriesElementSelection(n){var t=n.getAllData();each$3(t,function(u){var c=u.data,ee=u.type;c.eachItemGraphicEl(function(te,ae){n.isSelected(ae,ee)?enterSelect(te):leaveSelect(te)})})}function getAllSelectedIndices(n){var t=[];return n.eachSeries(function(u){var c=u.getAllData();each$3(c,function(ee){ee.data;var te=ee.type,ae=u.getSelectedDataIndices();if(ae.length>0){var ne={dataIndex:ae,seriesIndex:u.seriesIndex};te!=null&&(ne.dataType=te),t.push(ne)}})}),t}function enableHoverEmphasis(n,t,u){setAsHighDownDispatcher(n,!0),traverseUpdateState(n,setDefaultStateProxy),enableHoverFocus(n,t,u)}function disableHoverEmphasis(n){setAsHighDownDispatcher(n,!1)}function toggleHoverEmphasis(n,t,u,c){c?disableHoverEmphasis(n):enableHoverEmphasis(n,t,u)}function enableHoverFocus(n,t,u){var c=getECData(n);t!=null?(c.focus=t,c.blurScope=u):c.focus&&(c.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(n,t,u,c){u=u||"itemStyle";for(var ee=0;ee<OTHER_STATES.length;ee++){var te=OTHER_STATES[ee],ae=t.getModel([te,u]),ne=n.ensureState(te);ne.style=ae[defaultStyleGetterMap[u]]()}}function setAsHighDownDispatcher(n,t){var u=t===!1,c=n;n.highDownSilentOnTouch&&(c.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!u||c.__highDownDispatcher)&&(c.__highByOuter=c.__highByOuter||0,c.__highDownDispatcher=!u)}function isHighDownDispatcher(n){return!!(n&&n.__highDownDispatcher)}function getHighlightDigit(n){var t=_highlightKeyMap[n];return t==null&&_highlightNextDigit<=32&&(t=_highlightKeyMap[n]=_highlightNextDigit++),t}function isSelectChangePayload(n){var t=n.type;return t===SELECT_ACTION_TYPE||t===UNSELECT_ACTION_TYPE||t===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(n){var t=n.type;return t===HIGHLIGHT_ACTION_TYPE||t===DOWNPLAY_ACTION_TYPE}function savePathStates(n){var t=getSavedStates(n);t.normalFill=n.style.fill,t.normalStroke=n.style.stroke;var u=n.states.select||{};t.selectFill=u.style&&u.style.fill||null,t.selectStroke=u.style&&u.style.stroke||null}var CMD=PathProxy.CMD,points=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(n,t){if(t){var u=n.data,c=n.len(),ee,te,ae,ne,oe,ie,se=CMD.M,ue=CMD.C,le=CMD.L,ce=CMD.R,de=CMD.A,fe=CMD.Q;for(ae=0,ne=0;ae<c;){switch(ee=u[ae++],ne=ae,te=0,ee){case se:te=1;break;case le:te=1;break;case ue:te=3;break;case fe:te=2;break;case de:var pe=t[4],me=t[5],ge=mathSqrt$2(t[0]*t[0]+t[1]*t[1]),De=mathSqrt$2(t[2]*t[2]+t[3]*t[3]),Ce=mathAtan2(-t[1]/De,t[0]/ge);u[ae]*=ge,u[ae++]+=pe,u[ae]*=De,u[ae++]+=me,u[ae++]*=ge,u[ae++]*=De,u[ae++]+=Ce,u[ae++]+=Ce,ae+=2,ne=ae;break;case ce:ie[0]=u[ae++],ie[1]=u[ae++],applyTransform$1(ie,ie,t),u[ne++]=ie[0],u[ne++]=ie[1],ie[0]+=u[ae++],ie[1]+=u[ae++],applyTransform$1(ie,ie,t),u[ne++]=ie[0],u[ne++]=ie[1]}for(oe=0;oe<te;oe++){var we=points[oe];we[0]=u[ae++],we[1]=u[ae++],applyTransform$1(we,we,t),u[ne++]=we[0],u[ne++]=we[1]}}n.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$4=Math.PI;function vMag(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function vRatio(n,t){return(n[0]*t[0]+n[1]*t[1])/(vMag(n)*vMag(t))}function vAngle(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(vRatio(n,t))}function processArc(n,t,u,c,ee,te,ae,ne,oe,ie,se){var ue=oe*(PI$4/180),le=mathCos$2(ue)*(n-u)/2+mathSin$2(ue)*(t-c)/2,ce=-1*mathSin$2(ue)*(n-u)/2+mathCos$2(ue)*(t-c)/2,de=le*le/(ae*ae)+ce*ce/(ne*ne);de>1&&(ae*=mathSqrt$1(de),ne*=mathSqrt$1(de));var fe=(ee===te?-1:1)*mathSqrt$1((ae*ae*(ne*ne)-ae*ae*(ce*ce)-ne*ne*(le*le))/(ae*ae*(ce*ce)+ne*ne*(le*le)))||0,pe=fe*ae*ce/ne,me=fe*-ne*le/ae,ge=(n+u)/2+mathCos$2(ue)*pe-mathSin$2(ue)*me,De=(t+c)/2+mathSin$2(ue)*pe+mathCos$2(ue)*me,Ce=vAngle([1,0],[(le-pe)/ae,(ce-me)/ne]),we=[(le-pe)/ae,(ce-me)/ne],xe=[(-1*le-pe)/ae,(-1*ce-me)/ne],Re=vAngle(we,xe);if(vRatio(we,xe)<=-1&&(Re=PI$4),vRatio(we,xe)>=1&&(Re=0),Re<0){var Be=Math.round(Re/PI$4*1e6)/1e6;Re=PI$4*2+Be%2*PI$4}se.addData(ie,ge,De,ae,ne,Ce,Re,ue,te)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(n){var t=new PathProxy;if(!n)return t;var u=0,c=0,ee=u,te=c,ae,ne=PathProxy.CMD,oe=n.match(commandReg);if(!oe)return t;for(var ie=0;ie<oe.length;ie++){for(var se=oe[ie],ue=se.charAt(0),le=void 0,ce=se.match(numberReg)||[],de=ce.length,fe=0;fe<de;fe++)ce[fe]=parseFloat(ce[fe]);for(var pe=0;pe<de;){var me=void 0,ge=void 0,De=void 0,Ce=void 0,we=void 0,xe=void 0,Re=void 0,Be=u,Se=c,Te=void 0,Ae=void 0;switch(ue){case"l":u+=ce[pe++],c+=ce[pe++],le=ne.L,t.addData(le,u,c);break;case"L":u=ce[pe++],c=ce[pe++],le=ne.L,t.addData(le,u,c);break;case"m":u+=ce[pe++],c+=ce[pe++],le=ne.M,t.addData(le,u,c),ee=u,te=c,ue="l";break;case"M":u=ce[pe++],c=ce[pe++],le=ne.M,t.addData(le,u,c),ee=u,te=c,ue="L";break;case"h":u+=ce[pe++],le=ne.L,t.addData(le,u,c);break;case"H":u=ce[pe++],le=ne.L,t.addData(le,u,c);break;case"v":c+=ce[pe++],le=ne.L,t.addData(le,u,c);break;case"V":c=ce[pe++],le=ne.L,t.addData(le,u,c);break;case"C":le=ne.C,t.addData(le,ce[pe++],ce[pe++],ce[pe++],ce[pe++],ce[pe++],ce[pe++]),u=ce[pe-2],c=ce[pe-1];break;case"c":le=ne.C,t.addData(le,ce[pe++]+u,ce[pe++]+c,ce[pe++]+u,ce[pe++]+c,ce[pe++]+u,ce[pe++]+c),u+=ce[pe-2],c+=ce[pe-1];break;case"S":me=u,ge=c,Te=t.len(),Ae=t.data,ae===ne.C&&(me+=u-Ae[Te-4],ge+=c-Ae[Te-3]),le=ne.C,Be=ce[pe++],Se=ce[pe++],u=ce[pe++],c=ce[pe++],t.addData(le,me,ge,Be,Se,u,c);break;case"s":me=u,ge=c,Te=t.len(),Ae=t.data,ae===ne.C&&(me+=u-Ae[Te-4],ge+=c-Ae[Te-3]),le=ne.C,Be=u+ce[pe++],Se=c+ce[pe++],u+=ce[pe++],c+=ce[pe++],t.addData(le,me,ge,Be,Se,u,c);break;case"Q":Be=ce[pe++],Se=ce[pe++],u=ce[pe++],c=ce[pe++],le=ne.Q,t.addData(le,Be,Se,u,c);break;case"q":Be=ce[pe++]+u,Se=ce[pe++]+c,u+=ce[pe++],c+=ce[pe++],le=ne.Q,t.addData(le,Be,Se,u,c);break;case"T":me=u,ge=c,Te=t.len(),Ae=t.data,ae===ne.Q&&(me+=u-Ae[Te-4],ge+=c-Ae[Te-3]),u=ce[pe++],c=ce[pe++],le=ne.Q,t.addData(le,me,ge,u,c);break;case"t":me=u,ge=c,Te=t.len(),Ae=t.data,ae===ne.Q&&(me+=u-Ae[Te-4],ge+=c-Ae[Te-3]),u+=ce[pe++],c+=ce[pe++],le=ne.Q,t.addData(le,me,ge,u,c);break;case"A":De=ce[pe++],Ce=ce[pe++],we=ce[pe++],xe=ce[pe++],Re=ce[pe++],Be=u,Se=c,u=ce[pe++],c=ce[pe++],le=ne.A,processArc(Be,Se,u,c,xe,Re,De,Ce,we,le,t);break;case"a":De=ce[pe++],Ce=ce[pe++],we=ce[pe++],xe=ce[pe++],Re=ce[pe++],Be=u,Se=c,u+=ce[pe++],c+=ce[pe++],le=ne.A,processArc(Be,Se,u,c,xe,Re,De,Ce,we,le,t);break}}(ue==="z"||ue==="Z")&&(le=ne.Z,t.addData(le),u=ee,c=te),ae=le}return t.toStatic(),t}var SVGPath=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.applyTransform=function(u){},t}(Path);function isPathProxy(n){return n.setData!=null}function createPathOptions(n,t){var u=createPathProxyFromString(n),c=extend({},t);return c.buildPath=function(ee){if(isPathProxy(ee)){ee.setData(u.data);var te=ee.getContext();te&&ee.rebuildPath(te,1)}else{var te=ee;u.rebuildPath(te,1)}},c.applyTransform=function(ee){transformPath(u,ee),this.dirtyShape()},c}function createFromString(n,t){return new SVGPath(createPathOptions(n,t))}function extendFromString(n,t){var u=createPathOptions(n,t),c=function(ee){__extends(te,ee);function te(ae){var ne=ee.call(this,ae)||this;return ne.applyTransform=u.applyTransform,ne.buildPath=u.buildPath,ne}return te}(SVGPath);return c}function mergePath$1(n,t){for(var u=[],c=n.length,ee=0;ee<c;ee++){var te=n[ee];u.push(te.getUpdatedPathProxy(!0))}var ae=new Path(t);return ae.createPathProxy(),ae.buildPath=function(ne){if(isPathProxy(ne)){ne.appendPath(u);var oe=ne.getContext();oe&&ne.rebuildPath(oe,1)}},ae}var CircleShape=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),Circle=function(n){__extends(t,n);function t(u){return n.call(this,u)||this}return t.prototype.getDefaultShape=function(){return new CircleShape},t.prototype.buildPath=function(u,c){u.moveTo(c.cx+c.r,c.cy),u.arc(c.cx,c.cy,c.r,0,Math.PI*2)},t}(Path);Circle.prototype.type="circle";var EllipseShape=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),Ellipse=function(n){__extends(t,n);function t(u){return n.call(this,u)||this}return t.prototype.getDefaultShape=function(){return new EllipseShape},t.prototype.buildPath=function(u,c){var ee=.5522848,te=c.cx,ae=c.cy,ne=c.rx,oe=c.ry,ie=ne*ee,se=oe*ee;u.moveTo(te-ne,ae),u.bezierCurveTo(te-ne,ae-se,te-ie,ae-oe,te,ae-oe),u.bezierCurveTo(te+ie,ae-oe,te+ne,ae-se,te+ne,ae),u.bezierCurveTo(te+ne,ae+se,te+ie,ae+oe,te,ae+oe),u.bezierCurveTo(te-ie,ae+oe,te-ne,ae+se,te-ne,ae),u.closePath()},t}(Path);Ellipse.prototype.type="ellipse";var PI$3=Math.PI,PI2$1=PI$3*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs=Math.abs,mathSqrt=Math.sqrt,mathMax$2=Math.max,mathMin$2=Math.min,e$1=1e-4;function intersect(n,t,u,c,ee,te,ae,ne){var oe=u-n,ie=c-t,se=ae-ee,ue=ne-te,le=ue*oe-se*ie;if(!(le*le<e$1))return le=(se*(t-te)-ue*(n-ee))/le,[n+le*oe,t+le*ie]}function computeCornerTangents(n,t,u,c,ee,te,ae){var ne=n-u,oe=t-c,ie=(ae?te:-te)/mathSqrt(ne*ne+oe*oe),se=ie*oe,ue=-ie*ne,le=n+se,ce=t+ue,de=u+se,fe=c+ue,pe=(le+de)/2,me=(ce+fe)/2,ge=de-le,De=fe-ce,Ce=ge*ge+De*De,we=ee-te,xe=le*fe-de*ce,Re=(De<0?-1:1)*mathSqrt(mathMax$2(0,we*we*Ce-xe*xe)),Be=(xe*De-ge*Re)/Ce,Se=(-xe*ge-De*Re)/Ce,Te=(xe*De+ge*Re)/Ce,Ae=(-xe*ge+De*Re)/Ce,he=Be-pe,ve=Se-me,ye=Te-pe,be=Ae-me;return he*he+ve*ve>ye*ye+be*be&&(Be=Te,Se=Ae),{cx:Be,cy:Se,x0:-se,y0:-ue,x1:Be*(ee/we-1),y1:Se*(ee/we-1)}}function normalizeCornerRadius(n){var t;if(isArray$6(n)){var u=n.length;if(!u)return n;u===1?t=[n[0],n[0],0,0]:u===2?t=[n[0],n[0],n[1],n[1]]:u===3?t=n.concat(n[2]):t=n}else t=[n,n,n,n];return t}function buildPath$1(n,t){var u,c=mathMax$2(t.r,0),ee=mathMax$2(t.r0||0,0),te=c>0,ae=ee>0;if(!(!te&&!ae)){if(te||(c=ee,ee=0),ee>c){var ne=c;c=ee,ee=ne}var oe=t.startAngle,ie=t.endAngle;if(!(isNaN(oe)||isNaN(ie))){var se=t.cx,ue=t.cy,le=!!t.clockwise,ce=mathAbs(ie-oe),de=ce>PI2$1&&ce%PI2$1;if(de>e$1&&(ce=de),!(c>e$1))n.moveTo(se,ue);else if(ce>PI2$1-e$1)n.moveTo(se+c*mathCos$1(oe),ue+c*mathSin$1(oe)),n.arc(se,ue,c,oe,ie,!le),ee>e$1&&(n.moveTo(se+ee*mathCos$1(ie),ue+ee*mathSin$1(ie)),n.arc(se,ue,ee,ie,oe,le));else{var fe=void 0,pe=void 0,me=void 0,ge=void 0,De=void 0,Ce=void 0,we=void 0,xe=void 0,Re=void 0,Be=void 0,Se=void 0,Te=void 0,Ae=void 0,he=void 0,ve=void 0,ye=void 0,be=c*mathCos$1(oe),_e=c*mathSin$1(oe),Me=ee*mathCos$1(ie),Ie=ee*mathSin$1(ie),Fe=ce>e$1;if(Fe){var Ee=t.cornerRadius;Ee&&(u=normalizeCornerRadius(Ee),fe=u[0],pe=u[1],me=u[2],ge=u[3]);var ke=mathAbs(c-ee)/2;if(De=mathMin$2(ke,me),Ce=mathMin$2(ke,ge),we=mathMin$2(ke,fe),xe=mathMin$2(ke,pe),Se=Re=mathMax$2(De,Ce),Te=Be=mathMax$2(we,xe),(Re>e$1||Be>e$1)&&(Ae=c*mathCos$1(ie),he=c*mathSin$1(ie),ve=ee*mathCos$1(oe),ye=ee*mathSin$1(oe),ce<PI$3)){var Ve=intersect(be,_e,ve,ye,Ae,he,Me,Ie);if(Ve){var ze=be-Ve[0],Ue=_e-Ve[1],Oe=Ae-Ve[0],Dt=he-Ve[1],$t=1/mathSin$1(mathACos((ze*Oe+Ue*Dt)/(mathSqrt(ze*ze+Ue*Ue)*mathSqrt(Oe*Oe+Dt*Dt)))/2),Mt=mathSqrt(Ve[0]*Ve[0]+Ve[1]*Ve[1]);Se=mathMin$2(Re,(c-Mt)/($t+1)),Te=mathMin$2(Be,(ee-Mt)/($t-1))}}}if(!Fe)n.moveTo(se+be,ue+_e);else if(Se>e$1){var Kt=mathMin$2(me,Se),Vt=mathMin$2(ge,Se),Ht=computeCornerTangents(ve,ye,be,_e,c,Kt,le),$e=computeCornerTangents(Ae,he,Me,Ie,c,Vt,le);n.moveTo(se+Ht.cx+Ht.x0,ue+Ht.cy+Ht.y0),Se<Re&&Kt===Vt?n.arc(se+Ht.cx,ue+Ht.cy,Se,mathATan2(Ht.y0,Ht.x0),mathATan2($e.y0,$e.x0),!le):(Kt>0&&n.arc(se+Ht.cx,ue+Ht.cy,Kt,mathATan2(Ht.y0,Ht.x0),mathATan2(Ht.y1,Ht.x1),!le),n.arc(se,ue,c,mathATan2(Ht.cy+Ht.y1,Ht.cx+Ht.x1),mathATan2($e.cy+$e.y1,$e.cx+$e.x1),!le),Vt>0&&n.arc(se+$e.cx,ue+$e.cy,Vt,mathATan2($e.y1,$e.x1),mathATan2($e.y0,$e.x0),!le))}else n.moveTo(se+be,ue+_e),n.arc(se,ue,c,oe,ie,!le);if(!(ee>e$1)||!Fe)n.lineTo(se+Me,ue+Ie);else if(Te>e$1){var Kt=mathMin$2(fe,Te),Vt=mathMin$2(pe,Te),Ht=computeCornerTangents(Me,Ie,Ae,he,ee,-Vt,le),$e=computeCornerTangents(be,_e,ve,ye,ee,-Kt,le);n.lineTo(se+Ht.cx+Ht.x0,ue+Ht.cy+Ht.y0),Te<Be&&Kt===Vt?n.arc(se+Ht.cx,ue+Ht.cy,Te,mathATan2(Ht.y0,Ht.x0),mathATan2($e.y0,$e.x0),!le):(Vt>0&&n.arc(se+Ht.cx,ue+Ht.cy,Vt,mathATan2(Ht.y0,Ht.x0),mathATan2(Ht.y1,Ht.x1),!le),n.arc(se,ue,ee,mathATan2(Ht.cy+Ht.y1,Ht.cx+Ht.x1),mathATan2($e.cy+$e.y1,$e.cx+$e.x1),le),Kt>0&&n.arc(se+$e.cx,ue+$e.cy,Kt,mathATan2($e.y1,$e.x1),mathATan2($e.y0,$e.x0),!le))}else n.lineTo(se+Me,ue+Ie),n.arc(se,ue,ee,ie,oe,le)}n.closePath()}}}var SectorShape=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),Sector=function(n){__extends(t,n);function t(u){return n.call(this,u)||this}return t.prototype.getDefaultShape=function(){return new SectorShape},t.prototype.buildPath=function(u,c){buildPath$1(u,c)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Path);Sector.prototype.type="sector";var RingShape=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),Ring=function(n){__extends(t,n);function t(u){return n.call(this,u)||this}return t.prototype.getDefaultShape=function(){return new RingShape},t.prototype.buildPath=function(u,c){var ee=c.cx,te=c.cy,ae=Math.PI*2;u.moveTo(ee+c.r,te),u.arc(ee,te,c.r,0,ae,!1),u.moveTo(ee+c.r0,te),u.arc(ee,te,c.r0,0,ae,!0)},t}(Path);Ring.prototype.type="ring";function smoothBezier(n,t,u,c){var ee=[],te=[],ae=[],ne=[],oe,ie,se,ue;if(c){se=[1/0,1/0],ue=[-1/0,-1/0];for(var le=0,ce=n.length;le<ce;le++)min$3(se,se,n[le]),max$3(ue,ue,n[le]);min$3(se,se,c[0]),max$3(ue,ue,c[1])}for(var le=0,ce=n.length;le<ce;le++){var de=n[le];if(u)oe=n[le?le-1:ce-1],ie=n[(le+1)%ce];else if(le===0||le===ce-1){ee.push(clone$2(n[le]));continue}else oe=n[le-1],ie=n[le+1];sub(te,ie,oe),scale$2(te,te,t);var fe=distance(de,oe),pe=distance(de,ie),me=fe+pe;me!==0&&(fe/=me,pe/=me),scale$2(ae,te,-fe),scale$2(ne,te,pe);var ge=add([],de,ae),De=add([],de,ne);c&&(max$3(ge,ge,se),min$3(ge,ge,ue),max$3(De,De,se),min$3(De,De,ue)),ee.push(ge),ee.push(De)}return u&&ee.push(ee.shift()),ee}function buildPath(n,t,u){var c=t.smooth,ee=t.points;if(ee&&ee.length>=2){if(c){var te=smoothBezier(ee,c,u,t.smoothConstraint);n.moveTo(ee[0][0],ee[0][1]);for(var ae=ee.length,ne=0;ne<(u?ae:ae-1);ne++){var oe=te[ne*2],ie=te[ne*2+1],se=ee[(ne+1)%ae];n.bezierCurveTo(oe[0],oe[1],ie[0],ie[1],se[0],se[1])}}else{n.moveTo(ee[0][0],ee[0][1]);for(var ne=1,ue=ee.length;ne<ue;ne++)n.lineTo(ee[ne][0],ee[ne][1])}u&&n.closePath()}}var PolygonShape=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),Polygon=function(n){__extends(t,n);function t(u){return n.call(this,u)||this}return t.prototype.getDefaultShape=function(){return new PolygonShape},t.prototype.buildPath=function(u,c){buildPath(u,c,!0)},t}(Path);Polygon.prototype.type="polygon";var PolylineShape=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),Polyline=function(n){__extends(t,n);function t(u){return n.call(this,u)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new PolylineShape},t.prototype.buildPath=function(u,c){buildPath(u,c,!1)},t}(Path);Polyline.prototype.type="polyline";var subPixelOptimizeOutputShape={},LineShape=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),Line=function(n){__extends(t,n);function t(u){return n.call(this,u)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new LineShape},t.prototype.buildPath=function(u,c){var ee,te,ae,ne;if(this.subPixelOptimize){var oe=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,c,this.style);ee=oe.x1,te=oe.y1,ae=oe.x2,ne=oe.y2}else ee=c.x1,te=c.y1,ae=c.x2,ne=c.y2;var ie=c.percent;ie!==0&&(u.moveTo(ee,te),ie<1&&(ae=ee*(1-ie)+ae*ie,ne=te*(1-ie)+ne*ie),u.lineTo(ae,ne))},t.prototype.pointAt=function(u){var c=this.shape;return[c.x1*(1-u)+c.x2*u,c.y1*(1-u)+c.y2*u]},t}(Path);Line.prototype.type="line";var out=[],BezierCurveShape=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function someVectorAt(n,t,u){var c=n.cpx2,ee=n.cpy2;return c!=null||ee!=null?[(u?cubicDerivativeAt:cubicAt)(n.x1,n.cpx1,n.cpx2,n.x2,t),(u?cubicDerivativeAt:cubicAt)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(u?quadraticDerivativeAt:quadraticAt)(n.x1,n.cpx1,n.x2,t),(u?quadraticDerivativeAt:quadraticAt)(n.y1,n.cpy1,n.y2,t)]}var BezierCurve=function(n){__extends(t,n);function t(u){return n.call(this,u)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new BezierCurveShape},t.prototype.buildPath=function(u,c){var ee=c.x1,te=c.y1,ae=c.x2,ne=c.y2,oe=c.cpx1,ie=c.cpy1,se=c.cpx2,ue=c.cpy2,le=c.percent;le!==0&&(u.moveTo(ee,te),se==null||ue==null?(le<1&&(quadraticSubdivide(ee,oe,ae,le,out),oe=out[1],ae=out[2],quadraticSubdivide(te,ie,ne,le,out),ie=out[1],ne=out[2]),u.quadraticCurveTo(oe,ie,ae,ne)):(le<1&&(cubicSubdivide(ee,oe,se,ae,le,out),oe=out[1],se=out[2],ae=out[3],cubicSubdivide(te,ie,ue,ne,le,out),ie=out[1],ue=out[2],ne=out[3]),u.bezierCurveTo(oe,ie,se,ue,ae,ne)))},t.prototype.pointAt=function(u){return someVectorAt(this.shape,u,!1)},t.prototype.tangentAt=function(u){var c=someVectorAt(this.shape,u,!0);return normalize$2(c,c)},t}(Path);BezierCurve.prototype.type="bezier-curve";var ArcShape=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),Arc=function(n){__extends(t,n);function t(u){return n.call(this,u)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ArcShape},t.prototype.buildPath=function(u,c){var ee=c.cx,te=c.cy,ae=Math.max(c.r,0),ne=c.startAngle,oe=c.endAngle,ie=c.clockwise,se=Math.cos(ne),ue=Math.sin(ne);u.moveTo(se*ae+ee,ue*ae+te),u.arc(ee,te,ae,ne,oe,!ie)},t}(Path);Arc.prototype.type="arc";var CompoundPath=function(n){__extends(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.type="compound",u}return t.prototype._updatePathDirty=function(){for(var u=this.shape.paths,c=this.shapeChanged(),ee=0;ee<u.length;ee++)c=c||u[ee].shapeChanged();c&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var u=this.shape.paths||[],c=this.getGlobalScale(),ee=0;ee<u.length;ee++)u[ee].path||u[ee].createPathProxy(),u[ee].path.setScale(c[0],c[1],u[ee].segmentIgnoreThreshold)},t.prototype.buildPath=function(u,c){for(var ee=c.paths||[],te=0;te<ee.length;te++)ee[te].buildPath(u,ee[te].shape,!0)},t.prototype.afterBrush=function(){for(var u=this.shape.paths||[],c=0;c<u.length;c++)u[c].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path.prototype.getBoundingRect.call(this)},t}(Path),Gradient=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,u){this.colorStops.push({offset:t,color:u})},n}(),LinearGradient=function(n){__extends(t,n);function t(u,c,ee,te,ae,ne){var oe=n.call(this,ae)||this;return oe.x=u??0,oe.y=c??0,oe.x2=ee??1,oe.y2=te??0,oe.type="linear",oe.global=ne||!1,oe}return t}(Gradient),RadialGradient=function(n){__extends(t,n);function t(u,c,ee,te,ae){var ne=n.call(this,te)||this;return ne.x=u??.5,ne.y=c??.5,ne.r=ee??.5,ne.type="radial",ne.global=ae||!1,ne}return t}(Gradient),extent=[0,0],extent2=[0,0],minTv=new Point,maxTv=new Point,OrientedBoundingRect=function(){function n(t,u){this._corners=[],this._axes=[],this._origin=[0,0];for(var c=0;c<4;c++)this._corners[c]=new Point;for(var c=0;c<2;c++)this._axes[c]=new Point;t&&this.fromBoundingRect(t,u)}return n.prototype.fromBoundingRect=function(t,u){var c=this._corners,ee=this._axes,te=t.x,ae=t.y,ne=te+t.width,oe=ae+t.height;if(c[0].set(te,ae),c[1].set(ne,ae),c[2].set(ne,oe),c[3].set(te,oe),u)for(var ie=0;ie<4;ie++)c[ie].transform(u);Point.sub(ee[0],c[1],c[0]),Point.sub(ee[1],c[3],c[0]),ee[0].normalize(),ee[1].normalize();for(var ie=0;ie<2;ie++)this._origin[ie]=ee[ie].dot(c[0])},n.prototype.intersect=function(t,u){var c=!0,ee=!u;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,t,minTv,maxTv,ee,1)&&(c=!1,ee)||!this._intersectCheckOneSide(t,this,minTv,maxTv,ee,-1)&&(c=!1,ee)||ee||Point.copy(u,c?minTv:maxTv),c},n.prototype._intersectCheckOneSide=function(t,u,c,ee,te,ae){for(var ne=!0,oe=0;oe<2;oe++){var ie=this._axes[oe];if(this._getProjMinMaxOnAxis(oe,t._corners,extent),this._getProjMinMaxOnAxis(oe,u._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(ne=!1,te)return ne;var se=Math.abs(extent2[0]-extent[1]),ue=Math.abs(extent[0]-extent2[1]);Math.min(se,ue)>ee.len()&&(se<ue?Point.scale(ee,ie,-se*ae):Point.scale(ee,ie,ue*ae))}else if(c){var se=Math.abs(extent2[0]-extent[1]),ue=Math.abs(extent[0]-extent2[1]);Math.min(se,ue)<c.len()&&(se<ue?Point.scale(c,ie,se*ae):Point.scale(c,ie,-ue*ae))}}return ne},n.prototype._getProjMinMaxOnAxis=function(t,u,c){for(var ee=this._axes[t],te=this._origin,ae=u[0].dot(ee)+te[t],ne=ae,oe=ae,ie=1;ie<u.length;ie++){var se=u[ie].dot(ee)+te[t];ne=Math.min(se,ne),oe=Math.max(se,oe)}c[0]=ne,c[1]=oe},n}(),m$1=[],IncrementalDisplayable=function(n){__extends(t,n);function t(){var u=n!==null&&n.apply(this,arguments)||this;return u.notClear=!0,u.incremental=!0,u._displayables=[],u._temporaryDisplayables=[],u._cursor=0,u}return t.prototype.traverse=function(u,c){u.call(c,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(u,c){c?this._temporaryDisplayables.push(u):this._displayables.push(u),this.markRedraw()},t.prototype.addDisplayables=function(u,c){c=c||!1;for(var ee=0;ee<u.length;ee++)this.addDisplayable(u[ee],c)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(u){for(var c=this._cursor;c<this._displayables.length;c++)u&&u(this._displayables[c]);for(var c=0;c<this._temporaryDisplayables.length;c++)u&&u(this._temporaryDisplayables[c])},t.prototype.update=function(){this.updateTransform();for(var u=this._cursor;u<this._displayables.length;u++){var c=this._displayables[u];c.parent=this,c.update(),c.parent=null}for(var u=0;u<this._temporaryDisplayables.length;u++){var c=this._temporaryDisplayables[u];c.parent=this,c.update(),c.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var u=new BoundingRect(1/0,1/0,-1/0,-1/0),c=0;c<this._displayables.length;c++){var ee=this._displayables[c],te=ee.getBoundingRect().clone();ee.needLocalTransform()&&te.applyTransform(ee.getLocalTransform(m$1)),u.union(te)}this._rect=u}return this._rect},t.prototype.contain=function(u,c){var ee=this.transformCoordToLocal(u,c),te=this.getBoundingRect();if(te.contain(ee[0],ee[1]))for(var ae=0;ae<this._displayables.length;ae++){var ne=this._displayables[ae];if(ne.contain(u,c))return!0}return!1},t}(Displayable),transitionStore=makeInner();function getAnimationConfig(n,t,u,c,ee){var te;if(t&&t.ecModel){var ae=t.ecModel.getUpdatePayload();te=ae&&ae.animation}var ne=t&&t.isAnimationEnabled(),oe=n==="update";if(ne){var ie=void 0,se=void 0,ue=void 0;c?(ie=retrieve2(c.duration,200),se=retrieve2(c.easing,"cubicOut"),ue=0):(ie=t.getShallow(oe?"animationDurationUpdate":"animationDuration"),se=t.getShallow(oe?"animationEasingUpdate":"animationEasing"),ue=t.getShallow(oe?"animationDelayUpdate":"animationDelay")),te&&(te.duration!=null&&(ie=te.duration),te.easing!=null&&(se=te.easing),te.delay!=null&&(ue=te.delay)),isFunction(ue)&&(ue=ue(u,ee)),isFunction(ie)&&(ie=ie(u));var le={duration:ie||0,delay:ue,easing:se};return le}else return null}function animateOrSetProps(n,t,u,c,ee,te,ae){var ne=!1,oe;isFunction(ee)?(ae=te,te=ee,ee=null):isObject$3(ee)&&(te=ee.cb,ae=ee.during,ne=ee.isFrom,oe=ee.removeOpt,ee=ee.dataIndex);var ie=n==="leave";ie||t.stopAnimation("leave");var se=getAnimationConfig(n,c,ee,ie?oe||{}:null,c&&c.getAnimationDelayParams?c.getAnimationDelayParams(t,ee):null);if(se&&se.duration>0){var ue=se.duration,le=se.delay,ce=se.easing,de={duration:ue,delay:le||0,easing:ce,done:te,force:!!te||!!ae,setToFinal:!ie,scope:n,during:ae};ne?t.animateFrom(u,de):t.animateTo(u,de)}else t.stopAnimation(),!ne&&t.attr(u),ae&&ae(1),te&&te()}function updateProps$1(n,t,u,c,ee,te){animateOrSetProps("update",n,t,u,c,ee,te)}function initProps(n,t,u,c,ee,te){animateOrSetProps("enter",n,t,u,c,ee,te)}function isElementRemoved(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++){var u=n.animators[t];if(u.scope==="leave")return!0}return!1}function removeElement(n,t,u,c,ee,te){isElementRemoved(n)||animateOrSetProps("leave",n,t,u,c,ee,te)}function fadeOutDisplayable(n,t,u,c){n.removeTextContent(),n.removeTextGuideLine(),removeElement(n,{style:{opacity:0}},t,u,c)}function removeElementWithFadeOut(n,t,u){function c(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(ee){ee.isGroup||fadeOutDisplayable(ee,t,u,c)}):fadeOutDisplayable(n,t,u,c)}function saveOldStyle(n){transitionStore(n).oldStyle=n.style}var mathMax$1=Math.max,mathMin$1=Math.min,_customShapeMap={};function extendShape(n){return Path.extend(n)}var extendPathFromString=extendFromString;function extendPath(n,t){return extendPathFromString(n,t)}function registerShape(n,t){_customShapeMap[n]=t}function getShapeClass(n){if(_customShapeMap.hasOwnProperty(n))return _customShapeMap[n]}function makePath(n,t,u,c){var ee=createFromString(n,t);return u&&(c==="center"&&(u=centerGraphic(u,ee.getBoundingRect())),resizePath(ee,u)),ee}function makeImage(n,t,u){var c=new ZRImage({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(ee){if(u==="center"){var te={width:ee.width,height:ee.height};c.setStyle(centerGraphic(t,te))}}});return c}function centerGraphic(n,t){var u=t.width/t.height,c=n.height*u,ee;c<=n.width?ee=n.height:(c=n.width,ee=c/u);var te=n.x+n.width/2,ae=n.y+n.height/2;return{x:te-c/2,y:ae-ee/2,width:c,height:ee}}var mergePath=mergePath$1;function resizePath(n,t){if(n.applyTransform){var u=n.getBoundingRect(),c=u.calculateTransform(t);n.applyTransform(c)}}function subPixelOptimizeLine(n,t){return subPixelOptimizeLine$1(n,n,{lineWidth:t}),n}function subPixelOptimizeRect(n){return subPixelOptimizeRect$1(n.shape,n.shape,n.style),n}var subPixelOptimize=subPixelOptimize$1;function getTransform(n,t){for(var u=identity([]);n&&n!==t;)mul(u,n.getLocalTransform(),u),n=n.parent;return u}function applyTransform(n,t,u){return t&&!isArrayLike(t)&&(t=Transformable.getLocalTransform(t)),u&&(t=invert([],t)),applyTransform$1([],n,t)}function transformDirection(n,t,u){var c=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),ee=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),te=[n==="left"?-c:n==="right"?c:0,n==="top"?-ee:n==="bottom"?ee:0];return te=applyTransform(te,t,u),Math.abs(te[0])>Math.abs(te[1])?te[0]>0?"right":"left":te[1]>0?"bottom":"top"}function isNotGroup(n){return!n.isGroup}function isPath(n){return n.shape!=null}function groupTransition(n,t,u){if(!n||!t)return;function c(ae){var ne={};return ae.traverse(function(oe){isNotGroup(oe)&&oe.anid&&(ne[oe.anid]=oe)}),ne}function ee(ae){var ne={x:ae.x,y:ae.y,rotation:ae.rotation};return isPath(ae)&&(ne.shape=extend({},ae.shape)),ne}var te=c(n);t.traverse(function(ae){if(isNotGroup(ae)&&ae.anid){var ne=te[ae.anid];if(ne){var oe=ee(ae);ae.attr(ee(ne)),updateProps$1(ae,oe,u,getECData(ae).dataIndex)}}})}function clipPointsByRect(n,t){return map$6(n,function(u){var c=u[0];c=mathMax$1(c,t.x),c=mathMin$1(c,t.x+t.width);var ee=u[1];return ee=mathMax$1(ee,t.y),ee=mathMin$1(ee,t.y+t.height),[c,ee]})}function clipRectByRect(n,t){var u=mathMax$1(n.x,t.x),c=mathMin$1(n.x+n.width,t.x+t.width),ee=mathMax$1(n.y,t.y),te=mathMin$1(n.y+n.height,t.y+t.height);if(c>=u&&te>=ee)return{x:u,y:ee,width:c-u,height:te-ee}}function createIcon(n,t,u){var c=extend({rectHover:!0},t),ee=c.style={strokeNoScale:!0};if(u=u||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(ee.image=n.slice(8),defaults(ee,u),new ZRImage(c)):makePath(n.replace("path://",""),c,u,"center")}function linePolygonIntersect(n,t,u,c,ee){for(var te=0,ae=ee[ee.length-1];te<ee.length;te++){var ne=ee[te];if(lineLineIntersect(n,t,u,c,ne[0],ne[1],ae[0],ae[1]))return!0;ae=ne}}function lineLineIntersect(n,t,u,c,ee,te,ae,ne){var oe=u-n,ie=c-t,se=ae-ee,ue=ne-te,le=crossProduct2d(se,ue,oe,ie);if(nearZero(le))return!1;var ce=n-ee,de=t-te,fe=crossProduct2d(ce,de,oe,ie)/le;if(fe<0||fe>1)return!1;var pe=crossProduct2d(ce,de,se,ue)/le;return!(pe<0||pe>1)}function crossProduct2d(n,t,u,c){return n*c-u*t}function nearZero(n){return n<=1e-6&&n>=-1e-6}function setTooltipConfig(n){var t=n.itemTooltipOption,u=n.componentModel,c=n.itemName,ee=isString(t)?{formatter:t}:t,te=u.mainType,ae=u.componentIndex,ne={componentType:te,name:c,$vars:["name"]};ne[te+"Index"]=ae;var oe=n.formatterParamsExtra;oe&&each$3(keys$2(oe),function(se){hasOwn(ne,se)||(ne[se]=oe[se],ne.$vars.push(se))});var ie=getECData(n.el);ie.componentMainType=te,ie.componentIndex=ae,ie.tooltipConfig={name:c,option:defaults({content:c,encodeHTMLContent:!0,formatterParams:ne},ee)}}function traverseElement(n,t){var u;n.isGroup&&(u=t(n)),u||n.traverse(t)}function traverseElements(n,t){if(n)if(isArray$6(n))for(var u=0;u<n.length;u++)traverseElement(n[u],t);else traverseElement(n,t)}registerShape("circle",Circle);registerShape("ellipse",Ellipse);registerShape("sector",Sector);registerShape("ring",Ring);registerShape("polygon",Polygon);registerShape("polyline",Polyline);registerShape("rect",Rect);registerShape("line",Line);registerShape("bezierCurve",BezierCurve);registerShape("arc",Arc);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc,BezierCurve,BoundingRect,Circle,CompoundPath,Ellipse,Group,Image:ZRImage,IncrementalDisplayable,Line,LinearGradient,OrientedBoundingRect,Path,Point,Polygon,Polyline,RadialGradient,Rect,Ring,Sector,Text:ZRText,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform,groupTransition,initProps,isElementRemoved,lineLineIntersect,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(n,t){for(var u=0;u<SPECIAL_STATES.length;u++){var c=SPECIAL_STATES[u],ee=t[c],te=n.ensureState(c);te.style=te.style||{},te.style.text=ee}var ae=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(ae,!0)}function getLabelText(n,t,u){var c=n.labelFetcher,ee=n.labelDataIndex,te=n.labelDimIndex,ae=t.normal,ne;c&&(ne=c.getFormattedLabel(ee,"normal",null,te,ae&&ae.get("formatter"),u!=null?{interpolatedValue:u}:null)),ne==null&&(ne=isFunction(n.defaultText)?n.defaultText(ee,n,u):n.defaultText);for(var oe={normal:ne},ie=0;ie<SPECIAL_STATES.length;ie++){var se=SPECIAL_STATES[ie],ue=t[se];oe[se]=retrieve2(c?c.getFormattedLabel(ee,se,null,te,ue&&ue.get("formatter")):null,ne)}return oe}function setLabelStyle(n,t,u,c){u=u||EMPTY_OBJ;for(var ee=n instanceof ZRText,te=!1,ae=0;ae<DISPLAY_STATES.length;ae++){var ne=t[DISPLAY_STATES[ae]];if(ne&&ne.getShallow("show")){te=!0;break}}var oe=ee?n:n.getTextContent();if(te){ee||(oe||(oe=new ZRText,n.setTextContent(oe)),n.stateProxy&&(oe.stateProxy=n.stateProxy));var ie=getLabelText(u,t),se=t.normal,ue=!!se.getShallow("show"),le=createTextStyle(se,c&&c.normal,u,!1,!ee);le.text=ie.normal,ee||n.setTextConfig(createTextConfig(se,u,!1));for(var ae=0;ae<SPECIAL_STATES.length;ae++){var ce=SPECIAL_STATES[ae],ne=t[ce];if(ne){var de=oe.ensureState(ce),fe=!!retrieve2(ne.getShallow("show"),ue);if(fe!==ue&&(de.ignore=!fe),de.style=createTextStyle(ne,c&&c[ce],u,!0,!ee),de.style.text=ie[ce],!ee){var pe=n.ensureState(ce);pe.textConfig=createTextConfig(ne,u,!0)}}}oe.silent=!!se.getShallow("silent"),oe.style.x!=null&&(le.x=oe.style.x),oe.style.y!=null&&(le.y=oe.style.y),oe.ignore=!ue,oe.useStyle(le),oe.dirty(),u.enableTextSetter&&(labelInner(oe).setLabelText=function(me){var ge=getLabelText(u,t,me);setLabelText(oe,ge)})}else oe&&(oe.ignore=!0);n.dirty()}function getLabelStatesModels(n,t){t=t||"label";for(var u={normal:n.getModel(t)},c=0;c<SPECIAL_STATES.length;c++){var ee=SPECIAL_STATES[c];u[ee]=n.getModel([ee,t])}return u}function createTextStyle(n,t,u,c,ee){var te={};return setTextStyleCommon(te,n,u,c,ee),t&&extend(te,t),te}function createTextConfig(n,t,u){t=t||{};var c={},ee,te=n.getShallow("rotate"),ae=retrieve2(n.getShallow("distance"),u?null:5),ne=n.getShallow("offset");return ee=n.getShallow("position")||(u?null:"inside"),ee==="outside"&&(ee=t.defaultOutsidePosition||"top"),ee!=null&&(c.position=ee),ne!=null&&(c.offset=ne),te!=null&&(te*=Math.PI/180,c.rotation=te),ae!=null&&(c.distance=ae),c.outsideFill=n.get("color")==="inherit"?t.inheritColor||null:"auto",c}function setTextStyleCommon(n,t,u,c,ee){u=u||EMPTY_OBJ;var te=t.ecModel,ae=te&&te.option.textStyle,ne=getRichItemNames(t),oe;if(ne){oe={};for(var ie in ne)if(ne.hasOwnProperty(ie)){var se=t.getModel(["rich",ie]);setTokenTextStyle(oe[ie]={},se,ae,u,c,ee,!1,!0)}}oe&&(n.rich=oe);var ue=t.get("overflow");ue&&(n.overflow=ue);var le=t.get("minMargin");le!=null&&(n.margin=le),setTokenTextStyle(n,t,ae,u,c,ee,!0,!1)}function getRichItemNames(n){for(var t;n&&n!==n.ecModel;){var u=(n.option||EMPTY_OBJ).rich;if(u){t=t||{};for(var c=keys$2(u),ee=0;ee<c.length;ee++){var te=c[ee];t[te]=1}}n=n.parentModel}return t}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(n,t,u,c,ee,te,ae,ne){u=!ee&&u||EMPTY_OBJ;var oe=c&&c.inheritColor,ie=t.getShallow("color"),se=t.getShallow("textBorderColor"),ue=retrieve2(t.getShallow("opacity"),u.opacity);(ie==="inherit"||ie==="auto")&&(oe?ie=oe:ie=null),(se==="inherit"||se==="auto")&&(oe?se=oe:se=null),te||(ie=ie||u.color,se=se||u.textBorderColor),ie!=null&&(n.fill=ie),se!=null&&(n.stroke=se);var le=retrieve2(t.getShallow("textBorderWidth"),u.textBorderWidth);le!=null&&(n.lineWidth=le);var ce=retrieve2(t.getShallow("textBorderType"),u.textBorderType);ce!=null&&(n.lineDash=ce);var de=retrieve2(t.getShallow("textBorderDashOffset"),u.textBorderDashOffset);de!=null&&(n.lineDashOffset=de),!ee&&ue==null&&!ne&&(ue=c&&c.defaultOpacity),ue!=null&&(n.opacity=ue),!ee&&!te&&n.fill==null&&c.inheritColor&&(n.fill=c.inheritColor);for(var fe=0;fe<TEXT_PROPS_WITH_GLOBAL.length;fe++){var pe=TEXT_PROPS_WITH_GLOBAL[fe],me=retrieve2(t.getShallow(pe),u[pe]);me!=null&&(n[pe]=me)}for(var fe=0;fe<TEXT_PROPS_SELF.length;fe++){var pe=TEXT_PROPS_SELF[fe],me=t.getShallow(pe);me!=null&&(n[pe]=me)}if(n.verticalAlign==null){var ge=t.getShallow("baseline");ge!=null&&(n.verticalAlign=ge)}if(!ae||!c.disableBox){for(var fe=0;fe<TEXT_PROPS_BOX.length;fe++){var pe=TEXT_PROPS_BOX[fe],me=t.getShallow(pe);me!=null&&(n[pe]=me)}var De=t.getShallow("borderType");De!=null&&(n.borderDash=De),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&oe&&(n.backgroundColor=oe),(n.borderColor==="auto"||n.borderColor==="inherit")&&oe&&(n.borderColor=oe)}}function getFont(n,t){var u=t&&t.getModel("textStyle");return trim$1([n.fontStyle||u&&u.getShallow("fontStyle")||"",n.fontWeight||u&&u.getShallow("fontWeight")||"",(n.fontSize||u&&u.getShallow("fontSize")||12)+"px",n.fontFamily||u&&u.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner(),PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText,TextStyleMixin=function(){function n(){}return n.prototype.getTextColor=function(t){var u=this.ecModel;return this.getShallow("color")||(!t&&u?u.get(PATH_COLOR):null)},n.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){for(var u={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},c=0;c<textStyleParams.length;c++)u[textStyleParams[c]]=this.getShallow(textStyleParams[c]);return tmpText.useStyle(u),tmpText.update(),tmpText.getBoundingRect()},n}(),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function n(){}return n.prototype.getLineStyle=function(t){return getLineStyle(this,t)},n}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function n(){}return n.prototype.getItemStyle=function(t,u){return getItemStyle(this,t,u)},n}(),Model=function(){function n(t,u,c){this.parentModel=u,this.ecModel=c,this.option=t}return n.prototype.init=function(t,u,c){},n.prototype.mergeOption=function(t,u){merge$2(this.option,t,!0)},n.prototype.get=function(t,u){return t==null?this.option:this._doGet(this.parsePath(t),!u&&this.parentModel)},n.prototype.getShallow=function(t,u){var c=this.option,ee=c==null?c:c[t];if(ee==null&&!u){var te=this.parentModel;te&&(ee=te.getShallow(t))}return ee},n.prototype.getModel=function(t,u){var c=t!=null,ee=c?this.parsePath(t):null,te=c?this._doGet(ee):this.option;return u=u||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(ee)),new n(te,u,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var t=this.constructor;return new t(clone$3(this.option))},n.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!env.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,u){var c=this.option;if(!t)return c;for(var ee=0;ee<t.length&&!(t[ee]&&(c=c&&typeof c=="object"?c[t[ee]]:null,c==null));ee++);return c==null&&u&&(c=u._doGet(this.resolveParentPath(t),u.parentModel)),c},n}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin);var base$2=Math.round(Math.random()*10);function getUID(n){return[n||"",base$2++].join("_")}function enableSubTypeDefaulter(n){var t={};n.registerSubTypeDefaulter=function(u,c){var ee=parseClassType(u);t[ee.main]=c},n.determineSubType=function(u,c){var ee=c.type;if(!ee){var te=parseClassType(u).main;n.hasSubTypes(u)&&t[te]&&(ee=t[te](c))}return ee}}function enableTopologicalTravel(n,t){n.topologicalTravel=function(te,ae,ne,oe){if(!te.length)return;var ie=u(ae),se=ie.graph,ue=ie.noEntryList,le={};for(each$3(te,function(ge){le[ge]=!0});ue.length;){var ce=ue.pop(),de=se[ce],fe=!!le[ce];fe&&(ne.call(oe,ce,de.originalDeps.slice()),delete le[ce]),each$3(de.successor,fe?me:pe)}each$3(le,function(){var ge="";throw new Error(ge)});function pe(ge){se[ge].entryCount--,se[ge].entryCount===0&&ue.push(ge)}function me(ge){le[ge]=!0,pe(ge)}};function u(te){var ae={},ne=[];return each$3(te,function(oe){var ie=c(ae,oe),se=ie.originalDeps=t(oe),ue=ee(se,te);ie.entryCount=ue.length,ie.entryCount===0&&ne.push(oe),each$3(ue,function(le){indexOf$5(ie.predecessor,le)<0&&ie.predecessor.push(le);var ce=c(ae,le);indexOf$5(ce.successor,le)<0&&ce.successor.push(oe)})}),{graph:ae,noEntryList:ne}}function c(te,ae){return te[ae]||(te[ae]={predecessor:[],successor:[]}),te[ae]}function ee(te,ae){var ne=[];return each$3(te,function(oe){indexOf$5(ae,oe)>=0&&ne.push(oe)}),ne}}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase();return n.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(n,t){n=n.toUpperCase(),localeModels[n]=new Model(t),localeStorage[n]=t}function createLocaleObject(n){if(isString(n)){var t=localeStorage[n.toUpperCase()]||{};return n===LOCALE_ZH||n===LOCALE_EN?clone$3(t):merge$2(clone$3(t),clone$3(localeStorage[DEFAULT_LOCALE]),!1)}else return merge$2(clone$3(n),clone$3(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(n){return localeModels[n]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(n,t){return n+="","0000".substr(0,t-n.length)+n}function getPrimaryTimeUnit(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function isPrimaryTimeUnit(n){return n===getPrimaryTimeUnit(n)}function getDefaultFormatPrecisionOfInterval(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(n,t,u,c){var ee=parseDate(n),te=ee[fullYearGetterName(u)](),ae=ee[monthGetterName(u)]()+1,ne=Math.floor((ae-1)/3)+1,oe=ee[dateGetterName(u)](),ie=ee["get"+(u?"UTC":"")+"Day"](),se=ee[hoursGetterName(u)](),ue=(se-1)%12+1,le=ee[minutesGetterName(u)](),ce=ee[secondsGetterName(u)](),de=ee[millisecondsGetterName(u)](),fe=se>=12?"pm":"am",pe=fe.toUpperCase(),me=c instanceof Model?c:getLocaleModel(c||SYSTEM_LANG)||getDefaultLocaleModel(),ge=me.getModel("time"),De=ge.get("month"),Ce=ge.get("monthAbbr"),we=ge.get("dayOfWeek"),xe=ge.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,fe+"").replace(/{A}/g,pe+"").replace(/{yyyy}/g,te+"").replace(/{yy}/g,pad(te%100+"",2)).replace(/{Q}/g,ne+"").replace(/{MMMM}/g,De[ae-1]).replace(/{MMM}/g,Ce[ae-1]).replace(/{MM}/g,pad(ae,2)).replace(/{M}/g,ae+"").replace(/{dd}/g,pad(oe,2)).replace(/{d}/g,oe+"").replace(/{eeee}/g,we[ie]).replace(/{ee}/g,xe[ie]).replace(/{e}/g,ie+"").replace(/{HH}/g,pad(se,2)).replace(/{H}/g,se+"").replace(/{hh}/g,pad(ue+"",2)).replace(/{h}/g,ue+"").replace(/{mm}/g,pad(le,2)).replace(/{m}/g,le+"").replace(/{ss}/g,pad(ce,2)).replace(/{s}/g,ce+"").replace(/{SSS}/g,pad(de,3)).replace(/{S}/g,de+"")}function leveledFormat(n,t,u,c,ee){var te=null;if(isString(u))te=u;else if(isFunction(u))te=u(n.value,t,{level:n.level});else{var ae=extend({},defaultLeveledFormatter);if(n.level>0)for(var ne=0;ne<primaryTimeUnits.length;++ne)ae[primaryTimeUnits[ne]]="{primary|"+ae[primaryTimeUnits[ne]]+"}";var oe=u?u.inherit===!1?u:defaults(u,ae):ae,ie=getUnitFromValue(n.value,ee);if(oe[ie])te=oe[ie];else if(oe.inherit){for(var se=timeUnits.indexOf(ie),ne=se-1;ne>=0;--ne)if(oe[ie]){te=oe[ie];break}te=te||ae.none}if(isArray$6(te)){var ue=n.level==null?0:n.level>=0?n.level:te.length+n.level;ue=Math.min(ue,te.length-1),te=te[ue]}}return format(new Date(n.value),te,ee,c)}function getUnitFromValue(n,t){var u=parseDate(n),c=u[monthGetterName(t)]()+1,ee=u[dateGetterName(t)](),te=u[hoursGetterName(t)](),ae=u[minutesGetterName(t)](),ne=u[secondsGetterName(t)](),oe=u[millisecondsGetterName(t)](),ie=oe===0,se=ie&&ne===0,ue=se&&ae===0,le=ue&&te===0,ce=le&&ee===1,de=ce&&c===1;return de?"year":ce?"month":le?"day":ue?"hour":se?"minute":ie?"second":"millisecond"}function getUnitValue(n,t,u){var c=isNumber(n)?parseDate(n):n;switch(t=t||getUnitFromValue(n,u),t){case"year":return c[fullYearGetterName(u)]();case"half-year":return c[monthGetterName(u)]()>=6?1:0;case"quarter":return Math.floor((c[monthGetterName(u)]()+1)/4);case"month":return c[monthGetterName(u)]();case"day":return c[dateGetterName(u)]();case"half-day":return c[hoursGetterName(u)]()/24;case"hour":return c[hoursGetterName(u)]();case"minute":return c[minutesGetterName(u)]();case"second":return c[secondsGetterName(u)]();case"millisecond":return c[millisecondsGetterName(u)]()}}function fullYearGetterName(n){return n?"getUTCFullYear":"getFullYear"}function monthGetterName(n){return n?"getUTCMonth":"getMonth"}function dateGetterName(n){return n?"getUTCDate":"getDate"}function hoursGetterName(n){return n?"getUTCHours":"getHours"}function minutesGetterName(n){return n?"getUTCMinutes":"getMinutes"}function secondsGetterName(n){return n?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(n){return n?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(n){return n?"setUTCFullYear":"setFullYear"}function monthSetterName(n){return n?"setUTCMonth":"setMonth"}function dateSetterName(n){return n?"setUTCDate":"setDate"}function hoursSetterName(n){return n?"setUTCHours":"setHours"}function minutesSetterName(n){return n?"setUTCMinutes":"setMinutes"}function secondsSetterName(n){return n?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(n){return n?"setUTCMilliseconds":"setMilliseconds"}function addCommas(n){if(!isNumeric(n))return isString(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function toCamelCase(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(u,c){return c.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(n,t,u){var c="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function ee(se){return se&&trim$1(se)?se:"-"}function te(se){return!!(se!=null&&!isNaN(se)&&isFinite(se))}var ae=t==="time",ne=n instanceof Date;if(ae||ne){var oe=ae?parseDate(n):n;if(isNaN(+oe)){if(ne)return"-"}else return format(oe,c,u)}if(t==="ordinal")return isStringSafe(n)?ee(n):isNumber(n)&&te(n)?n+"":"-";var ie=numericToNumber(n);return te(ie)?addCommas(ie):isStringSafe(n)?ee(n):typeof n=="boolean"?n+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(n,t){return"{"+n+(t??"")+"}"};function formatTpl(n,t,u){isArray$6(t)||(t=[t]);var c=t.length;if(!c)return"";for(var ee=t[0].$vars||[],te=0;te<ee.length;te++){var ae=TPL_VAR_ALIAS[te];n=n.replace(wrapVar(ae),wrapVar(ae,0))}for(var ne=0;ne<c;ne++)for(var oe=0;oe<ee.length;oe++){var ie=t[ne][ee[oe]];n=n.replace(wrapVar(TPL_VAR_ALIAS[oe],ne),u?encodeHTML(ie):ie)}return n}function getTooltipMarker(n,t){var u=isString(n)?{color:n,extraCssText:t}:n||{},c=u.color,ee=u.type;t=u.extraCssText;var te=u.renderMode||"html";if(!c)return"";if(te==="html")return ee==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(c)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(c)+";"+(t||"")+'"></span>';var ae=u.markerId||"markerX";return{renderMode:te,content:"{"+ae+"|}  ",style:ee==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:c}:{width:10,height:10,borderRadius:5,backgroundColor:c}}}function convertToColorString(n,t){return t=t||"transparent",isString(n)?n:isObject$3(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}var each$2=each$3,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(n,t,u,c,ee){var te=0,ae=0;c==null&&(c=1/0),ee==null&&(ee=1/0);var ne=0;t.eachChild(function(oe,ie){var se=oe.getBoundingRect(),ue=t.childAt(ie+1),le=ue&&ue.getBoundingRect(),ce,de;if(n==="horizontal"){var fe=se.width+(le?-le.x+se.x:0);ce=te+fe,ce>c||oe.newline?(te=0,ce=fe,ae+=ne+u,ne=se.height):ne=Math.max(ne,se.height)}else{var pe=se.height+(le?-le.y+se.y:0);de=ae+pe,de>ee||oe.newline?(te+=ne+u,ae=0,de=pe,ne=se.width):ne=Math.max(ne,se.width)}oe.newline||(oe.x=te,oe.y=ae,oe.markRedraw(),n==="horizontal"?te=ce+u:ae=de+u)})}curry(boxLayout,"vertical");curry(boxLayout,"horizontal");function getLayoutRect(n,t,u){u=normalizeCssArray(u||0);var c=t.width,ee=t.height,te=parsePercent(n.left,c),ae=parsePercent(n.top,ee),ne=parsePercent(n.right,c),oe=parsePercent(n.bottom,ee),ie=parsePercent(n.width,c),se=parsePercent(n.height,ee),ue=u[2]+u[0],le=u[1]+u[3],ce=n.aspect;switch(isNaN(ie)&&(ie=c-ne-le-te),isNaN(se)&&(se=ee-oe-ue-ae),ce!=null&&(isNaN(ie)&&isNaN(se)&&(ce>c/ee?ie=c*.8:se=ee*.8),isNaN(ie)&&(ie=ce*se),isNaN(se)&&(se=ie/ce)),isNaN(te)&&(te=c-ne-ie-le),isNaN(ae)&&(ae=ee-oe-se-ue),n.left||n.right){case"center":te=c/2-ie/2-u[3];break;case"right":te=c-ie-le;break}switch(n.top||n.bottom){case"middle":case"center":ae=ee/2-se/2-u[0];break;case"bottom":ae=ee-se-ue;break}te=te||0,ae=ae||0,isNaN(ie)&&(ie=c-le-te-(ne||0)),isNaN(se)&&(se=ee-ue-ae-(oe||0));var de=new BoundingRect(te+u[3],ae+u[0],ie,se);return de.margin=u,de}function fetchLayoutMode(n){var t=n.layoutMode||n.constructor.layoutMode;return isObject$3(t)?t:t?{type:t}:null}function mergeLayoutParam(n,t,u){var c=u&&u.ignoreSize;!isArray$6(c)&&(c=[c,c]);var ee=ae(HV_NAMES[0],0),te=ae(HV_NAMES[1],1);ie(HV_NAMES[0],n,ee),ie(HV_NAMES[1],n,te);function ae(se,ue){var le={},ce=0,de={},fe=0,pe=2;if(each$2(se,function(De){de[De]=n[De]}),each$2(se,function(De){ne(t,De)&&(le[De]=de[De]=t[De]),oe(le,De)&&ce++,oe(de,De)&&fe++}),c[ue])return oe(t,se[1])?de[se[2]]=null:oe(t,se[2])&&(de[se[1]]=null),de;if(fe===pe||!ce)return de;if(ce>=pe)return le;for(var me=0;me<se.length;me++){var ge=se[me];if(!ne(le,ge)&&ne(n,ge)){le[ge]=n[ge];break}}return le}function ne(se,ue){return se.hasOwnProperty(ue)}function oe(se,ue){return se[ue]!=null&&se[ue]!=="auto"}function ie(se,ue,le){each$2(se,function(ce){ue[ce]=le[ce]})}}function getLayoutParams(n){return copyLayoutParams({},n)}function copyLayoutParams(n,t){return t&&n&&each$2(LOCATION_PARAMS,function(u){t.hasOwnProperty(u)&&(n[u]=t[u])}),n}var inner$9=makeInner(),ComponentModel=function(n){__extends$1(t,n);function t(u,c,ee){var te=n.call(this,u,c,ee)||this;return te.uid=getUID("ec_cpt_model"),te}return t.prototype.init=function(u,c,ee){this.mergeDefaultAndTheme(u,ee)},t.prototype.mergeDefaultAndTheme=function(u,c){var ee=fetchLayoutMode(this),te=ee?getLayoutParams(u):{},ae=c.getTheme();merge$2(u,ae.get(this.mainType)),merge$2(u,this.getDefaultOption()),ee&&mergeLayoutParam(u,te,ee)},t.prototype.mergeOption=function(u,c){merge$2(this.option,u,!0);var ee=fetchLayoutMode(this);ee&&mergeLayoutParam(this.option,u,ee)},t.prototype.optionUpdated=function(u,c){},t.prototype.getDefaultOption=function(){var u=this.constructor;if(!isExtendedClass(u))return u.defaultOption;var c=inner$9(this);if(!c.defaultOption){for(var ee=[],te=u;te;){var ae=te.prototype.defaultOption;ae&&ee.push(ae),te=te.superClass}for(var ne={},oe=ee.length-1;oe>=0;oe--)ne=merge$2(ne,ee[oe],!0);c.defaultOption=ne}return c.defaultOption},t.prototype.getReferringComponents=function(u,c){var ee=u+"Index",te=u+"Id";return queryReferringComponents(this.ecModel,u,{index:this.get(ee,!0),id:this.get(te,!0)},c)},t.prototype.getBoxLayoutParams=function(){var u=this;return{left:u.get("left"),top:u.get("top"),right:u.get("right"),bottom:u.get("bottom"),width:u.get("width"),height:u.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(u){this.option.zlevel=u},t.protoInitialize=function(){var u=t.prototype;u.type="component",u.id="",u.name="",u.mainType="",u.subType="",u.componentIndex=0}(),t}(Model);mountExtend(ComponentModel,Model);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(n){var t=[];return each$3(ComponentModel.getClassesByMainType(n),function(u){t=t.concat(u.dependencies||u.prototype.dependencies||[])}),t=map$6(t,function(u){return parseClassType(u).main}),n!=="dataset"&&indexOf$5(t,"dataset")<=0&&t.unshift("dataset"),t}var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(n){innerGlobalModel(n).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(n,t,u){var c={},ee=querySeriesUpstreamDatasetModel(t);if(!ee||!n)return c;var te=[],ae=[],ne=t.ecModel,oe=innerGlobalModel(ne).datasetMap,ie=ee.uid+"_"+u.seriesLayoutBy,se,ue;n=n.slice(),each$3(n,function(fe,pe){var me=isObject$3(fe)?fe:n[pe]={name:fe};me.type==="ordinal"&&se==null&&(se=pe,ue=de(me)),c[me.name]=[]});var le=oe.get(ie)||oe.set(ie,{categoryWayDim:ue,valueWayDim:0});each$3(n,function(fe,pe){var me=fe.name,ge=de(fe);if(se==null){var De=le.valueWayDim;ce(c[me],De,ge),ce(ae,De,ge),le.valueWayDim+=ge}else if(se===pe)ce(c[me],0,ge),ce(te,0,ge);else{var De=le.categoryWayDim;ce(c[me],De,ge),ce(ae,De,ge),le.categoryWayDim+=ge}});function ce(fe,pe,me){for(var ge=0;ge<me;ge++)fe.push(pe+ge)}function de(fe){var pe=fe.dimsDef;return pe?pe.length:1}return te.length&&(c.itemName=te),ae.length&&(c.seriesName=ae),c}function querySeriesUpstreamDatasetModel(n){var t=n.get("data",!0);if(!t)return queryReferringComponents(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:queryReferringComponents(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(n,t){return doGuessOrdinal(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function doGuessOrdinal(n,t,u,c,ee,te){var ae,ne=5;if(isTypedArray(n))return BE_ORDINAL.Not;var oe,ie;if(c){var se=c[te];isObject$3(se)?(oe=se.name,ie=se.type):isString(se)&&(oe=se)}if(ie!=null)return ie==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(t===SOURCE_FORMAT_ARRAY_ROWS){var ue=n;if(u===SERIES_LAYOUT_BY_ROW){for(var le=ue[te],ce=0;ce<(le||[]).length&&ce<ne;ce++)if((ae=Ce(le[ee+ce]))!=null)return ae}else for(var ce=0;ce<ue.length&&ce<ne;ce++){var de=ue[ee+ce];if(de&&(ae=Ce(de[te]))!=null)return ae}}else if(t===SOURCE_FORMAT_OBJECT_ROWS){var fe=n;if(!oe)return BE_ORDINAL.Not;for(var ce=0;ce<fe.length&&ce<ne;ce++){var pe=fe[ce];if(pe&&(ae=Ce(pe[oe]))!=null)return ae}}else if(t===SOURCE_FORMAT_KEYED_COLUMNS){var me=n;if(!oe)return BE_ORDINAL.Not;var le=me[oe];if(!le||isTypedArray(le))return BE_ORDINAL.Not;for(var ce=0;ce<le.length&&ce<ne;ce++)if((ae=Ce(le[ce]))!=null)return ae}else if(t===SOURCE_FORMAT_ORIGINAL)for(var ge=n,ce=0;ce<ge.length&&ce<ne;ce++){var pe=ge[ce],De=getDataItemValue(pe);if(!isArray$6(De))return BE_ORDINAL.Not;if((ae=Ce(De[te]))!=null)return ae}function Ce(we){var xe=isString(we);if(we!=null&&Number.isFinite(Number(we))&&we!=="")return xe?BE_ORDINAL.Might:BE_ORDINAL.Not;if(xe&&we!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function concatInternalOptions(n,t,u){var c=internalOptionCreatorMap.get(t);if(!c)return u;var ee=c(n);return ee?u.concat(ee):u}var innerColor=makeInner();makeInner();var PaletteMixin=function(){function n(){}return n.prototype.getColorFromPalette=function(t,u,c){var ee=normalizeToArray(this.get("color",!0)),te=this.get("colorLayer",!0);return getFromPalette(this,innerColor,ee,te,t,u,c)},n.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},n}();function getNearestPalette(n,t){for(var u=n.length,c=0;c<u;c++)if(n[c].length>t)return n[c];return n[u-1]}function getFromPalette(n,t,u,c,ee,te,ae){te=te||n;var ne=t(te),oe=ne.paletteIdx||0,ie=ne.paletteNameMap=ne.paletteNameMap||{};if(ie.hasOwnProperty(ee))return ie[ee];var se=ae==null||!c?u:getNearestPalette(c,ae);if(se=se||u,!(!se||!se.length)){var ue=se[oe];return ee&&(ie[ee]=ue),ne.paletteIdx=(oe+1)%se.length,ue}}function clearPalette(n,t){t(n).paletteIdx=0,t(n).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(n){__extends$1(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(u,c,ee,te,ae,ne){te=te||{},this.option=null,this._theme=new Model(te),this._locale=new Model(ae),this._optionManager=ne},t.prototype.setOption=function(u,c,ee){var te=normalizeSetOptionInput(c);this._optionManager.setOption(u,ee,te),this._resetOption(null,te)},t.prototype.resetOption=function(u,c){return this._resetOption(u,normalizeSetOptionInput(c))},t.prototype._resetOption=function(u,c){var ee=!1,te=this._optionManager;if(!u||u==="recreate"){var ae=te.mountOption(u==="recreate");!this.option||u==="recreate"?initBase(this,ae):(this.restoreData(),this._mergeOption(ae,c)),ee=!0}if((u==="timeline"||u==="media")&&this.restoreData(),!u||u==="recreate"||u==="timeline"){var ne=te.getTimelineOption(this);ne&&(ee=!0,this._mergeOption(ne,c))}if(!u||u==="recreate"||u==="media"){var oe=te.getMediaOption(this);oe.length&&each$3(oe,function(ie){ee=!0,this._mergeOption(ie,c)},this)}return ee},t.prototype.mergeOption=function(u){this._mergeOption(u,null)},t.prototype._mergeOption=function(u,c){var ee=this.option,te=this._componentsMap,ae=this._componentsCount,ne=[],oe=createHashMap(),ie=c&&c.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$3(u,function(ue,le){ue!=null&&(ComponentModel.hasClass(le)?le&&(ne.push(le),oe.set(le,!0)):ee[le]=ee[le]==null?clone$3(ue):merge$2(ee[le],ue,!0))}),ie&&ie.each(function(ue,le){ComponentModel.hasClass(le)&&!oe.get(le)&&(ne.push(le),oe.set(le,!0))}),ComponentModel.topologicalTravel(ne,ComponentModel.getAllClassMainTypes(),se,this);function se(ue){var le=concatInternalOptions(this,ue,normalizeToArray(u[ue])),ce=te.get(ue),de=ce?ie&&ie.get(ue)?"replaceMerge":"normalMerge":"replaceAll",fe=mappingToExists(ce,le,de);setComponentTypeToKeyInfo(fe,ue,ComponentModel),ee[ue]=null,te.set(ue,null),ae.set(ue,0);var pe=[],me=[],ge=0,De;each$3(fe,function(Ce,we){var xe=Ce.existing,Re=Ce.newOption;if(!Re)xe&&(xe.mergeOption({},this),xe.optionUpdated({},!1));else{var Be=ue==="series",Se=ComponentModel.getClass(ue,Ce.keyInfo.subType,!Be);if(!Se)return;if(ue==="tooltip"){if(De)return;De=!0}if(xe&&xe.constructor===Se)xe.name=Ce.keyInfo.name,xe.mergeOption(Re,this),xe.optionUpdated(Re,!1);else{var Te=extend({componentIndex:we},Ce.keyInfo);xe=new Se(Re,this,this,Te),extend(xe,Te),Ce.brandNew&&(xe.__requireNewView=!0),xe.init(Re,this,this),xe.optionUpdated(null,!0)}}xe?(pe.push(xe.option),me.push(xe),ge++):(pe.push(void 0),me.push(void 0))},this),ee[ue]=pe,te.set(ue,me),ae.set(ue,ge),ue==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},t.prototype.getOption=function(){var u=clone$3(this.option);return each$3(u,function(c,ee){if(ComponentModel.hasClass(ee)){for(var te=normalizeToArray(c),ae=te.length,ne=!1,oe=ae-1;oe>=0;oe--)te[oe]&&!isComponentIdInternal(te[oe])?ne=!0:(te[oe]=null,!ne&&ae--);te.length=ae,u[ee]=te}}),delete u[OPTION_INNER_KEY],u},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(u){this._payload=u},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(u,c){var ee=this._componentsMap.get(u);if(ee){var te=ee[c||0];if(te)return te;if(c==null){for(var ae=0;ae<ee.length;ae++)if(ee[ae])return ee[ae]}}},t.prototype.queryComponents=function(u){var c=u.mainType;if(!c)return[];var ee=u.index,te=u.id,ae=u.name,ne=this._componentsMap.get(c);if(!ne||!ne.length)return[];var oe;return ee!=null?(oe=[],each$3(normalizeToArray(ee),function(ie){ne[ie]&&oe.push(ne[ie])})):te!=null?oe=queryByIdOrName("id",te,ne):ae!=null?oe=queryByIdOrName("name",ae,ne):oe=filter(ne,function(ie){return!!ie}),filterBySubType(oe,u)},t.prototype.findComponents=function(u){var c=u.query,ee=u.mainType,te=ne(c),ae=te?this.queryComponents(te):filter(this._componentsMap.get(ee),function(ie){return!!ie});return oe(filterBySubType(ae,u));function ne(ie){var se=ee+"Index",ue=ee+"Id",le=ee+"Name";return ie&&(ie[se]!=null||ie[ue]!=null||ie[le]!=null)?{mainType:ee,index:ie[se],id:ie[ue],name:ie[le]}:null}function oe(ie){return u.filter?filter(ie,u.filter):ie}},t.prototype.eachComponent=function(u,c,ee){var te=this._componentsMap;if(isFunction(u)){var ae=c,ne=u;te.each(function(ue,le){for(var ce=0;ue&&ce<ue.length;ce++){var de=ue[ce];de&&ne.call(ae,le,de,de.componentIndex)}})}else for(var oe=isString(u)?te.get(u):isObject$3(u)?this.findComponents(u):null,ie=0;oe&&ie<oe.length;ie++){var se=oe[ie];se&&c.call(ee,se,se.componentIndex)}},t.prototype.getSeriesByName=function(u){var c=convertOptionIdName(u,null);return filter(this._componentsMap.get("series"),function(ee){return!!ee&&c!=null&&ee.name===c})},t.prototype.getSeriesByIndex=function(u){return this._componentsMap.get("series")[u]},t.prototype.getSeriesByType=function(u){return filter(this._componentsMap.get("series"),function(c){return!!c&&c.subType===u})},t.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(u){return!!u})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(u,c){assertSeriesInitialized(this),each$3(this._seriesIndices,function(ee){var te=this._componentsMap.get("series")[ee];u.call(c,te,ee)},this)},t.prototype.eachRawSeries=function(u,c){each$3(this._componentsMap.get("series"),function(ee){ee&&u.call(c,ee,ee.componentIndex)})},t.prototype.eachSeriesByType=function(u,c,ee){assertSeriesInitialized(this),each$3(this._seriesIndices,function(te){var ae=this._componentsMap.get("series")[te];ae.subType===u&&c.call(ee,ae,te)},this)},t.prototype.eachRawSeriesByType=function(u,c,ee){return each$3(this.getSeriesByType(u),c,ee)},t.prototype.isSeriesFiltered=function(u){return assertSeriesInitialized(this),this._seriesIndicesMap.get(u.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(u,c){assertSeriesInitialized(this);var ee=[];each$3(this._seriesIndices,function(te){var ae=this._componentsMap.get("series")[te];u.call(c,ae,te)&&ee.push(te)},this),this._seriesIndices=ee,this._seriesIndicesMap=createHashMap(ee)},t.prototype.restoreData=function(u){reCreateSeriesIndices(this);var c=this._componentsMap,ee=[];c.each(function(te,ae){ComponentModel.hasClass(ae)&&ee.push(ae)}),ComponentModel.topologicalTravel(ee,ComponentModel.getAllClassMainTypes(),function(te){each$3(c.get(te),function(ae){ae&&(te!=="series"||!isNotTargetSeries(ae,u))&&ae.restoreData()})})},t.internalField=function(){reCreateSeriesIndices=function(u){var c=u._seriesIndices=[];each$3(u._componentsMap.get("series"),function(ee){ee&&c.push(ee.componentIndex)}),u._seriesIndicesMap=createHashMap(c)},assertSeriesInitialized=function(u){},initBase=function(u,c){u.option={},u.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,u._componentsMap=createHashMap({series:[]}),u._componentsCount=createHashMap();var ee=c.aria;isObject$3(ee)&&ee.enabled==null&&(ee.enabled=!0),mergeTheme(c,u._theme.option),merge$2(c,globalDefault,!1),u._mergeOption(c,null)}}(),t}(Model);function isNotTargetSeries(n,t){if(t){var u=t.seriesIndex,c=t.seriesId,ee=t.seriesName;return u!=null&&n.componentIndex!==u||c!=null&&n.id!==c||ee!=null&&n.name!==ee}}function mergeTheme(n,t){var u=n.color&&!n.colorLayer;each$3(t,function(c,ee){ee==="colorLayer"&&u||ComponentModel.hasClass(ee)||(typeof c=="object"?n[ee]=n[ee]?merge$2(n[ee],c,!1):clone$3(c):n[ee]==null&&(n[ee]=c))})}function queryByIdOrName(n,t,u){if(isArray$6(t)){var c=createHashMap();return each$3(t,function(te){if(te!=null){var ae=convertOptionIdName(te,null);ae!=null&&c.set(te,!0)}}),filter(u,function(te){return te&&c.get(te[n])})}else{var ee=convertOptionIdName(t,null);return filter(u,function(te){return te&&ee!=null&&te[n]===ee})}}function filterBySubType(n,t){return t.hasOwnProperty("subType")?filter(n,function(u){return u&&u.subType===t.subType}):n}function normalizeSetOptionInput(n){var t=createHashMap();return n&&each$3(normalizeToArray(n.replaceMerge),function(u){t.set(u,!0)}),{replaceMergeMainTypeMap:t}}mixin(GlobalModel,PaletteMixin);var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function n(t){each$3(availableMethods,function(u){this[u]=bind$4(t[u],t)},this)}return n}(),coordinateSystemCreators={},CoordinateSystemManager=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,u){var c=[];each$3(coordinateSystemCreators,function(ee,te){var ae=ee.create(t,u);c=c.concat(ae||[])}),this._coordinateSystems=c},n.prototype.update=function(t,u){each$3(this._coordinateSystems,function(c){c.update&&c.update(t,u)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,u){coordinateSystemCreators[t]=u},n.get=function(t){return coordinateSystemCreators[t]},n}(),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,u,c){t&&(each$3(normalizeToArray(t.series),function(ae){ae&&ae.data&&isTypedArray(ae.data)&&setAsPrimitive(ae.data)}),each$3(normalizeToArray(t.dataset),function(ae){ae&&ae.source&&isTypedArray(ae.source)&&setAsPrimitive(ae.source)})),t=clone$3(t);var ee=this._optionBackup,te=parseRawOption(t,u,!ee);this._newBaseOption=te.baseOption,ee?(te.timelineOptions.length&&(ee.timelineOptions=te.timelineOptions),te.mediaList.length&&(ee.mediaList=te.mediaList),te.mediaDefault&&(ee.mediaDefault=te.mediaDefault)):this._optionBackup=te},n.prototype.mountOption=function(t){var u=this._optionBackup;return this._timelineOptions=u.timelineOptions,this._mediaList=u.mediaList,this._mediaDefault=u.mediaDefault,this._currentMediaIndices=[],clone$3(t?u.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var u,c=this._timelineOptions;if(c.length){var ee=t.getComponent("timeline");ee&&(u=clone$3(c[ee.getCurrentIndex()]))}return u},n.prototype.getMediaOption=function(t){var u=this._api.getWidth(),c=this._api.getHeight(),ee=this._mediaList,te=this._mediaDefault,ae=[],ne=[];if(!ee.length&&!te)return ne;for(var oe=0,ie=ee.length;oe<ie;oe++)applyMediaQuery(ee[oe].query,u,c)&&ae.push(oe);return!ae.length&&te&&(ae=[-1]),ae.length&&!indicesEquals(ae,this._currentMediaIndices)&&(ne=map$6(ae,function(se){return clone$3(se===-1?te.option:ee[se].option)})),this._currentMediaIndices=ae,ne},n}();function parseRawOption(n,t,u){var c=[],ee,te,ae=n.baseOption,ne=n.timeline,oe=n.options,ie=n.media,se=!!n.media,ue=!!(oe||ne||ae&&ae.timeline);ae?(te=ae,te.timeline||(te.timeline=ne)):((ue||se)&&(n.options=n.media=null),te=n),se&&isArray$6(ie)&&each$3(ie,function(ce){ce&&ce.option&&(ce.query?c.push(ce):ee||(ee=ce))}),le(te),each$3(oe,function(ce){return le(ce)}),each$3(c,function(ce){return le(ce.option)});function le(ce){each$3(t,function(de){de(ce,u)})}return{baseOption:te,timelineOptions:oe||[],mediaDefault:ee,mediaList:c}}function applyMediaQuery(n,t,u){var c={width:t,height:u,aspectratio:t/u},ee=!0;return each$3(n,function(te,ae){var ne=ae.match(QUERY_REG);if(!(!ne||!ne[1]||!ne[2])){var oe=ne[1],ie=ne[2].toLowerCase();compare(c[ie],te,oe)||(ee=!1)}}),ee}function compare(n,t,u){return u==="min"?n>=t:u==="max"?n<=t:n===t}function indicesEquals(n,t){return n.join(",")===t.join(",")}var each$1=each$3,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(n){var t=n&&n.itemStyle;if(t)for(var u=0,c=POSSIBLE_STYLES.length;u<c;u++){var ee=POSSIBLE_STYLES[u],te=t.normal,ae=t.emphasis;te&&te[ee]&&(n[ee]=n[ee]||{},n[ee].normal?merge$2(n[ee].normal,te[ee]):n[ee].normal=te[ee],te[ee]=null),ae&&ae[ee]&&(n[ee]=n[ee]||{},n[ee].emphasis?merge$2(n[ee].emphasis,ae[ee]):n[ee].emphasis=ae[ee],ae[ee]=null)}}function convertNormalEmphasis(n,t,u){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var c=n[t].normal,ee=n[t].emphasis;c&&(u?(n[t].normal=n[t].emphasis=null,defaults(n[t],c)):n[t]=c),ee&&(n.emphasis=n.emphasis||{},n.emphasis[t]=ee,ee.focus&&(n.emphasis.focus=ee.focus),ee.blurScope&&(n.emphasis.blurScope=ee.blurScope))}}function removeEC3NormalStatus(n){convertNormalEmphasis(n,"itemStyle"),convertNormalEmphasis(n,"lineStyle"),convertNormalEmphasis(n,"areaStyle"),convertNormalEmphasis(n,"label"),convertNormalEmphasis(n,"labelLine"),convertNormalEmphasis(n,"upperLabel"),convertNormalEmphasis(n,"edgeLabel")}function compatTextStyle(n,t){var u=isObject$2(n)&&n[t],c=isObject$2(u)&&u.textStyle;if(c)for(var ee=0,te=TEXT_STYLE_OPTIONS.length;ee<te;ee++){var ae=TEXT_STYLE_OPTIONS[ee];c.hasOwnProperty(ae)&&(u[ae]=c[ae])}}function compatEC3CommonStyles(n){n&&(removeEC3NormalStatus(n),compatTextStyle(n,"label"),n.emphasis&&compatTextStyle(n.emphasis,"label"))}function processSeries(n){if(isObject$2(n)){compatEC2ItemStyle(n),removeEC3NormalStatus(n),compatTextStyle(n,"label"),compatTextStyle(n,"upperLabel"),compatTextStyle(n,"edgeLabel"),n.emphasis&&(compatTextStyle(n.emphasis,"label"),compatTextStyle(n.emphasis,"upperLabel"),compatTextStyle(n.emphasis,"edgeLabel"));var t=n.markPoint;t&&(compatEC2ItemStyle(t),compatEC3CommonStyles(t));var u=n.markLine;u&&(compatEC2ItemStyle(u),compatEC3CommonStyles(u));var c=n.markArea;c&&compatEC3CommonStyles(c);var ee=n.data;if(n.type==="graph"){ee=ee||n.nodes;var te=n.links||n.edges;if(te&&!isTypedArray(te))for(var ae=0;ae<te.length;ae++)compatEC3CommonStyles(te[ae]);each$3(n.categories,function(ie){removeEC3NormalStatus(ie)})}if(ee&&!isTypedArray(ee))for(var ae=0;ae<ee.length;ae++)compatEC3CommonStyles(ee[ae]);if(t=n.markPoint,t&&t.data)for(var ne=t.data,ae=0;ae<ne.length;ae++)compatEC3CommonStyles(ne[ae]);if(u=n.markLine,u&&u.data)for(var oe=u.data,ae=0;ae<oe.length;ae++)isArray$6(oe[ae])?(compatEC3CommonStyles(oe[ae][0]),compatEC3CommonStyles(oe[ae][1])):compatEC3CommonStyles(oe[ae]);n.type==="gauge"?(compatTextStyle(n,"axisLabel"),compatTextStyle(n,"title"),compatTextStyle(n,"detail")):n.type==="treemap"?(convertNormalEmphasis(n.breadcrumb,"itemStyle"),each$3(n.levels,function(ie){removeEC3NormalStatus(ie)})):n.type==="tree"&&removeEC3NormalStatus(n.leaves)}}function toArr(n){return isArray$6(n)?n:n?[n]:[]}function toObj(n){return(isArray$6(n)?n[0]:n)||{}}function globalCompatStyle(n,t){each$1(toArr(n.series),function(c){isObject$2(c)&&processSeries(c)});var u=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&u.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$1(u,function(c){each$1(toArr(n[c]),function(ee){ee&&(compatTextStyle(ee,"axisLabel"),compatTextStyle(ee.axisPointer,"label"))})}),each$1(toArr(n.parallel),function(c){var ee=c&&c.parallelAxisDefault;compatTextStyle(ee,"axisLabel"),compatTextStyle(ee&&ee.axisPointer,"label")}),each$1(toArr(n.calendar),function(c){convertNormalEmphasis(c,"itemStyle"),compatTextStyle(c,"dayLabel"),compatTextStyle(c,"monthLabel"),compatTextStyle(c,"yearLabel")}),each$1(toArr(n.radar),function(c){compatTextStyle(c,"name"),c.name&&c.axisName==null&&(c.axisName=c.name,delete c.name),c.nameGap!=null&&c.axisNameGap==null&&(c.axisNameGap=c.nameGap,delete c.nameGap)}),each$1(toArr(n.geo),function(c){isObject$2(c)&&(compatEC3CommonStyles(c),each$1(toArr(c.regions),function(ee){compatEC3CommonStyles(ee)}))}),each$1(toArr(n.timeline),function(c){compatEC3CommonStyles(c),convertNormalEmphasis(c,"label"),convertNormalEmphasis(c,"itemStyle"),convertNormalEmphasis(c,"controlStyle",!0);var ee=c.data;isArray$6(ee)&&each$3(ee,function(te){isObject$3(te)&&(convertNormalEmphasis(te,"label"),convertNormalEmphasis(te,"itemStyle"))})}),each$1(toArr(n.toolbox),function(c){convertNormalEmphasis(c,"iconStyle"),each$1(c.feature,function(ee){convertNormalEmphasis(ee,"iconStyle")})}),compatTextStyle(toObj(n.axisPointer),"label"),compatTextStyle(toObj(n.tooltip).axisPointer,"label")}function get$1(n,t){for(var u=t.split(","),c=n,ee=0;ee<u.length&&(c=c&&c[u[ee]],c!=null);ee++);return c}function set$4(n,t,u,c){for(var ee=t.split(","),te=n,ae,ne=0;ne<ee.length-1;ne++)ae=ee[ne],te[ae]==null&&(te[ae]={}),te=te[ae];te[ee[ne]]==null&&(te[ee[ne]]=u)}function compatLayoutProperties(n){n&&each$3(LAYOUT_PROPERTIES,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(n){var t=n&&n.itemStyle;if(t)for(var u=0;u<BAR_ITEM_STYLE_MAP.length;u++){var c=BAR_ITEM_STYLE_MAP[u][1],ee=BAR_ITEM_STYLE_MAP[u][0];t[c]!=null&&(t[ee]=t[c])}}function compatPieLabel(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function compatSunburstState(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function compatGraphFocus(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function traverseTree(n,t){if(n)for(var u=0;u<n.length;u++)t(n[u]),n[u]&&traverseTree(n[u].children,t)}function globalBackwardCompat(n,t){globalCompatStyle(n,t),n.series=normalizeToArray(n.series),each$3(n.series,function(u){if(isObject$3(u)){var c=u.type;if(c==="line")u.clipOverflow!=null&&(u.clip=u.clipOverflow);else if(c==="pie"||c==="gauge"){u.clockWise!=null&&(u.clockwise=u.clockWise),compatPieLabel(u.label);var ee=u.data;if(ee&&!isTypedArray(ee))for(var te=0;te<ee.length;te++)compatPieLabel(ee[te]);u.hoverOffset!=null&&(u.emphasis=u.emphasis||{},(u.emphasis.scaleSize=null)&&(u.emphasis.scaleSize=u.hoverOffset))}else if(c==="gauge"){var ae=get$1(u,"pointer.color");ae!=null&&set$4(u,"itemStyle.color",ae)}else if(c==="bar"){compatBarItemStyle(u),compatBarItemStyle(u.backgroundStyle),compatBarItemStyle(u.emphasis);var ee=u.data;if(ee&&!isTypedArray(ee))for(var te=0;te<ee.length;te++)typeof ee[te]=="object"&&(compatBarItemStyle(ee[te]),compatBarItemStyle(ee[te]&&ee[te].emphasis))}else if(c==="sunburst"){var ne=u.highlightPolicy;ne&&(u.emphasis=u.emphasis||{},u.emphasis.focus||(u.emphasis.focus=ne)),compatSunburstState(u),traverseTree(u.data,compatSunburstState)}else c==="graph"||c==="sankey"?compatGraphFocus(u):c==="map"&&(u.mapType&&!u.map&&(u.map=u.mapType),u.mapLocation&&defaults(u,u.mapLocation));u.hoverAnimation!=null&&(u.emphasis=u.emphasis||{},u.emphasis&&u.emphasis.scale==null&&(u.emphasis.scale=u.hoverAnimation)),compatLayoutProperties(u)}}),n.dataRange&&(n.visualMap=n.dataRange),each$3(COMPATITABLE_COMPONENTS,function(u){var c=n[u];c&&(isArray$6(c)||(c=[c]),each$3(c,function(ee){compatLayoutProperties(ee)}))})}function dataStack(n){var t=createHashMap();n.eachSeries(function(u){var c=u.get("stack");if(c){var ee=t.get(c)||t.set(c,[]),te=u.getData(),ae={stackResultDimension:te.getCalculationInfo("stackResultDimension"),stackedOverDimension:te.getCalculationInfo("stackedOverDimension"),stackedDimension:te.getCalculationInfo("stackedDimension"),stackedByDimension:te.getCalculationInfo("stackedByDimension"),isStackedByIndex:te.getCalculationInfo("isStackedByIndex"),data:te,seriesModel:u};if(!ae.stackedDimension||!(ae.isStackedByIndex||ae.stackedByDimension))return;ee.length&&te.setCalculationInfo("stackedOnSeries",ee[ee.length-1].seriesModel),ee.push(ae)}}),t.each(calculateStack)}function calculateStack(n){each$3(n,function(t,u){var c=[],ee=[NaN,NaN],te=[t.stackResultDimension,t.stackedOverDimension],ae=t.data,ne=t.isStackedByIndex,oe=t.seriesModel.get("stackStrategy")||"samesign";ae.modify(te,function(ie,se,ue){var le=ae.get(t.stackedDimension,ue);if(isNaN(le))return ee;var ce,de;ne?de=ae.getRawIndex(ue):ce=ae.get(t.stackedByDimension,ue);for(var fe=NaN,pe=u-1;pe>=0;pe--){var me=n[pe];if(ne||(de=me.data.rawIndexOf(me.stackedByDimension,ce)),de>=0){var ge=me.data.getByRawIndex(me.stackResultDimension,de);if(oe==="all"||oe==="positive"&&ge>0||oe==="negative"&&ge<0||oe==="samesign"&&le>=0&&ge>0||oe==="samesign"&&le<=0&&ge<0){le=addSafe(le,ge),fe=ge;break}}}return c[0]=le,c[1]=fe,c})})}var SourceImpl=function(){function n(t){this.data=t.data||(t.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=t.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=t.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var u=this.dimensionsDefine=t.dimensionsDefine;if(u)for(var c=0;c<u.length;c++){var ee=u[c];ee.type==null&&guessOrdinal(this,c)===BE_ORDINAL.Must&&(ee.type="ordinal")}}return n}();function isSourceInstance(n){return n instanceof SourceImpl}function createSource(n,t,u){u=u||detectSourceFormat(n);var c=t.seriesLayoutBy,ee=determineSourceDimensions(n,u,c,t.sourceHeader,t.dimensions),te=new SourceImpl({data:n,sourceFormat:u,seriesLayoutBy:c,dimensionsDefine:ee.dimensionsDefine,startIndex:ee.startIndex,dimensionsDetectedCount:ee.dimensionsDetectedCount,metaRawOption:clone$3(t)});return te}function createSourceFromSeriesDataOption(n){return new SourceImpl({data:n,sourceFormat:isTypedArray(n)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(n){return new SourceImpl({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:clone$3(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function detectSourceFormat(n){var t=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(n))t=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$6(n)){n.length===0&&(t=SOURCE_FORMAT_ARRAY_ROWS);for(var u=0,c=n.length;u<c;u++){var ee=n[u];if(ee!=null){if(isArray$6(ee)||isTypedArray(ee)){t=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(ee)){t=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(n)){for(var te in n)if(hasOwn(n,te)&&isArrayLike(n[te])){t=SOURCE_FORMAT_KEYED_COLUMNS;break}}return t}function determineSourceDimensions(n,t,u,c,ee){var te,ae;if(!n)return{dimensionsDefine:normalizeDimensionsOption(ee),startIndex:ae,dimensionsDetectedCount:te};if(t===SOURCE_FORMAT_ARRAY_ROWS){var ne=n;c==="auto"||c==null?arrayRowsTravelFirst(function(ie){ie!=null&&ie!=="-"&&(isString(ie)?ae==null&&(ae=1):ae=0)},u,ne,10):ae=isNumber(c)?c:c?1:0,!ee&&ae===1&&(ee=[],arrayRowsTravelFirst(function(ie,se){ee[se]=ie!=null?ie+"":""},u,ne,1/0)),te=ee?ee.length:u===SERIES_LAYOUT_BY_ROW?ne.length:ne[0]?ne[0].length:null}else if(t===SOURCE_FORMAT_OBJECT_ROWS)ee||(ee=objectRowsCollectDimensions(n));else if(t===SOURCE_FORMAT_KEYED_COLUMNS)ee||(ee=[],each$3(n,function(ie,se){ee.push(se)}));else if(t===SOURCE_FORMAT_ORIGINAL){var oe=getDataItemValue(n[0]);te=isArray$6(oe)&&oe.length||1}return{startIndex:ae,dimensionsDefine:normalizeDimensionsOption(ee),dimensionsDetectedCount:te}}function objectRowsCollectDimensions(n){for(var t=0,u;t<n.length&&!(u=n[t++]););if(u)return keys$2(u)}function normalizeDimensionsOption(n){if(n){var t=createHashMap();return map$6(n,function(u,c){u=isObject$3(u)?u:{name:u};var ee={name:u.name,displayName:u.displayName,type:u.type};if(ee.name==null)return ee;ee.name+="",ee.displayName==null&&(ee.displayName=ee.name);var te=t.get(ee.name);return te?ee.name+="-"+te.count++:t.set(ee.name,{count:1}),ee})}}function arrayRowsTravelFirst(n,t,u,c){if(t===SERIES_LAYOUT_BY_ROW)for(var ee=0;ee<u.length&&ee<c;ee++)n(u[ee]?u[ee][0]:null,ee);else for(var te=u[0]||[],ee=0;ee<te.length&&ee<c;ee++)n(te[ee],ee)}function shouldRetrieveDataByName(n){var t=n.sourceFormat;return t===SOURCE_FORMAT_OBJECT_ROWS||t===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function n(t,u){var c=isSourceInstance(t)?t:createSourceFromSeriesDataOption(t);this._source=c;var ee=this._data=c.data;c.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=u,this._data=ee),mountMethods(this,ee,c)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,u){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;mountMethods=function(ae,ne,oe){var ie=oe.sourceFormat,se=oe.seriesLayoutBy,ue=oe.startIndex,le=oe.dimensionsDefine,ce=providerMethods[getMethodMapKey(ie,se)];if(extend(ae,ce),ie===SOURCE_FORMAT_TYPED_ARRAY)ae.getItem=u,ae.count=ee,ae.fillStorage=c;else{var de=getRawSourceItemGetter(ie,se);ae.getItem=bind$4(de,null,ne,ue,le);var fe=getRawSourceDataCounter(ie,se);ae.count=bind$4(fe,null,ne,ue,le)}};var u=function(ae,ne){ae=ae-this._offset,ne=ne||[];for(var oe=this._data,ie=this._dimSize,se=ie*ae,ue=0;ue<ie;ue++)ne[ue]=oe[se+ue];return ne},c=function(ae,ne,oe,ie){for(var se=this._data,ue=this._dimSize,le=0;le<ue;le++){for(var ce=ie[le],de=ce[0]==null?1/0:ce[0],fe=ce[1]==null?-1/0:ce[1],pe=ne-ae,me=oe[le],ge=0;ge<pe;ge++){var De=se[ge*ue+le];me[ae+ge]=De,De<de&&(de=De),De>fe&&(fe=De)}ce[0]=de,ce[1]=fe}},ee=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(t={},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:te},t[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:te},t[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(ae){var ne=this._data;each$3(ae,function(oe,ie){for(var se=ne[ie]||(ne[ie]=[]),ue=0;ue<(oe||[]).length;ue++)se.push(oe[ue])})}},t[SOURCE_FORMAT_ORIGINAL]={appendData:te},t[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(ae){this._data=ae},clean:function(){this._offset+=this.count(),this._data=null}},t);function te(ae){for(var ne=0;ne<ae.length;ne++)this._data.push(ae[ne])}}(),n}(),getItemSimply=function(n,t,u,c){return n[c]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(n,t,u,c){return n[c+t]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(n,t,u,c,ee){c+=t;for(var te=ee||[],ae=n,ne=0;ne<ae.length;ne++){var oe=ae[ne];te[ne]=oe?oe[c]:null}return te},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(n,t,u,c,ee){for(var te=ee||[],ae=0;ae<u.length;ae++){var ne=u[ae].name,oe=n[ne];te[ae]=oe?oe[c]:null}return te},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(n,t){var u=rawSourceItemGetterMap[getMethodMapKey(n,t)];return u}var countSimply=function(n,t,u){return n.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(n,t,u){return Math.max(0,n.length-t)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(n,t,u){var c=n[0];return c?Math.max(0,c.length-t):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(n,t,u){var c=u[0].name,ee=n[c];return ee?ee.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(n,t){var u=rawSourceDataCounterMap[getMethodMapKey(n,t)];return u}var getRawValueSimply=function(n,t,u){return n[t]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(n,t,u){return n[u]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(n,t,u){var c=getDataItemValue(n);return c instanceof Array?c[t]:c},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(n){var t=rawSourceValueGetterMap[n];return t}function getMethodMapKey(n,t){return n===SOURCE_FORMAT_ARRAY_ROWS?n+"_"+t:n}function retrieveRawValue(n,t,u){if(n){var c=n.getRawDataItem(t);if(c!=null){var ee=n.getStore(),te=ee.getSource().sourceFormat;if(u!=null){var ae=n.getDimensionIndex(u),ne=ee.getDimensionProperty(ae);return getRawSourceValueGetter(te)(c,ae,ne)}else{var oe=c;return te===SOURCE_FORMAT_ORIGINAL&&(oe=getDataItemValue(c)),oe}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function n(){}return n.prototype.getDataParams=function(t,u){var c=this.getData(u),ee=this.getRawValue(t,u),te=c.getRawIndex(t),ae=c.getName(t),ne=c.getRawDataItem(t),oe=c.getItemVisual(t,"style"),ie=oe&&oe[c.getItemVisual(t,"drawType")||"fill"],se=oe&&oe.stroke,ue=this.mainType,le=ue==="series",ce=c.userOutput&&c.userOutput.get();return{componentType:ue,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:le?this.subType:null,seriesIndex:this.seriesIndex,seriesId:le?this.id:null,seriesName:le?this.name:null,name:ae,dataIndex:te,data:ne,dataType:u,value:ee,color:ie,borderColor:se,dimensionNames:ce?ce.fullDimensions:null,encode:ce?ce.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,u,c,ee,te,ae){u=u||"normal";var ne=this.getData(c),oe=this.getDataParams(t,c);if(ae&&(oe.value=ae.interpolatedValue),ee!=null&&isArray$6(oe.value)&&(oe.value=oe.value[ee]),!te){var ie=ne.getItemModel(t);te=ie.get(u==="normal"?["label","formatter"]:[u,"label","formatter"])}if(isFunction(te))return oe.status=u,oe.dimensionIndex=ee,te(oe);if(isString(te)){var se=formatTpl(te,oe);return se.replace(DIMENSION_LABEL_REG,function(ue,le){var ce=le.length,de=le;de.charAt(0)==="["&&de.charAt(ce-1)==="]"&&(de=+de.slice(1,ce-1));var fe=retrieveRawValue(ne,t,de);if(ae&&isArray$6(ae.interpolatedValue)){var pe=ne.getDimensionIndex(de);pe>=0&&(fe=ae.interpolatedValue[pe])}return fe!=null?fe+"":""})}},n.prototype.getRawValue=function(t,u){return retrieveRawValue(this.getData(u),t)},n.prototype.formatTooltip=function(t,u,c){},n}();function normalizeTooltipFormatResult(n){var t,u;return isObject$3(n)?n.type&&(u=n):t=n,{text:t,frag:u}}function createTask(n){return new Task(n)}var Task=function(){function n(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var u=this._upstream,c=t&&t.skip;if(this._dirty&&u){var ee=this.context;ee.data=ee.outputData=u.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var te;this._plan&&!c&&(te=this._plan(this.context));var ae=se(this._modBy),ne=this._modDataCount||0,oe=se(t&&t.modBy),ie=t&&t.modDataCount||0;(ae!==oe||ne!==ie)&&(te="reset");function se(ge){return!(ge>=1)&&(ge=1),ge}var ue;(this._dirty||te==="reset")&&(this._dirty=!1,ue=this._doReset(c)),this._modBy=oe,this._modDataCount=ie;var le=t&&t.step;if(u?this._dueEnd=u._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var ce=this._dueIndex,de=Math.min(le!=null?this._dueIndex+le:1/0,this._dueEnd);if(!c&&(ue||ce<de)){var fe=this._progress;if(isArray$6(fe))for(var pe=0;pe<fe.length;pe++)this._doProgress(fe[pe],ce